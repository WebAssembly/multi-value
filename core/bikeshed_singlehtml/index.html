
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>WebAssembly 1.0</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="index.html#document-index">WebAssembly 1.0</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="webassembly-specification">
<h1>WebAssembly Specification</h1>
<p>Release 1.0 + multiple values (Draft, last updated Apr 15, 2019)</p>
<div class="toctree-wrapper compound">
<span id="document-intro/index"></span><div class="section" id="introduction">
<span id="intro"></span><h2>Introduction</h2>
<div class="toctree-wrapper compound">
<span id="document-intro/introduction"></span><div class="section" id="introduction">
<h3>Introduction</h3>
<p>WebAssembly (abbreviated Wasm <a class="footnote-reference" href="#wasm" id="id1">[1]</a>) is a <em>safe, portable, low-level code format</em>
designed for efficient execution and compact representation.
Its main goal is to enable high performance applications on the Web, but it does not make any Web-specific assumptions or provide Web-specific features, so it can be employed in other environments as well.</p>
<p>WebAssembly is an open standard developed by a <a class="reference external" href="https://www.w3.org/community/webassembly/">W3C Community Group</a>.</p>
<p>This document describes version 1.0 of the <a class="reference internal" href="#scope"><span class="std std-ref">core</span></a> WebAssembly standard.
It is intended that it will be superseded by new incremental releases with additional features in the future.</p>
<div class="section" id="design-goals">
<span id="goals"></span><h4>Design Goals</h4>
<p id="index-0">The design goals of WebAssembly are the following:</p>
<ul class="simple">
<li>Fast, safe, and portable <em>semantics</em>:<ul>
<li><strong>Fast</strong>: executes with near native code performance, taking advantage of capabilities common to all contemporary hardware.</li>
<li><strong>Safe</strong>: code is validated and executes in a memory-safe <a class="footnote-reference" href="#memorysafe" id="id2">[2]</a>, sandboxed environment preventing data corruption or security breaches.</li>
<li><strong>Well-defined</strong>: fully and precisely defines valid programs and their behavior in a way that is easy to reason about informally and formally.</li>
<li><strong>Hardware-independent</strong>: can be compiled on all modern architectures, desktop or mobile devices and embedded systems alike.</li>
<li><strong>Language-independent</strong>: does not privilege any particular language, programming model, or object model.</li>
<li><strong>Platform-independent</strong>: can be embedded in browsers, run as a stand-alone VM, or integrated in other environments.</li>
<li><strong>Open</strong>: programs can interoperate with their environment in a simple and universal manner.</li>
</ul>
</li>
<li>Efficient and portable <em>representation</em>:<ul>
<li><strong>Compact</strong>: has a binary format that is fast to transmit by being smaller than typical text or native code formats.</li>
<li><strong>Modular</strong>: programs can be split up in smaller parts that can be transmitted, cached, and consumed separately.</li>
<li><strong>Efficient</strong>: can be decoded, validated, and compiled in a fast single pass, equally with either just-in-time (JIT) or ahead-of-time (AOT) compilation.</li>
<li><strong>Streamable</strong>: allows decoding, validation, and compilation to begin as soon as possible, before all data has been seen.</li>
<li><strong>Parallelizable</strong>: allows decoding, validation, and compilation to be split into many independent parallel tasks.</li>
<li><strong>Portable</strong>: makes no architectural assumptions that are not broadly supported across modern hardware.</li>
</ul>
</li>
</ul>
<p>WebAssembly code is also intended to be easy to inspect and debug, especially in environments like web browsers, but such features are beyond the scope of this specification.</p>
<table class="docutils footnote" frame="void" id="wasm" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>A contraction of “WebAssembly”, not an acronym, hence not using all-caps.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="memorysafe" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>No program can break WebAssembly’s memory model. Of course, it cannot guarantee that an unsafe language compiling to WebAssembly does not corrupt its own memory layout, e.g. inside WebAssembly’s linear memory.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="scope">
<span id="id3"></span><h4>Scope</h4>
<p>At its core, WebAssembly is a <em>virtual instruction set architecture (virtual ISA)</em>.
As such, it has many use cases and can be embedded in many different environments.
To encompass their variety and enable maximum reuse, the WebAssembly specification is split and layered into several documents.</p>
<p>This document is concerned with the core ISA layer of WebAssembly.
It defines the instruction set, binary encoding, validation, and execution semantics, as well as a textual representation.
It does not, however, define how WebAssembly programs can interact with a specific environment they execute in, nor how they are invoked from such an environment.</p>
<p>Instead, this specification is complemented by additional documents defining interfaces to specific embedding environments such as the Web.
These will each define a WebAssembly <em>application programming interface (API)</em> suitable for a given environment.</p>
</div>
<div class="section" id="dependencies">
<span id="index-1"></span><span id="id4"></span><h4>Dependencies</h4>
<p>WebAssembly depends on two existing standards:</p>
<ul class="simple">
<li><a class="reference external" href="http://ieeexplore.ieee.org/document/4610935/">IEEE 754-2008</a>, for the representation of <a class="reference internal" href="index.html#syntax-float"><span class="std std-ref">floating-point data</span></a> and the semantics of respective <a class="reference internal" href="index.html#float-ops"><span class="std std-ref">numeric operations</span></a>.</li>
<li><a class="reference external" href="http://www.unicode.org/versions/latest/">Unicode</a>, for the representation of import/export <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">names</span></a> and the <a class="reference internal" href="index.html#text"><span class="std std-ref">text format</span></a>.</li>
</ul>
<p>However, to make this specification self-contained, relevant aspects of the aforementioned standards are defined and formalized as part of this specification,
such as the <a class="reference internal" href="index.html#aux-fbits"><span class="std std-ref">binary representation</span></a> and <a class="reference internal" href="index.html#aux-ieee"><span class="std std-ref">rounding</span></a> of floating-point values, and the <a class="reference internal" href="index.html#syntax-codepoint"><span class="std std-ref">value range</span></a> and <a class="reference internal" href="index.html#binary-utf8"><span class="std std-ref">UTF-8 encoding</span></a> of Unicode characters.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The aforementioned standards are the authoritative source of all respective definitions.
Formalizations given in this specification are intended to match these definitions.
Any discrepancy in the syntax or semantics described is to be considered an error.</p>
</div>
</div>
</div>
<span id="document-intro/overview"></span><div class="section" id="overview">
<h3>Overview</h3>
<div class="section" id="concepts">
<span id="index-0"></span><span id="id1"></span><h4>Concepts</h4>
<p>WebAssembly encodes a low-level, assembly-like programming language.
This language is structured around the following concepts.</p>
<dl class="docutils" id="value">
<dt><strong>Values</strong></dt>
<dd>WebAssembly provides only four basic <em>value types</em>.
These are integers and <a class="reference external" href="http://ieeexplore.ieee.org/document/4610935/">IEEE 754-2008</a> numbers,
each in 32 and 64 bit width.
32 bit integers also serve as Booleans and as memory addresses.
The usual operations on these types are available,
including the full matrix of conversions between them.
There is no distinction between signed and unsigned integer types.
Instead, integers are interpreted by respective operations
as either unsigned or signed in two’s complement representation.</dd>
</dl>
<dl class="docutils" id="instruction">
<dt><strong>Instructions</strong></dt>
<dd>The computational model of WebAssembly is based on a <em>stack machine</em>.
Code consists of sequences of <em>instructions</em> that are executed in order.
Instructions manipulate values on an implicit <em>operand stack</em> <a class="footnote-reference" href="#stackmachine" id="id2">[1]</a>
and fall into two main categories.
<em>Simple</em> instructions perform basic operations on data.
They pop arguments from the operand stack and push results back to it.
<em>Control</em> instructions alter control flow.
Control flow is <em>structured</em>, meaning it is expressed with well-nested constructs such as blocks, loops, and conditionals.
Branches can only target such constructs.</dd>
</dl>
<dl class="docutils" id="trap">
<dt><strong>Traps</strong></dt>
<dd>Under some conditions, certain instructions may produce a <em>trap</em>,
which immediately aborts execution.
Traps cannot be handled by WebAssembly code,
but are reported to the outside environment,
where they typically can be caught.</dd>
</dl>
<dl class="docutils" id="function">
<dt><strong>Functions</strong></dt>
<dd>Code is organized into separate <em>functions</em>.
Each function takes a sequence of values as parameters
and returns a sequence of values as results. <a class="footnote-reference" href="#arity" id="id3">[2]</a>
Functions can call each other, including recursively,
resulting in an implicit call stack that cannot be accessed directly.
Functions may also declare mutable <em>local variables</em> that are usable as virtual registers.</dd>
</dl>
<dl class="docutils" id="table">
<dt><strong>Tables</strong></dt>
<dd>A <em>table</em> is an array of opaque values of a particular <em>element type</em>.
It allows programs to select such values indirectly through a dynamic index operand.
Currently, the only available element type is an untyped function reference.
Thereby, a program can call functions indirectly through a dynamic index into a table.
For example, this allows emulating function pointers by way of table indices.</dd>
</dl>
<dl class="docutils" id="memory">
<dt><strong>Linear Memory</strong></dt>
<dd>A <em>linear memory</em> is a contiguous, mutable array of raw bytes.
Such a memory is created with an initial size but can be grown dynamically.
A program can load and store values from/to a linear memory at any byte address (including unaligned).
Integer loads and stores can specify a <em>storage size</em> which is smaller than the size of the respective value type.
A trap occurs if an access is not within the bounds of the current memory size.</dd>
</dl>
<dl class="docutils" id="module">
<dt><strong>Modules</strong></dt>
<dd>A WebAssembly binary takes the form of a <em>module</em>
that contains definitions for functions, tables, and linear memories,
as well as mutable or immutable <em>global variables</em>.
Definitions can also be <em>imported</em>, specifying a module/name pair and a suitable type.
Each definition can optionally be <em>exported</em> under one or more names.
In addition to definitions, modules can define initialization data for their memories or tables
that takes the form of <em>segments</em> copied to given offsets.
They can also define a <em>start function</em> that is automatically executed.</dd>
</dl>
<dl class="docutils" id="embedder">
<dt><strong>Embedder</strong></dt>
<dd>A WebAssembly implementation will typically be <em>embedded</em> into a <em>host</em> environment.
This environment defines how loading of modules is initiated,
how imports are provided (including host-side definitions), and how exports can be accessed.
However, the details of any particular embedding are beyond the scope of this specification, and will instead be provided by complementary, environment-specific API definitions.</dd>
</dl>
<table class="docutils footnote" frame="void" id="stackmachine" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>In practice, implementations need not maintain an actual operand stack. Instead, the stack can be viewed as a set of anonymous registers that are implicitly referenced by instructions. The <a class="reference internal" href="#validation"><span class="std std-ref">type system</span></a> ensures that the stack height, and thus any referenced register, is always known statically.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="arity" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>In the current version of WebAssembly, there may be at most one result value.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="semantic-phases">
<span id="index-1"></span><h4>Semantic Phases</h4>
<p>Conceptually, the semantics of WebAssembly is divided into three phases.
For each part of the language, the specification specifies each of them.</p>
<dl class="docutils" id="decoding">
<dt><strong>Decoding</strong></dt>
<dd>WebAssembly modules are distributed in a <em>binary format</em>.
<em>Decoding</em> processes that format and converts it into an internal representation of a module.
In this specification, this representation is modelled by <em>abstract syntax</em>, but a real implementation could compile directly to machine code instead.</dd>
</dl>
<dl class="docutils" id="validation">
<dt><strong>Validation</strong></dt>
<dd>A decoded module has to be <em>valid</em>.
Validation checks a number of well-formedness conditions to guarantee that the module is meaningful and safe.
In particular, it performs <em>type checking</em> of functions and the instruction sequences in their bodies, ensuring for example that the operand stack is used consistently.</dd>
</dl>
<span id="instantiation"></span><span id="execution"></span><dl class="docutils" id="invocation">
<dt><strong>Execution</strong></dt>
<dd><p class="first">Finally, a valid module can be <em>executed</em>.
Execution can be further divided into two phases:</p>
<p><strong>Instantiation</strong>.
A module <em>instance</em> is the dynamic representation of a module,
complete with its own state and execution stack.
Instantiation executes the module body itself, given definitions for all its imports.
It initializes globals, memories and tables and invokes the module’s start function if defined.
It returns the instances of the module’s exports.</p>
<p><strong>Invocation</strong>.
Once instantiated, further WebAssembly computations can be initiated by <em>invoking</em> an exported function on a module instance.
Given the required arguments, that executes the respective function and returns its results.</p>
<p class="last">Instantiation and invocation are operations within the embedding environment.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<span id="document-syntax/index"></span><div class="section" id="structure">
<span id="syntax"></span><h2>Structure</h2>
<div class="toctree-wrapper compound">
<span id="document-syntax/conventions"></span><div class="section" id="conventions">
<span id="index-0"></span><h3>Conventions</h3>
<p>WebAssembly is a programming language that has multiple concrete representations
(its <a class="reference internal" href="index.html#binary"><span class="std std-ref">binary format</span></a> and the <a class="reference internal" href="index.html#text"><span class="std std-ref">text format</span></a>).
Both map to a common structure.
For conciseness, this structure is described in the form of an <em>abstract syntax</em>.
All parts of this specification are defined in terms of this abstract syntax.</p>
<div class="section" id="grammar-notation">
<span id="grammar"></span><span id="index-1"></span><h4>Grammar Notation</h4>
<p>The following conventions are adopted in defining grammar rules for abstract syntax.</p>
<ul class="simple">
<li>Terminal symbols (atoms) are written in sans-serif font: <span class="math notranslate">\(\mathsf{i32}, \mathsf{end}\)</span>.</li>
<li>Nonterminal symbols are written in italic font: <span class="math notranslate">\(\mathit{valtype}, \mathit{instr}\)</span>.</li>
<li><span class="math notranslate">\(A^n\)</span> is a sequence of <span class="math notranslate">\(n\geq 0\)</span> iterations  of <span class="math notranslate">\(A\)</span>.</li>
<li><span class="math notranslate">\(A^\ast\)</span> is a possibly empty sequence of iterations of <span class="math notranslate">\(A\)</span>.
(This is a shorthand for <span class="math notranslate">\(A^n\)</span> used where <span class="math notranslate">\(n\)</span> is not relevant.)</li>
<li><span class="math notranslate">\(A^+\)</span> is a non-empty sequence of iterations of <span class="math notranslate">\(A\)</span>.
(This is a shorthand for <span class="math notranslate">\(A^n\)</span> where <span class="math notranslate">\(n \geq 1\)</span>.)</li>
<li><span class="math notranslate">\(A^?\)</span> is an optional occurrence of <span class="math notranslate">\(A\)</span>.
(This is a shorthand for <span class="math notranslate">\(A^n\)</span> where <span class="math notranslate">\(n \leq 1\)</span>.)</li>
<li>Productions are written <span class="math notranslate">\(\mathit{sym} ::= A_1 ~|~ \dots ~|~ A_n\)</span>.</li>
<li>Large productions may be split into multiple definitions, indicated by ending the first one with explicit ellipses, <span class="math notranslate">\(\mathit{sym} ::= A_1 ~|~ \dots\)</span>, and starting continuations with ellipses, <span class="math notranslate">\(\mathit{sym} ::= \dots ~|~ A_2\)</span>.</li>
<li>Some productions are augmented with side conditions in parentheses, “<span class="math notranslate">\((\mathrel{\mbox{if}} \mathit{condition})\)</span>”, that provide a shorthand for a combinatorial expansion of the production into many separate cases.</li>
</ul>
</div>
<div class="section" id="auxiliary-notation">
<span id="notation-compose"></span><span id="notation-concat"></span><span id="notation-project"></span><span id="notation-record"></span><span id="notation-replace"></span><span id="notation-slice"></span><span id="notation-index"></span><span id="notation-length"></span><span id="notation-epsilon"></span><h4>Auxiliary Notation</h4>
<p>When dealing with syntactic constructs the following notation is also used:</p>
<ul class="simple">
<li><span class="math notranslate">\(\epsilon\)</span> denotes the empty sequence.</li>
<li><span class="math notranslate">\(|s|\)</span> denotes the length of a sequence <span class="math notranslate">\(s\)</span>.</li>
<li><span class="math notranslate">\(s[i]\)</span> denotes the <span class="math notranslate">\(i\)</span>-th element of a sequence <span class="math notranslate">\(s\)</span>, starting from <span class="math notranslate">\(0\)</span>.</li>
<li><span class="math notranslate">\(s[i \href{#notation-slice}{\mathrel{\mathbf{:}}} n]\)</span> denotes the sub-sequence <span class="math notranslate">\(s[i]~\dots~s[i+n-1]\)</span> of a sequence <span class="math notranslate">\(s\)</span>.</li>
<li><span class="math notranslate">\(s \href{#notation-replace}{\mathrel{\mbox{with}}} [i] = A\)</span> denotes the same sequence as <span class="math notranslate">\(s\)</span>,
except that the <span class="math notranslate">\(i\)</span>-th element is replaced with <span class="math notranslate">\(A\)</span>.</li>
<li><span class="math notranslate">\(s \href{#notation-replace}{\mathrel{\mbox{with}}} [i \href{#notation-slice}{\mathrel{\mathbf{:}}} n] = A^n\)</span> denotes the same sequence as <span class="math notranslate">\(s\)</span>,
except that the sub-sequence <span class="math notranslate">\(s[i \href{#notation-slice}{\mathrel{\mathbf{:}}} n]\)</span> is replaced with <span class="math notranslate">\(A^n\)</span>.</li>
<li><span class="math notranslate">\(\href{#notation-concat}{\mathrm{concat}}(s^\ast)\)</span> denotes the flat sequence formed by concatenating all sequences <span class="math notranslate">\(s_i\)</span> in <span class="math notranslate">\(s^\ast\)</span>.</li>
</ul>
<p>Moreover, the following conventions are employed:</p>
<ul class="simple">
<li>The notation <span class="math notranslate">\(x^n\)</span>, where <span class="math notranslate">\(x\)</span> is a non-terminal symbol, is treated as a meta variable ranging over respective sequences of <span class="math notranslate">\(x\)</span> (similarly for <span class="math notranslate">\(x^\ast\)</span>, <span class="math notranslate">\(x^+\)</span>, <span class="math notranslate">\(x^?\)</span>).</li>
<li>When given a sequence <span class="math notranslate">\(x^n\)</span>,
then the occurrences of <span class="math notranslate">\(x\)</span> in a sequence written <span class="math notranslate">\((A_1~x~A_2)^n\)</span> are assumed to be in point-wise correspondence with <span class="math notranslate">\(x^n\)</span>
(similarly for <span class="math notranslate">\(x^\ast\)</span>, <span class="math notranslate">\(x^+\)</span>, <span class="math notranslate">\(x^?\)</span>).
This implicitly expresses a form of mapping syntactic constructions over a sequence.</li>
</ul>
<p>Productions of the following form are interpreted as <em>records</em> that map a fixed set of fields <span class="math notranslate">\(\mathsf{field}_i\)</span> to “values” <span class="math notranslate">\(A_i\)</span>, respectively:</p>
<div class="math notranslate">
\[\mathit{r} ~::=~ \{ \mathsf{field}_1~A_1, \mathsf{field}_2~A_2, \dots \}\]</div>
<p>The following notation is adopted for manipulating such records:</p>
<ul>
<li><p class="first"><span class="math notranslate">\(r.\mathsf{field}\)</span> denotes the contents of the <span class="math notranslate">\(\mathsf{field}\)</span> component of <span class="math notranslate">\(r\)</span>.</p>
</li>
<li><p class="first"><span class="math notranslate">\(r \href{#notation-replace}{\mathrel{\mbox{with}}} \mathsf{field} = A\)</span> denotes the same record as <span class="math notranslate">\(r\)</span>,
except that the contents of the <span class="math notranslate">\(\mathsf{field}\)</span> component is replaced with <span class="math notranslate">\(A\)</span>.</p>
</li>
<li><p class="first"><span class="math notranslate">\(r_1 \href{#notation-compose}{\oplus} r_2\)</span> denotes the composition of two records with the same fields of sequences by appending each sequence point-wise:</p>
<div class="math notranslate">
\[\{ \mathsf{field}_1\,A_1^\ast, \mathsf{field}_2\,A_2^\ast, \dots \} \href{#notation-compose}{\oplus} \{ \mathsf{field}_1\,B_1^\ast, \mathsf{field}_2\,B_2^\ast, \dots \} = \{ \mathsf{field}_1\,A_1^\ast~B_1^\ast, \mathsf{field}_2\,A_2^\ast~B_2^\ast, \dots \}\]</div>
</li>
<li><p class="first"><span class="math notranslate">\(\href{#notation-compose}{\bigoplus} r^\ast\)</span> denotes the composition of a sequence of records, respectively; if the sequence is empty, then all fields of the resulting record are empty.</p>
</li>
</ul>
<p>The update notation for sequences and records generalizes recursively to nested components accessed by “paths” <span class="math notranslate">\(\mathit{pth} ::= ([\dots] \;| \;.\mathsf{field})^+\)</span>:</p>
<ul class="simple">
<li><span class="math notranslate">\(s \href{#notation-replace}{\mathrel{\mbox{with}}} [i]\,\mathit{pth} = A\)</span> is short for <span class="math notranslate">\(s \href{#notation-replace}{\mathrel{\mbox{with}}} [i] = (s[i] \href{#notation-replace}{\mathrel{\mbox{with}}} \mathit{pth} = A)\)</span>.</li>
<li><span class="math notranslate">\(r \href{#notation-replace}{\mathrel{\mbox{with}}} \mathsf{field}\,\mathit{pth} = A\)</span> is short for <span class="math notranslate">\(r \href{#notation-replace}{\mathrel{\mbox{with}}} \mathsf{field} = (r.\mathsf{field} \href{#notation-replace}{\mathrel{\mbox{with}}} \mathit{pth} = A)\)</span>.</li>
</ul>
<p>where <span class="math notranslate">\(r \href{#notation-replace}{\mathrel{\mbox{with}}}~.\mathsf{field} = A\)</span> is shortened to <span class="math notranslate">\(r \href{#notation-replace}{\mathrel{\mbox{with}}} \mathsf{field} = A\)</span>.</p>
</div>
<div class="section" id="vectors">
<span id="syntax-vec"></span><span id="index-2"></span><h4>Vectors</h4>
<p><em>Vectors</em> are bounded sequences of the form <span class="math notranslate">\(A^n\)</span> (or <span class="math notranslate">\(A^\ast\)</span>),
where the <span class="math notranslate">\(A\)</span> can either be values or complex constructions.
A vector can have at most <span class="math notranslate">\(2^{32}-1\)</span> elements.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lllll}
\def\mathdef1953#1{{}}\mathdef1953{vector} &amp; \href{#syntax-vec}{\mathit{vec}}(A) &amp;::=&amp;
  A^n
  &amp; (\mathrel{\mbox{if}} n &lt; 2^{32})\\
\end{array}\end{split}\]</div>
</div>
</div>
<span id="document-syntax/values"></span><div class="section" id="values">
<span id="syntax-value"></span><span id="index-0"></span><h3>Values</h3>
<p>WebAssembly programs operate on primitive numeric <em>values</em>.
Moreover, in the definition of programs, immutable sequences of values occur to represent more complex data, such as text strings or other vectors.</p>
<div class="section" id="bytes">
<span id="syntax-byte"></span><span id="index-1"></span><h4>Bytes</h4>
<p>The simplest form of value are raw uninterpreted <em>bytes</em>.
In the abstract syntax they are represented as hexadecimal literals.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2250#1{{}}\mathdef2250{byte} &amp; \href{#syntax-byte}{\mathit{byte}} &amp;::=&amp;
  \def\mathdef2309#1{\mathtt{0x#1}}\mathdef2309{00} ~|~ \dots ~|~ \def\mathdef2310#1{\mathtt{0x#1}}\mathdef2310{FF} \\
\end{array}\end{split}\]</div>
<div class="section" id="conventions">
<h5>Conventions</h5>
<ul class="simple">
<li>The meta variable <span class="math notranslate">\(b\)</span> ranges over bytes.</li>
<li>Bytes are sometimes interpreted as natural numbers <span class="math notranslate">\(n &lt; 256\)</span>.</li>
</ul>
</div>
</div>
<div class="section" id="integers">
<span id="syntax-int"></span><span id="syntax-uint"></span><span id="syntax-sint"></span><span id="index-2"></span><h4>Integers</h4>
<p>Different classes of <em>integers</em> with different value ranges are distinguished by their <em>bit width</em> <span class="math notranslate">\(N\)</span> and by whether they are <em>unsigned</em> or <em>signed</em>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2250#1{{}}\mathdef2250{unsigned integer} &amp; \href{#syntax-int}{\def\mathdef2251#1{{\mathit{u}#1}}\mathdef2251{N}} &amp;::=&amp;
  0 ~|~ 1 ~|~ \dots ~|~ 2^N{-}1 \\
\def\mathdef2250#1{{}}\mathdef2250{signed integer} &amp; \href{#syntax-int}{\def\mathdef2258#1{{\mathit{s}#1}}\mathdef2258{N}} &amp;::=&amp;
  -2^{N-1} ~|~ \dots ~|~ {-}1 ~|~ 0 ~|~ 1 ~|~ \dots ~|~ 2^{N-1}{-}1 \\
\def\mathdef2250#1{{}}\mathdef2250{uninterpreted integer} &amp; \href{#syntax-int}{\def\mathdef2264#1{{\mathit{i}#1}}\mathdef2264{N}} &amp;::=&amp;
  \href{#syntax-int}{\def\mathdef2251#1{{\mathit{u}#1}}\mathdef2251{N}} \\
\end{array}\end{split}\]</div>
<p>The latter class defines <em>uninterpreted</em> integers, whose signedness interpretation can vary depending on context.
In the abstract syntax, they are represented as unsigned values.
However, some operations <a class="reference internal" href="index.html#aux-signed"><span class="std std-ref">convert</span></a> them to signed based on a two’s complement interpretation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The main integer types occurring in this specification are <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef2256#1{{\mathit{u}#1}}\mathdef2256{\mathit{32}}}\)</span>, <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef2257#1{{\mathit{u}#1}}\mathdef2257{\mathit{64}}}\)</span>, <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef2261#1{{\mathit{s}#1}}\mathdef2261{\mathit{32}}}\)</span>, <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef2263#1{{\mathit{s}#1}}\mathdef2263{\mathit{64}}}\)</span>, <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef2265#1{{\mathit{i}#1}}\mathdef2265{\mathit{8}}}\)</span>, <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef2266#1{{\mathit{i}#1}}\mathdef2266{\mathit{16}}}\)</span>, <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef2267#1{{\mathit{i}#1}}\mathdef2267{\mathit{32}}}\)</span>, <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef2268#1{{\mathit{i}#1}}\mathdef2268{\mathit{64}}}\)</span>.
However, other sizes occur as auxiliary constructions, e.g., in the definition of <a class="reference internal" href="#syntax-float"><span class="std std-ref">floating-point</span></a> numbers.</p>
</div>
<div class="section" id="id1">
<h5>Conventions</h5>
<ul class="simple">
<li>The meta variables <span class="math notranslate">\(m, n, i\)</span> range over integers.</li>
<li>Numbers may be denoted by simple arithmetics, as in the grammar above.
In order to distinguish arithmetics like <span class="math notranslate">\(2^N\)</span> from sequences like <span class="math notranslate">\((1)^N\)</span>, the latter is distinguished with parentheses.</li>
</ul>
</div>
</div>
<div class="section" id="floating-point">
<span id="syntax-float"></span><span id="syntax-payload"></span><span id="syntax-nan"></span><span id="index-3"></span><h4>Floating-Point</h4>
<p><em>Floating-point</em> data represents 32 or 64 bit values that correspond to the respective binary formats of the <a class="reference external" href="http://ieeexplore.ieee.org/document/4610935/">IEEE 754-2008</a> standard (Section 3.3).</p>
<p>Every value has a <em>sign</em> and a <em>magnitude</em>.
Magnitudes can either be expressed as <em>normal</em> numbers of the form <span class="math notranslate">\(m_0.m_1m_2\dots m_M \cdot2^e\)</span>, where <span class="math notranslate">\(e\)</span> is the exponent and <span class="math notranslate">\(m\)</span> is the <em>significand</em> whose most signifcant bit <span class="math notranslate">\(m_0\)</span> is <span class="math notranslate">\(1\)</span>,
or as a <em>subnormal</em> number where the exponent is fixed to the smallest possible value and <span class="math notranslate">\(m_0\)</span> is <span class="math notranslate">\(0\)</span>; among the subnormals are positive and negative zero values.
Since the significands are binary values, normals are represented in the form <span class="math notranslate">\((1 + m\cdot 2^{-M}) \cdot 2^e\)</span>, where <span class="math notranslate">\(M\)</span> is the bit width of <span class="math notranslate">\(m\)</span>; similarly for subnormals.</p>
<p>Possible magnitudes also include the special values <span class="math notranslate">\(\infty\)</span> (infinity) and <span class="math notranslate">\(\href{#syntax-float}{\mathsf{nan}}\)</span> (<em>NaN</em>, not a number).
NaN values have a <em>payload</em> that describes the mantissa bits in the underlying <a class="reference internal" href="index.html#aux-fbits"><span class="std std-ref">binary representation</span></a>.
No distinction is made between signalling and quiet NaNs.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcll}
\def\mathdef2250#1{{}}\mathdef2250{floating-point value} &amp; \href{#syntax-float}{\def\mathdef2269#1{{\mathit{f}#1}}\mathdef2269{N}} &amp;::=&amp;
  {+} \href{#syntax-float}{\def\mathdef2270#1{{\mathit{f}#1}}\mathdef2270{\mathit{Nmag}}} ~|~ {-} \href{#syntax-float}{\def\mathdef2270#1{{\mathit{f}#1}}\mathdef2270{\mathit{Nmag}}} \\
\def\mathdef2250#1{{}}\mathdef2250{floating-point magnitude} &amp; \href{#syntax-float}{\def\mathdef2270#1{{\mathit{f}#1}}\mathdef2270{\mathit{Nmag}}} &amp;::=&amp;
  (1 + \href{#syntax-int}{\def\mathdef2252#1{{\mathit{u}#1}}\mathdef2252{M}}\cdot 2^{-M}) \cdot 2^e &amp; (\mathrel{\mbox{if}} -2^{E-1}+2 \leq e \leq 2^{E-1}-1) \\ &amp;&amp;|&amp;
  (0 + \href{#syntax-int}{\def\mathdef2252#1{{\mathit{u}#1}}\mathdef2252{M}}\cdot 2^{-M}) \cdot 2^e &amp; (\mathrel{\mbox{if}} e = -2^{E-1}+2) \\ &amp;&amp;|&amp;
  \infty \\ &amp;&amp;|&amp;
  \href{#syntax-float}{\mathsf{nan}}(n) &amp; (\mathrel{\mbox{if}} 1 \leq n &lt; 2^M) \\
\end{array}\end{split}\]</div>
<p>where <span class="math notranslate">\(M = \href{#aux-significand}{\mathrm{signif}}(N)\)</span> and <span class="math notranslate">\(E = \href{#aux-exponent}{\mathrm{expon}}(N)\)</span> with</p>
<div class="math notranslate" id="aux-exponent">
<span id="aux-significand"></span>\[\begin{split}\begin{array}{lclllllcl}
\href{#aux-significand}{\mathrm{signif}}(32) &amp;=&amp; 23 &amp;&amp;&amp;&amp;
\href{#aux-exponent}{\mathrm{expon}}(32) &amp;=&amp; 8 \\
\href{#aux-significand}{\mathrm{signif}}(64) &amp;=&amp; 52 &amp;&amp;&amp;&amp;
\href{#aux-exponent}{\mathrm{expon}}(64) &amp;=&amp; 11 \\
\end{array}\end{split}\]</div>
<p id="aux-canon"><span id="arithmetic-nan"></span><span id="canonical-nan"></span>A <em>canonical NaN</em> is a floating-point value <span class="math notranslate">\(\pm\href{#syntax-float}{\mathsf{nan}}(\href{#aux-canon}{\mathrm{canon}}_N)\)</span> where <span class="math notranslate">\(\href{#aux-canon}{\mathrm{canon}}_N\)</span> is a payload whose most significant bit is <span class="math notranslate">\(1\)</span> while all others are <span class="math notranslate">\(0\)</span>:</p>
<div class="math notranslate">
\[\href{#aux-canon}{\mathrm{canon}}_N = 2^{\href{#aux-significand}{\mathrm{signif}}(N)-1}\]</div>
<p>An <em>arithmetic NaN</em>  is a floating-point value <span class="math notranslate">\(\pm\href{#syntax-float}{\mathsf{nan}}(n)\)</span> with <span class="math notranslate">\(n \geq \href{#aux-canon}{\mathrm{canon}}_N\)</span>, such that the most significant bit is <span class="math notranslate">\(1\)</span> while all others are arbitrary.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the abstract syntax, subnormals are distinguished by the leading 0 of the significand. The exponent of subnormals has the same value as the smallest possible exponent of a normal number. Only in the <a class="reference internal" href="index.html#binary-float"><span class="std std-ref">binary representation</span></a> the exponent of a subnormal is encoded differently than the exponent of any normal number.</p>
</div>
<div class="section" id="id2">
<h5>Conventions</h5>
<ul class="simple">
<li>The meta variable <span class="math notranslate">\(z\)</span> ranges over floating-point values where clear from context.</li>
</ul>
</div>
</div>
<div class="section" id="names">
<span id="syntax-name"></span><span id="syntax-codepoint"></span><span id="index-4"></span><h4>Names</h4>
<p><em>Names</em> are sequences of scalar <em>code points</em> as defined by <a class="reference external" href="http://www.unicode.org/versions/latest/">Unicode</a> (Section 2.4).</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2250#1{{}}\mathdef2250{name} &amp; \href{#syntax-name}{\mathit{name}} &amp;::=&amp;
  \href{#syntax-name}{\mathit{codepoint}}^\ast \qquad\qquad (\mathrel{\mbox{if}} |\href{#binary-utf8}{\mathrm{utf8}}(\href{#syntax-name}{\mathit{codepoint}}^\ast)| &lt; 2^{32}) \\
\def\mathdef2250#1{{}}\mathdef2250{code point} &amp; \href{#syntax-name}{\mathit{codepoint}} &amp;::=&amp;
  \def\mathdef2311#1{\mathrm{U{+}#1}}\mathdef2311{00} ~|~ \dots ~|~ \def\mathdef2312#1{\mathrm{U{+}#1}}\mathdef2312{D7FF} ~|~
  \def\mathdef2313#1{\mathrm{U{+}#1}}\mathdef2313{E000} ~|~ \dots ~|~ \def\mathdef2314#1{\mathrm{U{+}#1}}\mathdef2314{10FFFF} \\
\end{array}\end{split}\]</div>
<p>Due to the limitations of the <a class="reference internal" href="index.html#binary-name"><span class="std std-ref">binary format</span></a>,
the length of a name is bounded by the length of its <a class="reference internal" href="index.html#binary-utf8"><span class="std std-ref">UTF-8</span></a> encoding.</p>
<div class="section" id="convention">
<h5>Convention</h5>
<ul class="simple">
<li>Code points are sometimes used interchangeably with natural numbers <span class="math notranslate">\(n &lt; 1114112\)</span>.</li>
</ul>
</div>
</div>
</div>
<span id="document-syntax/types"></span><div class="section" id="types">
<span id="syntax-type"></span><span id="index-0"></span><h3>Types</h3>
<p>Various entities in WebAssembly are classified by types.
Types are checked during <a class="reference internal" href="index.html#valid"><span class="std std-ref">validation</span></a>, <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">instantiation</span></a>, and possibly <a class="reference internal" href="index.html#syntax-call-indirect"><span class="std std-ref">execution</span></a>.</p>
<div class="section" id="value-types">
<span id="syntax-valtype"></span><span id="index-1"></span><h4>Value Types</h4>
<p><em>Value types</em> classify the individual values that WebAssembly code can compute with and the values that a variable accepts.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2191#1{{}}\mathdef2191{value type} &amp; \href{#syntax-valtype}{\mathit{valtype}} &amp;::=&amp;
  \href{#syntax-valtype}{\mathsf{i32}} ~|~ \href{#syntax-valtype}{\mathsf{i64}} ~|~ \href{#syntax-valtype}{\mathsf{f32}} ~|~ \href{#syntax-valtype}{\mathsf{f64}} \\
\end{array}\end{split}\]</div>
<p>The types <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> and <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}\)</span> classify 32 and 64 bit integers, respectively.
Integers are not inherently signed or unsigned, their interpretation is determined by individual operations.</p>
<p>The types <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}\)</span> and <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}\)</span> classify 32 and 64 bit floating-point data, respectively.
They correspond to the respective binary floating-point representations, also known as <em>single</em> and <em>double</em> precision, as defined by the <a class="reference external" href="http://ieeexplore.ieee.org/document/4610935/">IEEE 754-2008</a> standard (Section 3.3).</p>
<div class="section" id="conventions">
<h5>Conventions</h5>
<ul class="simple">
<li>The meta variable <span class="math notranslate">\(t\)</span> ranges over value types where clear from context.</li>
<li>The notation <span class="math notranslate">\(|t|\)</span> denotes the <em>bit width</em> of a value type.
That is, <span class="math notranslate">\(|\href{#syntax-valtype}{\mathsf{i32}}| = |\href{#syntax-valtype}{\mathsf{f32}}| = 32\)</span> and <span class="math notranslate">\(|\href{#syntax-valtype}{\mathsf{i64}}| = |\href{#syntax-valtype}{\mathsf{f64}}| = 64\)</span>.</li>
</ul>
</div>
</div>
<div class="section" id="result-types">
<span id="syntax-resulttype"></span><span id="index-2"></span><h4>Result Types</h4>
<p><em>Result types</em> classify the result of <a class="reference internal" href="index.html#exec-instr"><span class="std std-ref">executing</span></a> <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instructions</span></a> or <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">functions</span></a>,
which is a sequence of values written with brackets.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2191#1{{}}\mathdef2191{result type} &amp; \href{#syntax-resulttype}{\mathit{resulttype}} &amp;::=&amp;
  [\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-valtype}{\mathit{valtype}})] \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="function-types">
<span id="syntax-functype"></span><span id="index-3"></span><h4>Function Types</h4>
<p><em>Function types</em> classify the signature of <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">functions</span></a>,
mapping a vector of parameters to a vector of results.
They are also used to classify the inputs and outputs of <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instructions</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2191#1{{}}\mathdef2191{function type} &amp; \href{#syntax-functype}{\mathit{functype}} &amp;::=&amp;
  \href{#syntax-resulttype}{\mathit{resulttype}} \href{#syntax-functype}{\rightarrow} \href{#syntax-resulttype}{\mathit{resulttype}} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="limits">
<span id="syntax-limits"></span><span id="index-4"></span><h4>Limits</h4>
<p><em>Limits</em> classify the size range of resizeable storage associated with <a class="reference internal" href="#syntax-memtype"><span class="std std-ref">memory types</span></a> and <a class="reference internal" href="#syntax-tabletype"><span class="std std-ref">table types</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2191#1{{}}\mathdef2191{limits} &amp; \href{#syntax-limits}{\mathit{limits}} &amp;::=&amp;
  \{ \href{#syntax-limits}{\mathsf{min}}~\href{#syntax-int}{\def\mathdef2197#1{{\mathit{u}#1}}\mathdef2197{\mathit{32}}}, \href{#syntax-limits}{\mathsf{max}}~\href{#syntax-int}{\def\mathdef2197#1{{\mathit{u}#1}}\mathdef2197{\mathit{32}}}^? \} \\
\end{array}\end{split}\]</div>
<p>If no maximum is given, the respective storage can grow to any size.</p>
</div>
<div class="section" id="memory-types">
<span id="syntax-memtype"></span><span id="index-5"></span><h4>Memory Types</h4>
<p><em>Memory types</em> classify linear <a class="reference internal" href="index.html#syntax-mem"><span class="std std-ref">memories</span></a> and their size range.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2191#1{{}}\mathdef2191{memory type} &amp; \href{#syntax-memtype}{\mathit{memtype}} &amp;::=&amp;
  \href{#syntax-limits}{\mathit{limits}} \\
\end{array}\end{split}\]</div>
<p>The limits constrain the minimum and optionally the maximum size of a memory.
The limits are given in units of <a class="reference internal" href="index.html#page-size"><span class="std std-ref">page size</span></a>.</p>
</div>
<div class="section" id="table-types">
<span id="syntax-tabletype"></span><span id="syntax-elemtype"></span><span id="index-6"></span><h4>Table Types</h4>
<p><em>Table types</em> classify <a class="reference internal" href="index.html#syntax-table"><span class="std std-ref">tables</span></a> over elements of <em>element types</em> within a size range.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2191#1{{}}\mathdef2191{table type} &amp; \href{#syntax-tabletype}{\mathit{tabletype}} &amp;::=&amp;
  \href{#syntax-limits}{\mathit{limits}}~\href{#syntax-elemtype}{\mathit{elemtype}} \\
\def\mathdef2191#1{{}}\mathdef2191{element type} &amp; \href{#syntax-elemtype}{\mathit{elemtype}} &amp;::=&amp;
  \href{#syntax-elemtype}{\mathsf{funcref}} \\
\end{array}\end{split}\]</div>
<p>Like memories, tables are constrained by limits for their minimum and optionally maximum size.
The limits are given in numbers of entries.</p>
<p>The element type <span class="math notranslate">\(\href{#syntax-elemtype}{\mathsf{funcref}}\)</span> is the infinite union of all <a class="reference internal" href="#syntax-functype"><span class="std std-ref">function types</span></a>.
A table of that type thus contains references to functions of heterogeneous type.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In future versions of WebAssembly, additional element types may be introduced.</p>
</div>
</div>
<div class="section" id="global-types">
<span id="syntax-globaltype"></span><span id="syntax-mut"></span><span id="index-7"></span><h4>Global Types</h4>
<p><em>Global types</em> classify <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">global</span></a> variables, which hold a value and can either be mutable or immutable.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2191#1{{}}\mathdef2191{global type} &amp; \href{#syntax-globaltype}{\mathit{globaltype}} &amp;::=&amp;
  \href{#syntax-mut}{\mathit{mut}}~\href{#syntax-valtype}{\mathit{valtype}} \\
\def\mathdef2191#1{{}}\mathdef2191{mutability} &amp; \href{#syntax-mut}{\mathit{mut}} &amp;::=&amp;
  \href{#syntax-mut}{\mathsf{const}} ~|~
  \href{#syntax-mut}{\mathsf{var}} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="external-types">
<span id="syntax-externtype"></span><span id="index-8"></span><h4>External Types</h4>
<p><em>External types</em> classify <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">imports</span></a> and <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external values</span></a> with their respective types.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2191#1{{}}\mathdef2191{external types} &amp; \href{#syntax-externtype}{\mathit{externtype}} &amp;::=&amp;
  \href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}} ~|~
  \href{#syntax-externtype}{\mathsf{table}}~\href{#syntax-tabletype}{\mathit{tabletype}} ~|~
  \href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-memtype}{\mathit{memtype}} ~|~
  \href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}} \\
\end{array}\end{split}\]</div>
<div class="section" id="id1">
<h5>Conventions</h5>
<p>The following auxiliary notation is defined for sequences of external types.
It filters out entries of a specific kind in an order-preserving fashion:</p>
<ul class="simple">
<li><span class="math notranslate">\(\href{#syntax-externtype}{\mathrm{funcs}}(\href{#syntax-externtype}{\mathit{externtype}}^\ast) = [\href{#syntax-functype}{\mathit{functype}} ~|~ (\href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}}) \in \href{#syntax-externtype}{\mathit{externtype}}^\ast]\)</span></li>
<li><span class="math notranslate">\(\href{#syntax-externtype}{\mathrm{tables}}(\href{#syntax-externtype}{\mathit{externtype}}^\ast) = [\href{#syntax-tabletype}{\mathit{tabletype}} ~|~ (\href{#syntax-externtype}{\mathsf{table}}~\href{#syntax-tabletype}{\mathit{tabletype}}) \in \href{#syntax-externtype}{\mathit{externtype}}^\ast]\)</span></li>
<li><span class="math notranslate">\(\href{#syntax-externtype}{\mathrm{mems}}(\href{#syntax-externtype}{\mathit{externtype}}^\ast) = [\href{#syntax-memtype}{\mathit{memtype}} ~|~ (\href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-memtype}{\mathit{memtype}}) \in \href{#syntax-externtype}{\mathit{externtype}}^\ast]\)</span></li>
<li><span class="math notranslate">\(\href{#syntax-externtype}{\mathrm{globals}}(\href{#syntax-externtype}{\mathit{externtype}}^\ast) = [\href{#syntax-globaltype}{\mathit{globaltype}} ~|~ (\href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}}) \in \href{#syntax-externtype}{\mathit{externtype}}^\ast]\)</span></li>
</ul>
</div>
</div>
</div>
<span id="document-syntax/instructions"></span><div class="section" id="instructions">
<span id="syntax-instr"></span><span id="index-0"></span><h3>Instructions</h3>
<p>WebAssembly code consists of sequences of <em>instructions</em>.
Its computational model is based on a <em>stack machine</em> in that instructions manipulate values on an implicit <em>operand stack</em>,
consuming (popping) argument values and producing or returning (pushing) result values.</p>
<p>In addition to dynamic operands from the stack, some instructions also have static <em>immediate</em> arguments,
typically <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">indices</span></a> or type annotations,
which are part of the instruction itself.</p>
<p>Some instructions are <a class="reference internal" href="#syntax-instr-control"><span class="std std-ref">structured</span></a> in that they bracket nested sequences of instructions.</p>
<p>The following sections group instructions into a number of different categories.</p>
<div class="section" id="numeric-instructions">
<span id="syntax-instr-numeric"></span><span id="syntax-frelop"></span><span id="syntax-ftestop"></span><span id="syntax-fbinop"></span><span id="syntax-funop"></span><span id="syntax-irelop"></span><span id="syntax-itestop"></span><span id="syntax-ibinop"></span><span id="syntax-iunop"></span><span id="syntax-cvtop"></span><span id="syntax-relop"></span><span id="syntax-testop"></span><span id="syntax-binop"></span><span id="syntax-unop"></span><span id="syntax-const"></span><span id="syntax-sx"></span><span id="index-1"></span><h4>Numeric Instructions</h4>
<p>Numeric instructions provide basic operations over numeric <a class="reference internal" href="index.html#syntax-value"><span class="std std-ref">values</span></a> of specific <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">type</span></a>.
These operations closely match respective operations available in hardware.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcl}
\def\mathdef2071#1{{}}\mathdef2071{width} &amp; \mathit{nn}, \mathit{mm} &amp;::=&amp;
  \mathsf{32} ~|~ \mathsf{64} \\
\def\mathdef2071#1{{}}\mathdef2071{signedness} &amp; \href{#syntax-sx}{\mathit{sx}} &amp;::=&amp;
  \mathsf{u} ~|~ \mathsf{s} \\
\def\mathdef2071#1{{}}\mathdef2071{instruction} &amp; \href{#syntax-instr}{\mathit{instr}} &amp;::=&amp;
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~\href{#syntax-int}{\def\mathdef2130#1{{\mathit{i}#1}}\mathdef2130{\mathit{nn}}} ~|~
  \mathsf{f}\mathit{nn}\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~\href{#syntax-float}{\def\mathdef2131#1{{\mathit{f}#1}}\mathdef2131{\mathit{nn}}} \\&amp;&amp;|&amp;
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-iunop}{\mathit{iunop}} ~|~
  \mathsf{f}\mathit{nn}\mathsf{.}\href{#syntax-funop}{\mathit{funop}} \\&amp;&amp;|&amp;
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-ibinop}{\mathit{ibinop}} ~|~
  \mathsf{f}\mathit{nn}\mathsf{.}\href{#syntax-fbinop}{\mathit{fbinop}} \\&amp;&amp;|&amp;
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-itestop}{\mathit{itestop}} \\&amp;&amp;|&amp;
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-irelop}{\mathit{irelop}} ~|~
  \mathsf{f}\mathit{nn}\mathsf{.}\href{#syntax-frelop}{\mathit{frelop}} \\&amp;&amp;|&amp;
  \mathsf{i32.}\href{#syntax-instr-numeric}{\mathsf{wrap}}\mathsf{\_i64} ~|~
  \mathsf{i64.}\href{#syntax-instr-numeric}{\mathsf{extend}}\mathsf{\_i32}\mathsf{\_}\href{#syntax-sx}{\mathit{sx}} ~|~
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_f}\mathit{mm}\mathsf{\_}\href{#syntax-sx}{\mathit{sx}} \\&amp;&amp;|&amp;
  \mathsf{f32.}\href{#syntax-instr-numeric}{\mathsf{demote}}\mathsf{\_f64} ~|~
  \mathsf{f64.}\href{#syntax-instr-numeric}{\mathsf{promote}}\mathsf{\_f32} ~|~
  \mathsf{f}\mathit{nn}\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_i}\mathit{mm}\mathsf{\_}\href{#syntax-sx}{\mathit{sx}} \\&amp;&amp;|&amp;
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_f}\mathit{nn} ~|~
  \mathsf{f}\mathit{nn}\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_i}\mathit{nn} \\&amp;&amp;|&amp;
  \dots \\
\def\mathdef2071#1{{}}\mathdef2071{integer unary operator} &amp; \href{#syntax-iunop}{\mathit{iunop}} &amp;::=&amp;
  \mathsf{clz} ~|~
  \mathsf{ctz} ~|~
  \mathsf{popcnt} \\
\def\mathdef2071#1{{}}\mathdef2071{integer binary operator} &amp; \href{#syntax-ibinop}{\mathit{ibinop}} &amp;::=&amp;
  \mathsf{add} ~|~
  \mathsf{sub} ~|~
  \mathsf{mul} ~|~
  \mathsf{div\_}\href{#syntax-sx}{\mathit{sx}} ~|~
  \mathsf{rem\_}\href{#syntax-sx}{\mathit{sx}} \\&amp;&amp;|&amp;
  \mathsf{and} ~|~
  \mathsf{or} ~|~
  \mathsf{xor} ~|~
  \mathsf{shl} ~|~
  \mathsf{shr\_}\href{#syntax-sx}{\mathit{sx}} ~|~
  \mathsf{rotl} ~|~
  \mathsf{rotr} \\
\def\mathdef2071#1{{}}\mathdef2071{floating-point unary operator} &amp; \href{#syntax-funop}{\mathit{funop}} &amp;::=&amp;
  \mathsf{abs} ~|~
  \mathsf{neg} ~|~
  \mathsf{sqrt} ~|~
  \mathsf{ceil} ~|~
  \mathsf{floor} ~|~
  \mathsf{trunc} ~|~
  \mathsf{nearest} \\
\def\mathdef2071#1{{}}\mathdef2071{floating-point binary operator} &amp; \href{#syntax-fbinop}{\mathit{fbinop}} &amp;::=&amp;
  \mathsf{add} ~|~
  \mathsf{sub} ~|~
  \mathsf{mul} ~|~
  \mathsf{div} ~|~
  \mathsf{min} ~|~
  \mathsf{max} ~|~
  \mathsf{copysign} \\
\def\mathdef2071#1{{}}\mathdef2071{integer test operator} &amp; \href{#syntax-itestop}{\mathit{itestop}} &amp;::=&amp;
  \mathsf{eqz} \\
\def\mathdef2071#1{{}}\mathdef2071{integer relational operator} &amp; \href{#syntax-irelop}{\mathit{irelop}} &amp;::=&amp;
  \mathsf{eq} ~|~
  \mathsf{ne} ~|~
  \mathsf{lt\_}\href{#syntax-sx}{\mathit{sx}} ~|~
  \mathsf{gt\_}\href{#syntax-sx}{\mathit{sx}} ~|~
  \mathsf{le\_}\href{#syntax-sx}{\mathit{sx}} ~|~
  \mathsf{ge\_}\href{#syntax-sx}{\mathit{sx}} \\
\def\mathdef2071#1{{}}\mathdef2071{floating-point relational operator} &amp; \href{#syntax-frelop}{\mathit{frelop}} &amp;::=&amp;
  \mathsf{eq} ~|~
  \mathsf{ne} ~|~
  \mathsf{lt} ~|~
  \mathsf{gt} ~|~
  \mathsf{le} ~|~
  \mathsf{ge} \\
\end{array}\end{split}\]</div>
<p>Numeric instructions are divided by <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a>.
For each type, several subcategories can be distinguished:</p>
<ul class="simple">
<li><em>Constants</em>: return a static constant.</li>
<li><em>Unary Operators</em>: consume one operand and produce one result of the respective type.</li>
<li><em>Binary Operators</em>: consume two operands and produce one result of the respective type.</li>
<li><em>Tests</em>: consume one operand of the respective type and produce a Boolean integer result.</li>
<li><em>Comparisons</em>: consume two operands of the respective type and produce a Boolean integer result.</li>
<li><em>Conversions</em>: consume a value of one type and produce a result of another
(the source type of the conversion is the one after the “<span class="math notranslate">\(\mathsf{/}\)</span>”).</li>
</ul>
<p>Some integer instructions come in two flavors,
where a signedness annotation <span class="math notranslate">\(\href{#syntax-sx}{\mathit{sx}}\)</span> distinguishes whether the operands are to be <a class="reference internal" href="index.html#aux-signed"><span class="std std-ref">interpreted</span></a> as <a class="reference internal" href="index.html#syntax-uint"><span class="std std-ref">unsigned</span></a> or <a class="reference internal" href="index.html#syntax-sint"><span class="std std-ref">signed</span></a> integers.
For the other integer instructions, the use of two’s complement for the signed interpretation means that they behave the same regardless of signedness.</p>
<div class="section" id="conventions">
<h5>Conventions</h5>
<p>Occasionally, it is convenient to group operators together according to the following grammar shorthands:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2071#1{{}}\mathdef2071{unary operator} &amp; \href{#syntax-unop}{\mathit{unop}} &amp;::=&amp; \href{#syntax-iunop}{\mathit{iunop}} ~|~ \href{#syntax-funop}{\mathit{funop}} \\
\def\mathdef2071#1{{}}\mathdef2071{binary operator} &amp; \href{#syntax-binop}{\mathit{binop}} &amp;::=&amp; \href{#syntax-ibinop}{\mathit{ibinop}} ~|~ \href{#syntax-fbinop}{\mathit{fbinop}} \\
\def\mathdef2071#1{{}}\mathdef2071{test operator} &amp; \href{#syntax-testop}{\mathit{testop}} &amp;::=&amp; \href{#syntax-itestop}{\mathit{itestop}} \\
\def\mathdef2071#1{{}}\mathdef2071{relational operator} &amp; \href{#syntax-relop}{\mathit{relop}} &amp;::=&amp; \href{#syntax-irelop}{\mathit{irelop}} ~|~ \href{#syntax-frelop}{\mathit{frelop}} \\
\def\mathdef2071#1{{}}\mathdef2071{conversion operator} &amp; \href{#syntax-cvtop}{\mathit{cvtop}} &amp;::=&amp;
  \href{#syntax-instr-numeric}{\mathsf{wrap}} ~|~
  \href{#syntax-instr-numeric}{\mathsf{extend}} ~|~
  \href{#syntax-instr-numeric}{\mathsf{trunc}} ~|~
  \href{#syntax-instr-numeric}{\mathsf{convert}} ~|~
  \href{#syntax-instr-numeric}{\mathsf{demote}} ~|~
  \href{#syntax-instr-numeric}{\mathsf{promote}} ~|~
  \href{#syntax-instr-numeric}{\mathsf{reinterpret}} \\
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="parametric-instructions">
<span id="syntax-instr-parametric"></span><span id="index-2"></span><h4>Parametric Instructions</h4>
<p>Instructions in this group can operate on operands of any <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcl}
\def\mathdef2071#1{{}}\mathdef2071{instruction} &amp; \href{#syntax-instr}{\mathit{instr}} &amp;::=&amp;
  \dots \\&amp;&amp;|&amp;
  \href{#syntax-instr-parametric}{\mathsf{drop}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-parametric}{\mathsf{select}}
\end{array}\end{split}\]</div>
<p>The <span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{drop}}\)</span> operator simply throws away a single operand.</p>
<p>The <span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{select}}\)</span> operator selects one of its first two operands based on whether its third operand is zero or not.</p>
</div>
<div class="section" id="variable-instructions">
<span id="syntax-instr-variable"></span><span id="index-3"></span><h4>Variable Instructions</h4>
<p>Variable instructions are concerned with access to <a class="reference internal" href="index.html#syntax-local"><span class="std std-ref">local</span></a> or <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">global</span></a> variables.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcl}
\def\mathdef2071#1{{}}\mathdef2071{instruction} &amp; \href{#syntax-instr}{\mathit{instr}} &amp;::=&amp;
  \dots \\&amp;&amp;|&amp;
  \href{#syntax-instr-variable}{\mathsf{local.get}}~\href{#syntax-localidx}{\mathit{localidx}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-variable}{\mathsf{local.set}}~\href{#syntax-localidx}{\mathit{localidx}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-variable}{\mathsf{local.tee}}~\href{#syntax-localidx}{\mathit{localidx}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-variable}{\mathsf{global.get}}~\href{#syntax-globalidx}{\mathit{globalidx}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-variable}{\mathsf{global.set}}~\href{#syntax-globalidx}{\mathit{globalidx}} \\
\end{array}\end{split}\]</div>
<p>These instructions get or set the values of variables, respectively.
The <span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.tee}}\)</span> instruction is like <span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.set}}\)</span> but also returns its argument.</p>
</div>
<div class="section" id="memory-instructions">
<span id="syntax-instr-memory"></span><span id="syntax-memarg"></span><span id="syntax-storen"></span><span id="syntax-loadn"></span><span id="index-4"></span><h4>Memory Instructions</h4>
<p>Instructions in this group are concerned with linear <a class="reference internal" href="index.html#syntax-mem"><span class="std std-ref">memory</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcl}
\def\mathdef2071#1{{}}\mathdef2071{memory immediate} &amp; \href{#syntax-memarg}{\mathit{memarg}} &amp;::=&amp;
  \{ \href{#syntax-instr-memory}{\mathsf{offset}}~\href{#syntax-int}{\def\mathdef2077#1{{\mathit{u}#1}}\mathdef2077{\mathit{32}}}, \href{#syntax-instr-memory}{\mathsf{align}}~\href{#syntax-int}{\def\mathdef2077#1{{\mathit{u}#1}}\mathdef2077{\mathit{32}}} \} \\
\def\mathdef2071#1{{}}\mathdef2071{instruction} &amp; \href{#syntax-instr}{\mathit{instr}} &amp;::=&amp;
  \dots \\&amp;&amp;|&amp;
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-instr-memory}{\mathsf{load}}~\href{#syntax-memarg}{\mathit{memarg}} ~|~
  \mathsf{f}\mathit{nn}\mathsf{.}\href{#syntax-instr-memory}{\mathsf{load}}~\href{#syntax-memarg}{\mathit{memarg}} \\&amp;&amp;|&amp;
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-instr-memory}{\mathsf{store}}~\href{#syntax-memarg}{\mathit{memarg}} ~|~
  \mathsf{f}\mathit{nn}\mathsf{.}\href{#syntax-instr-memory}{\mathsf{store}}~\href{#syntax-memarg}{\mathit{memarg}} \\&amp;&amp;|&amp;
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_}\href{#syntax-sx}{\mathit{sx}}~\href{#syntax-memarg}{\mathit{memarg}} ~|~
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_}\href{#syntax-sx}{\mathit{sx}}~\href{#syntax-memarg}{\mathit{memarg}} ~|~
  \mathsf{i64.}\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{32\_}\href{#syntax-sx}{\mathit{sx}}~\href{#syntax-memarg}{\mathit{memarg}} \\&amp;&amp;|&amp;
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{8}~\href{#syntax-memarg}{\mathit{memarg}} ~|~
  \mathsf{i}\mathit{nn}\mathsf{.}\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{16}~\href{#syntax-memarg}{\mathit{memarg}} ~|~
  \mathsf{i64.}\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{32}~\href{#syntax-memarg}{\mathit{memarg}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-memory}{\mathsf{memory.size}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-memory}{\mathsf{memory.grow}} \\
\end{array}\end{split}\]</div>
<p>Memory is accessed with <span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{load}}\)</span> and <span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{store}}\)</span> instructions for the different <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a>.
They all take a <em>memory immediate</em> <span class="math notranslate">\(\href{#syntax-memarg}{\mathit{memarg}}\)</span> that contains an address <em>offset</em> and an <em>alignment</em> hint (in base 2 logarithmic representation).
Integer loads and stores can optionally specify a <em>storage size</em> that is smaller than the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">bit width</span></a> of the respective value type.
In the case of loads, a sign extension mode <span class="math notranslate">\(\href{#syntax-sx}{\mathit{sx}}\)</span> is then required to select appropriate behavior.</p>
<p>The static address offset is added to the dynamic address operand, yielding a 33 bit <em>effective address</em> that is the zero-based index at which the memory is accessed.
All values are read and written in <a class="reference external" href="https://en.wikipedia.org/wiki/Endianness#Little-endian">little endian</a> byte order.
A <a class="reference internal" href="index.html#trap"><span class="std std-ref">trap</span></a> results if any of the accessed memory bytes lies outside the address range implied by the memory’s current size.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Future version of WebAssembly might provide memory instructions with 64 bit address ranges.</p>
</div>
<p>The <span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{memory.size}}\)</span> instruction returns the current size of a memory.
The <span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{memory.grow}}\)</span> instruction grows memory by a given delta and returns the previous size, or <span class="math notranslate">\(-1\)</span> if enough memory cannot be allocated.
Both instructions operate in units of <a class="reference internal" href="index.html#page-size"><span class="std std-ref">page size</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current version of WebAssembly,
all memory instructions implicitly operate on <a class="reference internal" href="index.html#syntax-mem"><span class="std std-ref">memory</span></a> <a class="reference internal" href="index.html#syntax-memidx"><span class="std std-ref">index</span></a> <span class="math notranslate">\(0\)</span>.
This restriction may be lifted in future versions.</p>
</div>
</div>
<div class="section" id="control-instructions">
<span id="syntax-instr-control"></span><span id="syntax-instr-seq"></span><span id="syntax-call-indirect"></span><span id="syntax-call"></span><span id="syntax-return"></span><span id="syntax-br-table"></span><span id="syntax-br-if"></span><span id="syntax-br"></span><span id="syntax-if"></span><span id="syntax-loop"></span><span id="syntax-block"></span><span id="syntax-unreachable"></span><span id="syntax-nop"></span><span id="syntax-blocktype"></span><span id="index-5"></span><h4>Control Instructions</h4>
<p>Instructions in this group affect the flow of control.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcl}
\def\mathdef2071#1{{}}\mathdef2071{block type} &amp; \href{#syntax-blocktype}{\mathit{blocktype}} &amp;::=&amp;
  \href{#syntax-typeidx}{\mathit{typeidx}} ~|~ \href{#syntax-valtype}{\mathit{valtype}}^? \\
\def\mathdef2071#1{{}}\mathdef2071{instruction} &amp; \href{#syntax-instr}{\mathit{instr}} &amp;::=&amp;
  \dots \\&amp;&amp;|&amp;
  \href{#syntax-instr-control}{\mathsf{nop}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-control}{\mathsf{unreachable}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-control}{\mathsf{block}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-control}{\mathsf{loop}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-control}{\mathsf{if}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{else}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-control}{\mathsf{br}}~\href{#syntax-labelidx}{\mathit{labelidx}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-control}{\mathsf{br\_if}}~\href{#syntax-labelidx}{\mathit{labelidx}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-control}{\mathsf{br\_table}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-labelidx}{\mathit{labelidx}})~\href{#syntax-labelidx}{\mathit{labelidx}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-control}{\mathsf{return}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-control}{\mathsf{call}}~\href{#syntax-funcidx}{\mathit{funcidx}} \\&amp;&amp;|&amp;
  \href{#syntax-instr-control}{\mathsf{call\_indirect}}~\href{#syntax-typeidx}{\mathit{typeidx}} \\
\end{array}\end{split}\]</div>
<p>The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{nop}}\)</span> instruction does nothing.</p>
<p>The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{unreachable}}\)</span> instruction causes an unconditional <a class="reference internal" href="index.html#trap"><span class="std std-ref">trap</span></a>.</p>
<p>The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{block}}\)</span>, <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{loop}}\)</span> and <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{if}}\)</span> instructions are <em>structured</em> instructions.
They bracket nested sequences of instructions, called <em>blocks</em>, terminated with, or separated by, <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{end}}\)</span> or <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{else}}\)</span> pseudo-instructions.
As the grammar prescribes, they must be well-nested.</p>
<p>A structured instruction can consume <em>input</em> and produce <em>output</em> on the operand stack according to its annotated <em>block type</em>.
It is given either as a <a class="reference internal" href="index.html#syntax-funcidx"><span class="std std-ref">type index</span></a> that refers to a suitable <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a>, or as an optional <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> inline, which is a shorthand for the function type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathit{valtype}}^?]\)</span>.</p>
<p>Each structured control instruction introduces an implicit <em>label</em>.
Labels are targets for branch instructions that reference them with <a class="reference internal" href="index.html#syntax-labelidx"><span class="std std-ref">label indices</span></a>.
Unlike with other <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">index spaces</span></a>, indexing of labels is relative by nesting depth,
that is, label <span class="math notranslate">\(0\)</span> refers to the innermost structured control instruction enclosing the referring branch instruction,
while increasing indices refer to those farther out.
Consequently, labels can only be referenced from <em>within</em> the associated structured control instruction.
This also implies that branches can only be directed outwards,
“breaking” from the block of the control construct they target.
The exact effect depends on that control construct.
In case of <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{block}}\)</span> or <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{if}}\)</span> it is a <em>forward jump</em>,
resuming execution after the matching <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{end}}\)</span>.
In case of <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{loop}}\)</span> it is a <em>backward jump</em> to the beginning of the loop.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This enforces <em>structured control flow</em>.
Intuitively, a branch targeting a <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{block}}\)</span> or <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{if}}\)</span> behaves like a <span class="math notranslate">\(\mathsf{break}\)</span> statement,
while a branch targeting a <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{loop}}\)</span> behaves like a <span class="math notranslate">\(\mathsf{continue}\)</span> statement.</p>
</div>
<p>Branch instructions come in several flavors:
<span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br}}\)</span> performs an unconditional branch,
<span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br\_if}}\)</span> performs a conditional branch,
and <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br\_table}}\)</span> performs an indirect branch through an operand indexing into the label vector that is an immediate to the instruction, or to a default target if the operand is out of bounds.
The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{return}}\)</span> instruction is a shortcut for an unconditional branch to the outermost block, which implicitly is the body of the current function.
Taking a branch <em>unwinds</em> the operand stack up to the height where the targeted structured control instruction was entered.
However, branches may additionally consume operands themselves, which they push back on the operand stack after unwinding.
Forward branches require operands according to the output of the targeted block’s type, i.e., represent the values produced by the terminated block.
Backward branches require operands according to the input of the targeted block’s type, i.e., represent the values consumed by the restarted block.</p>
<p>The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{call}}\)</span> instruction invokes another <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a>, consuming the necessary arguments from the stack and returning the result values of the call.
The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{call\_indirect}}\)</span> instruction calls a function indirectly through an operand indexing into a <a class="reference internal" href="index.html#syntax-table"><span class="std std-ref">table</span></a>.
Since tables may contain function elements of heterogeneous type <span class="math notranslate">\(\href{#syntax-elemtype}{\mathsf{funcref}}\)</span>,
the callee is dynamically checked against the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> indexed by the instruction’s immediate, and the call aborted with a <a class="reference internal" href="index.html#trap"><span class="std std-ref">trap</span></a> if it does not match.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current version of WebAssembly,
<span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{call\_indirect}}\)</span> implicitly operates on <a class="reference internal" href="index.html#syntax-table"><span class="std std-ref">table</span></a> <a class="reference internal" href="index.html#syntax-tableidx"><span class="std std-ref">index</span></a> <span class="math notranslate">\(0\)</span>.
This restriction may be lifted in future versions.</p>
</div>
</div>
<div class="section" id="expressions">
<span id="syntax-expr"></span><span id="index-6"></span><h4>Expressions</h4>
<p><a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">Function</span></a> bodies, initialization values for <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">globals</span></a>, and offsets of <a class="reference internal" href="index.html#syntax-elem"><span class="std std-ref">element</span></a> or <a class="reference internal" href="index.html#syntax-data"><span class="std std-ref">data</span></a> segments are given as expressions, which are sequences of <a class="reference internal" href="#syntax-instr"><span class="std std-ref">instructions</span></a> terminated by an <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{end}}\)</span> marker.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2071#1{{}}\mathdef2071{expression} &amp; \href{#syntax-expr}{\mathit{expr}} &amp;::=&amp;
  \href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\
\end{array}\end{split}\]</div>
<p>In some places, validation <a class="reference internal" href="index.html#valid-constant"><span class="std std-ref">restricts</span></a> expressions to be <em>constant</em>, which limits the set of allowable instructions.</p>
</div>
</div>
<span id="document-syntax/modules"></span><div class="section" id="modules">
<span id="syntax-module"></span><span id="index-0"></span><h3>Modules</h3>
<p>WebAssembly programs are organized into <em>modules</em>,
which are the unit of deployment, loading, and compilation.
A module collects definitions for <a class="reference internal" href="index.html#syntax-type"><span class="std std-ref">types</span></a>, <a class="reference internal" href="#syntax-func"><span class="std std-ref">functions</span></a>, <a class="reference internal" href="#syntax-table"><span class="std std-ref">tables</span></a>, <a class="reference internal" href="#syntax-mem"><span class="std std-ref">memories</span></a>, and <a class="reference internal" href="#syntax-global"><span class="std std-ref">globals</span></a>.
In addition, it can declare <a class="reference internal" href="#syntax-import"><span class="std std-ref">imports</span></a> and <a class="reference internal" href="#syntax-export"><span class="std std-ref">exports</span></a>
and provide initialization logic in the form of <a class="reference internal" href="#syntax-data"><span class="std std-ref">data</span></a> and <a class="reference internal" href="#syntax-elem"><span class="std std-ref">element</span></a> segments or a <a class="reference internal" href="#syntax-start"><span class="std std-ref">start function</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lllll}
\def\mathdef2132#1{{}}\mathdef2132{module} &amp; \href{#syntax-module}{\mathit{module}} &amp;::=&amp; \{ &amp;
  \href{#syntax-module}{\mathsf{types}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-functype}{\mathit{functype}}), \\&amp;&amp;&amp;&amp;
  \href{#syntax-module}{\mathsf{funcs}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-func}{\mathit{func}}), \\&amp;&amp;&amp;&amp;
  \href{#syntax-module}{\mathsf{tables}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-table}{\mathit{table}}), \\&amp;&amp;&amp;&amp;
  \href{#syntax-module}{\mathsf{mems}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-mem}{\mathit{mem}}), \\&amp;&amp;&amp;&amp;
  \href{#syntax-module}{\mathsf{globals}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-global}{\mathit{global}}), \\&amp;&amp;&amp;&amp;
  \href{#syntax-module}{\mathsf{elem}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-elem}{\mathit{elem}}), \\&amp;&amp;&amp;&amp;
  \href{#syntax-module}{\mathsf{data}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-data}{\mathit{data}}), \\&amp;&amp;&amp;&amp;
  \href{#syntax-module}{\mathsf{start}}~\href{#syntax-start}{\mathit{start}}^?, \\&amp;&amp;&amp;&amp;
  \href{#syntax-module}{\mathsf{imports}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-import}{\mathit{import}}), \\&amp;&amp;&amp;&amp;
  \href{#syntax-module}{\mathsf{exports}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-export}{\mathit{export}}) \quad\} \\
\end{array}\end{split}\]</div>
<p>Each of the vectors – and thus the entire module – may be empty.</p>
<div class="section" id="indices">
<span id="syntax-index"></span><span id="syntax-labelidx"></span><span id="syntax-localidx"></span><span id="syntax-globalidx"></span><span id="syntax-memidx"></span><span id="syntax-tableidx"></span><span id="syntax-funcidx"></span><span id="syntax-typeidx"></span><span id="index-1"></span><h4>Indices</h4>
<p>Definitions are referenced with zero-based <em>indices</em>.
Each class of definition has its own <em>index space</em>, as distinguished by the following classes.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2132#1{{}}\mathdef2132{type index} &amp; \href{#syntax-typeidx}{\mathit{typeidx}} &amp;::=&amp; \href{#syntax-int}{\def\mathdef2138#1{{\mathit{u}#1}}\mathdef2138{\mathit{32}}} \\
\def\mathdef2132#1{{}}\mathdef2132{function index} &amp; \href{#syntax-funcidx}{\mathit{funcidx}} &amp;::=&amp; \href{#syntax-int}{\def\mathdef2138#1{{\mathit{u}#1}}\mathdef2138{\mathit{32}}} \\
\def\mathdef2132#1{{}}\mathdef2132{table index} &amp; \href{#syntax-tableidx}{\mathit{tableidx}} &amp;::=&amp; \href{#syntax-int}{\def\mathdef2138#1{{\mathit{u}#1}}\mathdef2138{\mathit{32}}} \\
\def\mathdef2132#1{{}}\mathdef2132{memory index} &amp; \href{#syntax-memidx}{\mathit{memidx}} &amp;::=&amp; \href{#syntax-int}{\def\mathdef2138#1{{\mathit{u}#1}}\mathdef2138{\mathit{32}}} \\
\def\mathdef2132#1{{}}\mathdef2132{global index} &amp; \href{#syntax-globalidx}{\mathit{globalidx}} &amp;::=&amp; \href{#syntax-int}{\def\mathdef2138#1{{\mathit{u}#1}}\mathdef2138{\mathit{32}}} \\
\def\mathdef2132#1{{}}\mathdef2132{local index} &amp; \href{#syntax-localidx}{\mathit{localidx}} &amp;::=&amp; \href{#syntax-int}{\def\mathdef2138#1{{\mathit{u}#1}}\mathdef2138{\mathit{32}}} \\
\def\mathdef2132#1{{}}\mathdef2132{label index} &amp; \href{#syntax-labelidx}{\mathit{labelidx}} &amp;::=&amp; \href{#syntax-int}{\def\mathdef2138#1{{\mathit{u}#1}}\mathdef2138{\mathit{32}}} \\
\end{array}\end{split}\]</div>
<p>The index space for <a class="reference internal" href="#syntax-func"><span class="std std-ref">functions</span></a>, <a class="reference internal" href="#syntax-table"><span class="std std-ref">tables</span></a>, <a class="reference internal" href="#syntax-mem"><span class="std std-ref">memories</span></a> and <a class="reference internal" href="#syntax-global"><span class="std std-ref">globals</span></a> includes respective <a class="reference internal" href="#syntax-import"><span class="std std-ref">imports</span></a> declared in the same module.
The indices of these imports precede the indices of other definitions in the same index space.</p>
<p>The index space for <a class="reference internal" href="#syntax-local"><span class="std std-ref">locals</span></a> is only accessible inside a <a class="reference internal" href="#syntax-func"><span class="std std-ref">function</span></a> and includes the parameters of that function, which precede the local variables.</p>
<p>Label indices reference <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">structured control instructions</span></a> inside an instruction sequence.</p>
<div class="section" id="conventions">
<h5>Conventions</h5>
<ul class="simple">
<li>The meta variable <span class="math notranslate">\(l\)</span> ranges over label indices.</li>
<li>The meta variables <span class="math notranslate">\(x, y\)</span> range over indices in any of the other index spaces.</li>
</ul>
</div>
</div>
<div class="section" id="types">
<span id="syntax-typedef"></span><span id="index-2"></span><h4>Types</h4>
<p>The <span class="math notranslate">\(\href{#syntax-module}{\mathsf{types}}\)</span> component of a module defines a vector of <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function types</span></a>.</p>
<p>All function types used in a module must be defined in this component.
They are referenced by <a class="reference internal" href="#syntax-typeidx"><span class="std std-ref">type indices</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Future versions of WebAssembly may add additional forms of type definitions.</p>
</div>
</div>
<div class="section" id="functions">
<span id="syntax-func"></span><span id="syntax-local"></span><span id="index-3"></span><h4>Functions</h4>
<p>The <span class="math notranslate">\(\href{#syntax-module}{\mathsf{funcs}}\)</span> component of a module defines a vector of <em>functions</em> with the following structure:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2132#1{{}}\mathdef2132{function} &amp; \href{#syntax-func}{\mathit{func}} &amp;::=&amp;
  \{ \href{#syntax-func}{\mathsf{type}}~\href{#syntax-typeidx}{\mathit{typeidx}}, \href{#syntax-func}{\mathsf{locals}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-valtype}{\mathit{valtype}}), \href{#syntax-func}{\mathsf{body}}~\href{#syntax-expr}{\mathit{expr}} \} \\
\end{array}\end{split}\]</div>
<p>The <span class="math notranslate">\(\href{#syntax-func}{\mathsf{type}}\)</span> of a function declares its signature by reference to a <a class="reference internal" href="index.html#syntax-type"><span class="std std-ref">type</span></a> defined in the module.
The parameters of the function are referenced through 0-based <a class="reference internal" href="#syntax-localidx"><span class="std std-ref">local indices</span></a> in the function’s body; they are mutable.</p>
<p>The <span class="math notranslate">\(\href{#syntax-func}{\mathsf{locals}}\)</span> declare a vector of mutable local variables and their types.
These variables are referenced through <a class="reference internal" href="#syntax-localidx"><span class="std std-ref">local indices</span></a> in the function’s body.
The index of the first local is the smallest index not referencing a parameter.</p>
<p>The <span class="math notranslate">\(\href{#syntax-func}{\mathsf{body}}\)</span> is an <a class="reference internal" href="index.html#syntax-expr"><span class="std std-ref">instruction</span></a> sequence that upon termination must produce a stack matching the function type’s <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a>.</p>
<p>Functions are referenced through <a class="reference internal" href="#syntax-funcidx"><span class="std std-ref">function indices</span></a>,
starting with the smallest index not referencing a function <a class="reference internal" href="#syntax-import"><span class="std std-ref">import</span></a>.</p>
</div>
<div class="section" id="tables">
<span id="syntax-table"></span><span id="index-4"></span><h4>Tables</h4>
<p>The <span class="math notranslate">\(\href{#syntax-module}{\mathsf{tables}}\)</span> component of a module defines a vector of <em>tables</em> described by their <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table type</span></a>:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2132#1{{}}\mathdef2132{table} &amp; \href{#syntax-table}{\mathit{table}} &amp;::=&amp;
  \{ \href{#syntax-table}{\mathsf{type}}~\href{#syntax-tabletype}{\mathit{tabletype}} \} \\
\end{array}\end{split}\]</div>
<p>A table is a vector of opaque values of a particular table <a class="reference internal" href="index.html#syntax-elemtype"><span class="std std-ref">element type</span></a>.
The <span class="math notranslate">\(\href{#syntax-limits}{\mathsf{min}}\)</span> size in the <a class="reference internal" href="index.html#syntax-limits"><span class="std std-ref">limits</span></a> of the table type specifies the initial size of that table, while its <span class="math notranslate">\(\href{#syntax-limits}{\mathsf{max}}\)</span>, if present, restricts the size to which it can grow later.</p>
<p>Tables can be initialized through <a class="reference internal" href="#syntax-elem"><span class="std std-ref">element segments</span></a>.</p>
<p>Tables are referenced through <a class="reference internal" href="#syntax-tableidx"><span class="std std-ref">table indices</span></a>,
starting with the smallest index not referencing a table <a class="reference internal" href="#syntax-import"><span class="std std-ref">import</span></a>.
Most constructs implicitly reference table index <span class="math notranslate">\(0\)</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current version of WebAssembly, at most one table may be defined or imported in a single module,
and <em>all</em> constructs implicitly reference this table <span class="math notranslate">\(0\)</span>.
This restriction may be lifted in future versions.</p>
</div>
</div>
<div class="section" id="memories">
<span id="syntax-mem"></span><span id="index-5"></span><h4>Memories</h4>
<p>The <span class="math notranslate">\(\href{#syntax-module}{\mathsf{mems}}\)</span> component of a module defines a vector of <em>linear memories</em> (or <em>memories</em> for short) as described by their <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory type</span></a>:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2132#1{{}}\mathdef2132{memory} &amp; \href{#syntax-mem}{\mathit{mem}} &amp;::=&amp;
  \{ \href{#syntax-mem}{\mathsf{type}}~\href{#syntax-memtype}{\mathit{memtype}} \} \\
\end{array}\end{split}\]</div>
<p>A memory is a vector of raw uninterpreted bytes.
The <span class="math notranslate">\(\href{#syntax-limits}{\mathsf{min}}\)</span> size in the <a class="reference internal" href="index.html#syntax-limits"><span class="std std-ref">limits</span></a> of the memory type specifies the initial size of that memory, while its <span class="math notranslate">\(\href{#syntax-limits}{\mathsf{max}}\)</span>, if present, restricts the size to which it can grow later.
Both are in units of <a class="reference internal" href="index.html#page-size"><span class="std std-ref">page size</span></a>.</p>
<p>Memories can be initialized through <a class="reference internal" href="#syntax-data"><span class="std std-ref">data segments</span></a>.</p>
<p>Memories are referenced through <a class="reference internal" href="#syntax-memidx"><span class="std std-ref">memory indices</span></a>,
starting with the smallest index not referencing a memory <a class="reference internal" href="#syntax-import"><span class="std std-ref">import</span></a>.
Most constructs implicitly reference memory index <span class="math notranslate">\(0\)</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current version of WebAssembly, at most one memory may be defined or imported in a single module,
and <em>all</em> constructs implicitly reference this memory <span class="math notranslate">\(0\)</span>.
This restriction may be lifted in future versions.</p>
</div>
</div>
<div class="section" id="globals">
<span id="syntax-global"></span><span id="index-6"></span><h4>Globals</h4>
<p>The <span class="math notranslate">\(\href{#syntax-module}{\mathsf{globals}}\)</span> component of a module defines a vector of <em>global variables</em> (or <em>globals</em> for short):</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2132#1{{}}\mathdef2132{global} &amp; \href{#syntax-global}{\mathit{global}} &amp;::=&amp;
  \{ \href{#syntax-global}{\mathsf{type}}~\href{#syntax-globaltype}{\mathit{globaltype}}, \href{#syntax-global}{\mathsf{init}}~\href{#syntax-expr}{\mathit{expr}} \} \\
\end{array}\end{split}\]</div>
<p>Each global stores a single value of the given <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a>.
Its <span class="math notranslate">\(\href{#syntax-global}{\mathsf{type}}\)</span> also specifies whether a global is immutable or mutable.
Moreover, each global is initialized with an <span class="math notranslate">\(\href{#syntax-global}{\mathsf{init}}\)</span> value given by a <a class="reference internal" href="index.html#valid-constant"><span class="std std-ref">constant</span></a> initializer <a class="reference internal" href="index.html#syntax-expr"><span class="std std-ref">expression</span></a>.</p>
<p>Globals are referenced through <a class="reference internal" href="#syntax-globalidx"><span class="std std-ref">global indices</span></a>,
starting with the smallest index not referencing a global <a class="reference internal" href="#syntax-import"><span class="std std-ref">import</span></a>.</p>
</div>
<div class="section" id="element-segments">
<span id="syntax-elem"></span><span id="index-7"></span><h4>Element Segments</h4>
<p>The initial contents of a table is uninitialized.
The <span class="math notranslate">\(\href{#syntax-module}{\mathsf{elem}}\)</span> component of a module defines a vector of <em>element segments</em> that initialize a subrange of a table, at a given offset, from a static <a class="reference internal" href="index.html#syntax-vec"><span class="std std-ref">vector</span></a> of elements.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2132#1{{}}\mathdef2132{element segment} &amp; \href{#syntax-elem}{\mathit{elem}} &amp;::=&amp;
  \{ \href{#syntax-elem}{\mathsf{table}}~\href{#syntax-tableidx}{\mathit{tableidx}}, \href{#syntax-elem}{\mathsf{offset}}~\href{#syntax-expr}{\mathit{expr}}, \href{#syntax-elem}{\mathsf{init}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-funcidx}{\mathit{funcidx}}) \} \\
\end{array}\end{split}\]</div>
<p>The <span class="math notranslate">\(\href{#syntax-elem}{\mathsf{offset}}\)</span> is given by a <a class="reference internal" href="index.html#valid-constant"><span class="std std-ref">constant</span></a> <a class="reference internal" href="index.html#syntax-expr"><span class="std std-ref">expression</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current version of WebAssembly, at most one table is allowed in a module.
Consequently, the only valid <span class="math notranslate">\(\href{#syntax-tableidx}{\mathit{tableidx}}\)</span> is <span class="math notranslate">\(0\)</span>.</p>
</div>
</div>
<div class="section" id="data-segments">
<span id="syntax-data"></span><span id="index-8"></span><h4>Data Segments</h4>
<p>The initial contents of a <a class="reference internal" href="#syntax-mem"><span class="std std-ref">memory</span></a> are zero-valued bytes.
The <span class="math notranslate">\(\href{#syntax-module}{\mathsf{data}}\)</span> component of a module defines a vector of <em>data segments</em> that initialize a range of memory, at a given offset, with a static <a class="reference internal" href="index.html#syntax-vec"><span class="std std-ref">vector</span></a> of <a class="reference internal" href="index.html#syntax-byte"><span class="std std-ref">bytes</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2132#1{{}}\mathdef2132{data segment} &amp; \href{#syntax-data}{\mathit{data}} &amp;::=&amp;
  \{ \href{#syntax-data}{\mathsf{data}}~\href{#syntax-memidx}{\mathit{memidx}}, \href{#syntax-data}{\mathsf{offset}}~\href{#syntax-expr}{\mathit{expr}}, \href{#syntax-data}{\mathsf{init}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-byte}{\mathit{byte}}) \} \\
\end{array}\end{split}\]</div>
<p>The <span class="math notranslate">\(\href{#syntax-data}{\mathsf{offset}}\)</span> is given by a <a class="reference internal" href="index.html#valid-constant"><span class="std std-ref">constant</span></a> <a class="reference internal" href="index.html#syntax-expr"><span class="std std-ref">expression</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current version of WebAssembly, at most one memory is allowed in a module.
Consequently, the only valid <span class="math notranslate">\(\href{#syntax-memidx}{\mathit{memidx}}\)</span> is <span class="math notranslate">\(0\)</span>.</p>
</div>
</div>
<div class="section" id="start-function">
<span id="syntax-start"></span><span id="index-9"></span><h4>Start Function</h4>
<p>The <span class="math notranslate">\(\href{#syntax-module}{\mathsf{start}}\)</span> component of a module declares the <a class="reference internal" href="#syntax-funcidx"><span class="std std-ref">function index</span></a> of a <em>start function</em> that is automatically invoked when the module is <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">instantiated</span></a>, after <a class="reference internal" href="#syntax-table"><span class="std std-ref">tables</span></a> and <a class="reference internal" href="#syntax-mem"><span class="std std-ref">memories</span></a> have been initialized.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2132#1{{}}\mathdef2132{start function} &amp; \href{#syntax-start}{\mathit{start}} &amp;::=&amp;
  \{ \href{#syntax-start}{\mathsf{func}}~\href{#syntax-funcidx}{\mathit{funcidx}} \} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exports">
<span id="syntax-export"></span><span id="syntax-exportdesc"></span><span id="index-10"></span><h4>Exports</h4>
<p>The <span class="math notranslate">\(\href{#syntax-module}{\mathsf{exports}}\)</span> component of a module defines a set of <em>exports</em> that become accessible to the host environment once the module has been <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">instantiated</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcl}
\def\mathdef2132#1{{}}\mathdef2132{export} &amp; \href{#syntax-export}{\mathit{export}} &amp;::=&amp;
  \{ \href{#syntax-export}{\mathsf{name}}~\href{#syntax-name}{\mathit{name}}, \href{#syntax-export}{\mathsf{desc}}~\href{#syntax-exportdesc}{\mathit{exportdesc}} \} \\
\def\mathdef2132#1{{}}\mathdef2132{export description} &amp; \href{#syntax-exportdesc}{\mathit{exportdesc}} &amp;::=&amp;
  \href{#syntax-exportdesc}{\mathsf{func}}~\href{#syntax-funcidx}{\mathit{funcidx}} \\&amp;&amp;|&amp;
  \href{#syntax-exportdesc}{\mathsf{table}}~\href{#syntax-tableidx}{\mathit{tableidx}} \\&amp;&amp;|&amp;
  \href{#syntax-exportdesc}{\mathsf{mem}}~\href{#syntax-memidx}{\mathit{memidx}} \\&amp;&amp;|&amp;
  \href{#syntax-exportdesc}{\mathsf{global}}~\href{#syntax-globalidx}{\mathit{globalidx}} \\
\end{array}\end{split}\]</div>
<p>Each export is labeled by a unique <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">name</span></a>.
Exportable definitions are <a class="reference internal" href="#syntax-func"><span class="std std-ref">functions</span></a>, <a class="reference internal" href="#syntax-table"><span class="std std-ref">tables</span></a>, <a class="reference internal" href="#syntax-mem"><span class="std std-ref">memories</span></a>, and <a class="reference internal" href="#syntax-global"><span class="std std-ref">globals</span></a>,
which are referenced through a respective descriptor.</p>
<div class="section" id="id1">
<h5>Conventions</h5>
<p>The following auxiliary notation is defined for sequences of exports, filtering out indices of a specific kind in an order-preserving fashion:</p>
<ul class="simple">
<li><span class="math notranslate">\(\href{#syntax-exportdesc}{\mathrm{funcs}}(\href{#syntax-export}{\mathit{export}}^\ast) = [\href{#syntax-funcidx}{\mathit{funcidx}} ~|~ \href{#syntax-exportdesc}{\mathsf{func}}~\href{#syntax-funcidx}{\mathit{funcidx}} \in (\href{#syntax-export}{\mathit{export}}.\href{#syntax-export}{\mathsf{desc}})^\ast]\)</span></li>
<li><span class="math notranslate">\(\href{#syntax-exportdesc}{\mathrm{tables}}(\href{#syntax-export}{\mathit{export}}^\ast) = [\href{#syntax-tableidx}{\mathit{tableidx}} ~|~ \href{#syntax-exportdesc}{\mathsf{table}}~\href{#syntax-tableidx}{\mathit{tableidx}} \in (\href{#syntax-export}{\mathit{export}}.\href{#syntax-export}{\mathsf{desc}})^\ast]\)</span></li>
<li><span class="math notranslate">\(\href{#syntax-exportdesc}{\mathrm{mems}}(\href{#syntax-export}{\mathit{export}}^\ast) = [\href{#syntax-memidx}{\mathit{memidx}} ~|~ \href{#syntax-exportdesc}{\mathsf{mem}}~\href{#syntax-memidx}{\mathit{memidx}} \in (\href{#syntax-export}{\mathit{export}}.\href{#syntax-export}{\mathsf{desc}})^\ast]\)</span></li>
<li><span class="math notranslate">\(\href{#syntax-exportdesc}{\mathrm{globals}}(\href{#syntax-export}{\mathit{export}}^\ast) = [\href{#syntax-globalidx}{\mathit{globalidx}} ~|~ \href{#syntax-exportdesc}{\mathsf{global}}~\href{#syntax-globalidx}{\mathit{globalidx}} \in (\href{#syntax-export}{\mathit{export}}.\href{#syntax-export}{\mathsf{desc}})^\ast]\)</span></li>
</ul>
</div>
</div>
<div class="section" id="imports">
<span id="syntax-import"></span><span id="syntax-importdesc"></span><span id="index-11"></span><h4>Imports</h4>
<p>The <span class="math notranslate">\(\href{#syntax-module}{\mathsf{imports}}\)</span> component of a module defines a set of <em>imports</em> that are required for <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">instantiation</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2132#1{{}}\mathdef2132{import} &amp; \href{#syntax-import}{\mathit{import}} &amp;::=&amp;
  \{ \href{#syntax-import}{\mathsf{module}}~\href{#syntax-name}{\mathit{name}}, \href{#syntax-import}{\mathsf{name}}~\href{#syntax-name}{\mathit{name}}, \href{#syntax-import}{\mathsf{desc}}~\href{#syntax-importdesc}{\mathit{importdesc}} \} \\
\def\mathdef2132#1{{}}\mathdef2132{import description} &amp; \href{#syntax-importdesc}{\mathit{importdesc}} &amp;::=&amp;
  \href{#syntax-importdesc}{\mathsf{func}}~\href{#syntax-typeidx}{\mathit{typeidx}} \\&amp;&amp;|&amp;
  \href{#syntax-importdesc}{\mathsf{table}}~\href{#syntax-tabletype}{\mathit{tabletype}} \\&amp;&amp;|&amp;
  \href{#syntax-importdesc}{\mathsf{mem}}~\href{#syntax-memtype}{\mathit{memtype}} \\&amp;&amp;|&amp;
  \href{#syntax-importdesc}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}} \\
\end{array}\end{split}\]</div>
<p>Each import is labeled by a two-level <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">name</span></a> space, consisting of a <span class="math notranslate">\(\href{#syntax-import}{\mathsf{module}}\)</span> name and a <span class="math notranslate">\(\href{#syntax-import}{\mathsf{name}}\)</span> for an entity within that module.
Importable definitions are <a class="reference internal" href="#syntax-func"><span class="std std-ref">functions</span></a>, <a class="reference internal" href="#syntax-table"><span class="std std-ref">tables</span></a>, <a class="reference internal" href="#syntax-mem"><span class="std std-ref">memories</span></a>, and <a class="reference internal" href="#syntax-global"><span class="std std-ref">globals</span></a>.
Each import is specified by a descriptor with a respective type that a definition provided during instantiation is required to match.</p>
<p>Every import defines an index in the respective <a class="reference internal" href="#syntax-index"><span class="std std-ref">index space</span></a>.
In each index space, the indices of imports go before the first index of any definition contained in the module itself.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unlike export names, import names are not necessarily unique.
It is possible to import the same <span class="math notranslate">\(\href{#syntax-import}{\mathsf{module}}\)</span>/<span class="math notranslate">\(\href{#syntax-import}{\mathsf{name}}\)</span> pair multiple times;
such imports may even have different type descriptions, including different kinds of entities.
A module with such imports can still be instantiated depending on the specifics of how an <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a> allows resolving and supplying imports.
However, embedders are not required to support such overloading,
and a WebAssembly module itself cannot implement an overloaded name.</p>
</div>
</div>
</div>
</div>
</div>
<span id="document-valid/index"></span><div class="section" id="validation">
<span id="valid"></span><h2>Validation</h2>
<div class="toctree-wrapper compound">
<span id="document-valid/conventions"></span><div class="section" id="conventions">
<span id="type-system"></span><span id="index-0"></span><h3>Conventions</h3>
<p>Validation checks that a WebAssembly module is well-formed.
Only valid modules can be <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">instantiated</span></a>.</p>
<p>Validity is defined by a <em>type system</em> over the <a class="reference internal" href="index.html#syntax"><span class="std std-ref">abstract syntax</span></a> of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a> and its contents.
For each piece of abstract syntax, there is a typing rule that specifies the constraints that apply to it.
All rules are given in two <em>equivalent</em> forms:</p>
<ol class="arabic simple">
<li>In <em>prose</em>, describing the meaning in intuitive form.</li>
<li>In <em>formal notation</em>, describing the rule in mathematical form. <a class="footnote-reference" href="#cite-pldi2017" id="id1">[1]</a></li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The prose and formal rules are equivalent,
so that understanding of the formal notation is <em>not</em> required to read this specification.
The formalism offers a more concise description in notation that is used widely in programming languages semantics and is readily amenable to mathematical proof.</p>
</div>
<p>In both cases, the rules are formulated in a <em>declarative</em> manner.
That is, they only formulate the constraints, they do not define an algorithm.
The skeleton of a sound and complete algorithm for type-checking instruction sequences according to this specification is provided in the <a class="reference internal" href="index.html#algo-valid"><span class="std std-ref">appendix</span></a>.</p>
<div class="section" id="contexts">
<span id="context"></span><span id="index-1"></span><h4>Contexts</h4>
<p>Validity of an individual definition is specified relative to a <em>context</em>,
which collects relevant information about the surrounding <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a> and the definitions in scope:</p>
<ul class="simple">
<li><em>Types</em>: the list of types defined in the current module.</li>
<li><em>Functions</em>: the list of functions declared in the current module, represented by their function type.</li>
<li><em>Tables</em>: the list of tables declared in the current module, represented by their table type.</li>
<li><em>Memories</em>: the list of memories declared in the current module, represented by their memory type.</li>
<li><em>Globals</em>: the list of globals declared in the current module, represented by their global type.</li>
<li><em>Locals</em>: the list of locals declared in the current function (including parameters), represented by their value type.</li>
<li><em>Labels</em>: the stack of labels accessible from the current position, represented by their result type.</li>
<li><em>Return</em>: the return type of the current function, represented as an optional result type that is absent when no return is allowed, as in free-standing expressions.</li>
</ul>
<p>In other words, a context contains a sequence of suitable <a class="reference internal" href="index.html#syntax-type"><span class="std std-ref">types</span></a> for each <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">index space</span></a>,
describing each defined entry in that space.
Locals, labels and return type are only used for validating <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instructions</span></a> in <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function bodies</span></a>, and are left empty elsewhere.
The label stack is the only part of the context that changes as validation of an instruction sequence proceeds.</p>
<p>More concretely, contexts are defined as <a class="reference internal" href="index.html#notation-record"><span class="std std-ref">records</span></a> <span class="math notranslate">\(C\)</span> with abstract syntax:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef3399#1{{}}\mathdef3399{(context)} &amp; C &amp;::=&amp;
  \begin{array}[t]{l&#64;{~}ll}
  \{ &amp; \href{#context}{\mathsf{types}} &amp; \href{#syntax-functype}{\mathit{functype}}^\ast, \\
     &amp; \href{#context}{\mathsf{funcs}} &amp; \href{#syntax-functype}{\mathit{functype}}^\ast, \\
     &amp; \href{#context}{\mathsf{tables}} &amp; \href{#syntax-tabletype}{\mathit{tabletype}}^\ast, \\
     &amp; \href{#context}{\mathsf{mems}} &amp; \href{#syntax-memtype}{\mathit{memtype}}^\ast, \\
     &amp; \href{#context}{\mathsf{globals}} &amp; \href{#syntax-globaltype}{\mathit{globaltype}}^\ast, \\
     &amp; \href{#context}{\mathsf{locals}} &amp; \href{#syntax-valtype}{\mathit{valtype}}^\ast, \\
     &amp; \href{#context}{\mathsf{labels}} &amp; \href{#syntax-resulttype}{\mathit{resulttype}}^\ast, \\
     &amp; \href{#context}{\mathsf{return}} &amp; \href{#syntax-resulttype}{\mathit{resulttype}}^? ~\} \\
  \end{array}
\end{array}\end{split}\]</div>
<p id="notation-extend">In addition to field access written <span class="math notranslate">\(C.\mathsf{field}\)</span> the following notation is adopted for manipulating contexts:</p>
<ul class="simple">
<li>When spelling out a context, empty fields are omitted.</li>
<li><span class="math notranslate">\(C,\mathsf{field}\,A^\ast\)</span> denotes the same context as <span class="math notranslate">\(C\)</span> but with the elements <span class="math notranslate">\(A^\ast\)</span> prepended to its <span class="math notranslate">\(\mathsf{field}\)</span> component sequence.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We use <a class="reference internal" href="index.html#notation-index"><span class="std std-ref">indexing notation</span></a> like <span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[i]\)</span> to look up indices in their respective <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">index space</span></a> in the context.
Context extension notation <span class="math notranslate">\(C,\mathsf{field}\,A\)</span> is primarily used to locally extend <em>relative</em> index spaces, such as <a class="reference internal" href="index.html#syntax-labelidx"><span class="std std-ref">label indices</span></a>.
Accordingly, the notation is defined to append at the <em>front</em> of the respective sequence, introducing a new relative index <span class="math notranslate">\(0\)</span> and shifting the existing ones.</p>
</div>
</div>
<div class="section" id="prose-notation">
<span id="valid-notation-textual"></span><h4>Prose Notation</h4>
<p>Validation is specified by stylised rules for each relevant part of the <a class="reference internal" href="index.html#syntax"><span class="std std-ref">abstract syntax</span></a>.
The rules not only state constraints defining when a phrase is valid,
they also classify it with a type.
The following conventions are adopted in stating these rules.</p>
<ul>
<li><p class="first">A phrase <span class="math notranslate">\(A\)</span> is said to be “valid with type <span class="math notranslate">\(T\)</span>”
if and only if all constraints expressed by the respective rules are met.
The form of <span class="math notranslate">\(T\)</span> depends on what <span class="math notranslate">\(A\)</span> is.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For example, if <span class="math notranslate">\(A\)</span> is a <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a>,
then  <span class="math notranslate">\(T\)</span> is a <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a>;
for an <span class="math notranslate">\(A\)</span> that is a <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">global</span></a>,
<span class="math notranslate">\(T\)</span> is a <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a>;
and so on.</p>
</div>
</li>
<li><p class="first">The rules implicitly assume a given <a class="reference internal" href="#context"><span class="std std-ref">context</span></a> <span class="math notranslate">\(C\)</span>.</p>
</li>
<li><p class="first">In some places, this context is locally extended to a context <span class="math notranslate">\(C'\)</span> with additional entries.
The formulation “Under context <span class="math notranslate">\(C'\)</span>, … <em>statement</em> …” is adopted to express that the following statement must apply under the assumptions embodied in the extended context.</p>
</li>
</ul>
</div>
<div class="section" id="formal-notation">
<span id="valid-notation"></span><span id="index-2"></span><h4>Formal Notation</h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This section gives a brief explanation of the notation for specifying typing rules formally.
For the interested reader, a more thorough introduction can be found in respective text books. <a class="footnote-reference" href="#cite-tapl" id="id2">[2]</a></p>
</div>
<p>The proposition that a phrase <span class="math notranslate">\(A\)</span> has a respective type <span class="math notranslate">\(T\)</span> is written <span class="math notranslate">\(A : T\)</span>.
In general, however, typing is dependent on a context <span class="math notranslate">\(C\)</span>.
To express this explicitly, the complete form is a <em>judgement</em> <span class="math notranslate">\(C \vdash A : T\)</span>,
which says that <span class="math notranslate">\(A : T\)</span> holds under the assumptions encoded in <span class="math notranslate">\(C\)</span>.</p>
<p>The formal typing rules use a standard approach for specifying type systems, rendering them into <em>deduction rules</em>.
Every rule has the following general form:</p>
<div class="math notranslate">
\[\frac{
  \mathit{premise}_1 \qquad \mathit{premise}_2 \qquad \dots \qquad \mathit{premise}_n
}{
  \mathit{conclusion}
}\]</div>
<p>Such a rule is read as a big implication: if all premises hold, then the conclusion holds.
Some rules have no premises; they are <em>axioms</em> whose conclusion holds unconditionally.
The conclusion always is a judgment <span class="math notranslate">\(C \vdash A : T\)</span>,
and there is one respective rule for each relevant construct <span class="math notranslate">\(A\)</span> of the abstract syntax.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For example, the typing rule for the <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{add}}\)</span> instruction can be given as an axiom:</p>
<div class="math notranslate">
\[\frac{
}{
  C \vdash \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{add}} : [\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]
}\]</div>
<p>The instruction is always valid with type <span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}\)</span>]
(saying that it consumes two <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> values and produces one),
independent of any side conditions.</p>
<p>An instruction like <span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.get}}\)</span> can be typed as follows:</p>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{locals}}[x] = t
}{
  C \vdash \href{#syntax-instr-variable}{\mathsf{local.get}}~x : [] \href{#syntax-functype}{\rightarrow} [t]
}\]</div>
<p>Here, the premise enforces that the immediate <a class="reference internal" href="index.html#syntax-localidx"><span class="std std-ref">local index</span></a> <span class="math notranslate">\(x\)</span> exists in the context.
The instruction produces a value of its respective type <span class="math notranslate">\(t\)</span>
(and does not consume any values).
If <span class="math notranslate">\(C.\href{#context}{\mathsf{locals}}[x]\)</span> does not exist then the premise does not hold,
and the instruction is ill-typed.</p>
<p>Finally, a <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">structured</span></a> instruction requires
a recursive rule, where the premise is itself a typing judgement:</p>
<div class="math notranslate">
\[\frac{
  C \vdash \href{#syntax-blocktype}{\mathit{blocktype}} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
  \qquad
  C,\href{#syntax-label}{\mathsf{label}}\,[t_2^\ast] \vdash \href{#syntax-instr}{\mathit{instr}}^\ast : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}{
  C \vdash \href{#syntax-instr-control}{\mathsf{block}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
<p class="last">A <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{block}}\)</span> instruction is only valid when the instruction sequence in its body is.
Moreover, the result type must match the block’s annotation <span class="math notranslate">\(\href{#syntax-blocktype}{\mathit{blocktype}}\)</span>.
If so, then the <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{block}}\)</span> instruction has the same type as the body.
Inside the body an additional label of the corresponding result type is available,
which is expressed by extending the context <span class="math notranslate">\(C\)</span> with the additional label information for the premise.</p>
</div>
<table class="docutils footnote" frame="void" id="cite-pldi2017" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>The semantics is derived from the following article:
Andreas Haas, Andreas Rossberg, Derek Schuff, Ben Titzer, Dan Gohman, Luke Wagner, Alon Zakai, JF Bastien, Michael Holman. <a class="reference external" href="https://dl.acm.org/citation.cfm?doid=3062341.3062363">Bringing the Web up to Speed with WebAssembly</a>. Proceedings of the 38th ACM SIGPLAN Conference on Programming Language Design and Implementation (PLDI 2017). ACM 2017.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="cite-tapl" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>For example: Benjamin Pierce. <a class="reference external" href="https://www.cis.upenn.edu/~bcpierce/tapl/">Types and Programming Languages</a>. The MIT Press 2002</td></tr>
</tbody>
</table>
</div>
</div>
<span id="document-valid/types"></span><div class="section" id="types">
<h3>Types</h3>
<p>Most <a class="reference internal" href="index.html#syntax-type"><span class="std std-ref">types</span></a> are universally valid.
However, restrictions apply to <a class="reference internal" href="index.html#syntax-limits"><span class="std std-ref">limits</span></a>, which must be checked during validation.
Moreover, <a class="reference internal" href="index.html#syntax-blocktype"><span class="std std-ref">block types</span></a> are converted to plain <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function types</span></a> for ease of processing.</p>
<div class="section" id="limits">
<span id="valid-limits"></span><span id="index-0"></span><h4>Limits</h4>
<p><a class="reference internal" href="index.html#syntax-limits"><span class="std std-ref">Limits</span></a> must have meaningful bounds that are within a given range.</p>
<div class="section" id="id1">
<h5><span class="math notranslate">\(\{ \href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^? \}\)</span></h5>
<ul class="simple">
<li>The value of <span class="math notranslate">\(n\)</span> must not be larger than <span class="math notranslate">\(k\)</span>.</li>
<li>If the maximum <span class="math notranslate">\(m^?\)</span> is not empty, then:<ul>
<li>Its value must not be larger than <span class="math notranslate">\(k\)</span>.</li>
<li>Its value must not be smaller than <span class="math notranslate">\(n\)</span>.</li>
</ul>
</li>
<li>Then the limit is valid within range <span class="math notranslate">\(k\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  n \leq k
  \qquad
  (m \leq k)^?
  \qquad
  (n \leq m)^?
}{
  \href{#valid-limits}{\vdash} \{ \href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^? \} : k
}\]</div>
</div>
</div>
<div class="section" id="block-types">
<span id="valid-blocktype"></span><span id="index-1"></span><h4>Block Types</h4>
<p><a class="reference internal" href="index.html#syntax-blocktype"><span class="std std-ref">Block types</span></a> may be expressed in one of two forms, both of which are converted to plain <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function types</span></a> by the following rules.</p>
<div class="section" id="id2">
<h5><span class="math notranslate">\(\href{#syntax-typeidx}{\mathit{typeidx}}\)</span></h5>
<ul class="simple">
<li>The type <span class="math notranslate">\(C.\href{#context}{\mathsf{types}}[\href{#syntax-typeidx}{\mathit{typeidx}}]\)</span> must be defined in the context.</li>
<li>Then the block type is valid as <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{types}}[\href{#syntax-typeidx}{\mathit{typeidx}}]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{types}}[\href{#syntax-typeidx}{\mathit{typeidx}}] = \href{#syntax-functype}{\mathit{functype}}
}{
  C \href{#valid-blocktype}{\vdash} \href{#syntax-typeidx}{\mathit{typeidx}} : \href{#syntax-functype}{\mathit{functype}}
}\]</div>
</div>
<div class="section" id="id3">
<h5><span class="math notranslate">\([\href{#syntax-valtype}{\mathit{valtype}}^?]\)</span></h5>
<ul class="simple">
<li>The block type is valid as <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathit{valtype}}^?]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-blocktype}{\vdash} [\href{#syntax-valtype}{\mathit{valtype}}^?] : [] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathit{valtype}}^?]
}\]</div>
</div>
</div>
<div class="section" id="table-types">
<span id="valid-tabletype"></span><span id="index-2"></span><h4>Table Types</h4>
<div class="section" id="id4">
<h5><span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}~\href{#syntax-elemtype}{\mathit{elemtype}}\)</span></h5>
<ul class="simple">
<li>The limits <span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}\)</span> must be <a class="reference internal" href="#valid-limits"><span class="std std-ref">valid</span></a> within range <span class="math notranslate">\(2^{32}\)</span>.</li>
<li>Then the table type is valid.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#valid-limits}{\vdash} \href{#syntax-limits}{\mathit{limits}} : 2^{32}
}{
  \href{#valid-tabletype}{\vdash} \href{#syntax-limits}{\mathit{limits}}~\href{#syntax-elemtype}{\mathit{elemtype}} \mathrel{\mbox{ok}}
}\]</div>
</div>
</div>
<div class="section" id="memory-types">
<span id="valid-memtype"></span><span id="index-3"></span><h4>Memory Types</h4>
<div class="section" id="id5">
<h5><span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}\)</span></h5>
<ul class="simple">
<li>The limits <span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}\)</span> must be <a class="reference internal" href="#valid-limits"><span class="std std-ref">valid</span></a> within range <span class="math notranslate">\(2^{16}\)</span>.</li>
<li>Then the memory type is valid.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#valid-limits}{\vdash} \href{#syntax-limits}{\mathit{limits}} : 2^{16}
}{
  \href{#valid-memtype}{\vdash} \href{#syntax-limits}{\mathit{limits}} \mathrel{\mbox{ok}}
}\]</div>
</div>
</div>
<div class="section" id="global-types">
<span id="valid-globaltype"></span><span id="index-4"></span><h4>Global Types</h4>
<div class="section" id="id6">
<h5><span class="math notranslate">\(\href{#syntax-mut}{\mathit{mut}}~\href{#syntax-valtype}{\mathit{valtype}}\)</span></h5>
<ul class="simple">
<li>The global type is valid.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  \href{#valid-globaltype}{\vdash} \href{#syntax-mut}{\mathit{mut}}~\href{#syntax-valtype}{\mathit{valtype}} \mathrel{\mbox{ok}}
}\]</div>
</div>
</div>
</div>
<span id="document-valid/instructions"></span><div class="section" id="instructions">
<span id="valid-instr"></span><span id="index-0"></span><h3>Instructions</h3>
<p><a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">Instructions</span></a> are classified by <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function types</span></a> <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>
that describe how they manipulate the <a class="reference internal" href="index.html#stack"><span class="std std-ref">operand stack</span></a>.
The types describe the required input stack with argument values of types <span class="math notranslate">\(t_1^\ast\)</span> that an instruction pops off
and the provided output stack with result values of types <span class="math notranslate">\(t_2^\ast\)</span> that it pushes back.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For example, the instruction <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{add}}\)</span> has type <span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span>,
consuming two <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> values and producing one.</p>
</div>
<p>Typing extends to <a class="reference internal" href="#valid-instr-seq"><span class="std std-ref">instruction sequences</span></a> <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span>.
Such a sequence has a <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span> if the accumulative effect of executing the instructions is consuming values of types <span class="math notranslate">\(t_1^\ast\)</span> off the operand stack and pushing new values of types <span class="math notranslate">\(t_2^\ast\)</span>.</p>
<p id="polymorphism">For some instructions, the typing rules do not fully constrain the type,
and therefore allow for multiple types.
Such instructions are called <em>polymorphic</em>.
Two degrees of polymorphism can be distinguished:</p>
<ul class="simple">
<li><em>value-polymorphic</em>:
the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span> of one or several individual operands is unconstrained.
That is the case for all <a class="reference internal" href="#valid-instr-parametric"><span class="std std-ref">parametric instructions</span></a> like <span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{drop}}\)</span> and <span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{select}}\)</span>.</li>
<li><em>stack-polymorphic</em>:
the entire (or most of the) <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span> of the instruction is unconstrained.
That is the case for all <a class="reference internal" href="#valid-instr-control"><span class="std std-ref">control instructions</span></a> that perform an <em>unconditional control transfer</em>, such as <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{unreachable}}\)</span>, <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br}}\)</span>, <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br\_table}}\)</span>, and <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{return}}\)</span>.</li>
</ul>
<p>In both cases, the unconstrained types or type sequences can be chosen arbitrarily, as long as they meet the constraints imposed for the surrounding parts of the program.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For example, the <span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{select}}\)</span> instruction is valid with type <span class="math notranslate">\([t~t~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t]\)</span>, for any possible <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span>.   Consequently, both instruction sequences</p>
<div class="math notranslate">
\[(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~1)~~(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~2)~~(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~3)~~\href{#syntax-instr-parametric}{\mathsf{select}}{}\]</div>
<p>and</p>
<div class="math notranslate">
\[(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~1.0)~~(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~2.0)~~(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~3)~~\href{#syntax-instr-parametric}{\mathsf{select}}{}\]</div>
<p>are valid, with <span class="math notranslate">\(t\)</span> in the typing of <span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{select}}\)</span> being instantiated to <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> or <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}\)</span>, respectively.</p>
<p>The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{unreachable}}\)</span> instruction is valid with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span> for any possible sequences of value types <span class="math notranslate">\(t_1^\ast\)</span> and <span class="math notranslate">\(t_2^\ast\)</span>.
Consequently,</p>
<div class="math notranslate">
\[\href{#syntax-instr-control}{\mathsf{unreachable}}~~\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{add}}\]</div>
<p>is valid by assuming type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}]\)</span> for the <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{unreachable}}\)</span> instruction.
In contrast,</p>
<div class="math notranslate">
\[\href{#syntax-instr-control}{\mathsf{unreachable}}~~(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~0)~~\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{add}}\]</div>
<p class="last">is invalid, because there is no possible type to pick for the <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{unreachable}}\)</span> instruction that would make the sequence well-typed.</p>
</div>
<div class="section" id="numeric-instructions">
<span id="valid-instr-numeric"></span><span id="index-1"></span><h4>Numeric Instructions</h4>
<div class="section" id="valid-const">
<span id="id1"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span></h5>
<ul class="simple">
<li>The instruction is valid with type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [t]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-instr}{\vdash} t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c : [] \href{#syntax-functype}{\rightarrow} [t]
}\]</div>
</div>
<div class="section" id="valid-unop">
<span id="id2"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-unop}{\mathit{unop}}\)</span></h5>
<ul class="simple">
<li>The instruction is valid with type <span class="math notranslate">\([t] \href{#syntax-functype}{\rightarrow} [t]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-instr}{\vdash} t\mathsf{.}\href{#syntax-unop}{\mathit{unop}} : [t] \href{#syntax-functype}{\rightarrow} [t]
}\]</div>
</div>
<div class="section" id="valid-binop">
<span id="id3"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-binop}{\mathit{binop}}\)</span></h5>
<ul class="simple">
<li>The instruction is valid with type <span class="math notranslate">\([t~t] \href{#syntax-functype}{\rightarrow} [t]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-instr}{\vdash} t\mathsf{.}\href{#syntax-binop}{\mathit{binop}} : [t~t] \href{#syntax-functype}{\rightarrow} [t]
}\]</div>
</div>
<div class="section" id="valid-testop">
<span id="id4"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-testop}{\mathit{testop}}\)</span></h5>
<ul class="simple">
<li>The instruction is valid with type <span class="math notranslate">\([t] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-instr}{\vdash} t\mathsf{.}\href{#syntax-testop}{\mathit{testop}} : [t] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]
}\]</div>
</div>
<div class="section" id="valid-relop">
<span id="id5"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-relop}{\mathit{relop}}\)</span></h5>
<ul class="simple">
<li>The instruction is valid with type <span class="math notranslate">\([t~t] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-instr}{\vdash} t\mathsf{.}\href{#syntax-relop}{\mathit{relop}} : [t~t] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]
}\]</div>
</div>
<div class="section" id="valid-cvtop">
<span id="id6"></span><h5><span class="math notranslate">\(t_2\mathsf{.}\href{#syntax-cvtop}{\mathit{cvtop}}\mathsf{\_}t_1\mathsf{\_}\href{#syntax-sx}{\mathit{sx}}^?\)</span></h5>
<ul class="simple">
<li>The instruction is valid with type <span class="math notranslate">\([t_1] \href{#syntax-functype}{\rightarrow} [t_2]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-instr}{\vdash} t_2\mathsf{.}\href{#syntax-cvtop}{\mathit{cvtop}}\mathsf{\_}t_1\mathsf{\_}\href{#syntax-sx}{\mathit{sx}}^? : [t_1] \href{#syntax-functype}{\rightarrow} [t_2]
}\]</div>
</div>
</div>
<div class="section" id="parametric-instructions">
<span id="valid-instr-parametric"></span><span id="index-2"></span><h4>Parametric Instructions</h4>
<div class="section" id="valid-drop">
<span id="id7"></span><h5><span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{drop}}\)</span></h5>
<ul class="simple">
<li>The instruction is valid with type <span class="math notranslate">\([t] \href{#syntax-functype}{\rightarrow} []\)</span>, for any <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-parametric}{\mathsf{drop}} : [t] \href{#syntax-functype}{\rightarrow} []
}\]</div>
</div>
<div class="section" id="valid-select">
<span id="id8"></span><h5><span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{select}}\)</span></h5>
<ul class="simple">
<li>The instruction is valid with type <span class="math notranslate">\([t~t~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t]\)</span>, for any <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-parametric}{\mathsf{select}} : [t~t~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t]
}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Both <span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{drop}}\)</span> and <span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{select}}\)</span> are <a class="reference internal" href="#polymorphism"><span class="std std-ref">value-polymorphic</span></a> instructions.</p>
</div>
</div>
</div>
<div class="section" id="variable-instructions">
<span id="valid-instr-variable"></span><span id="index-3"></span><h4>Variable Instructions</h4>
<div class="section" id="valid-local-get">
<span id="id9"></span><h5><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.get}}~x\)</span></h5>
<ul class="simple">
<li>The local <span class="math notranslate">\(C.\href{#context}{\mathsf{locals}}[x]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\(t\)</span> be the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{locals}}[x]\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [t]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{locals}}[x] = t
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-variable}{\mathsf{local.get}}~x : [] \href{#syntax-functype}{\rightarrow} [t]
}\]</div>
</div>
<div class="section" id="valid-local-set">
<span id="id10"></span><h5><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.set}}~x\)</span></h5>
<ul class="simple">
<li>The local <span class="math notranslate">\(C.\href{#context}{\mathsf{locals}}[x]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\(t\)</span> be the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{locals}}[x]\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([t] \href{#syntax-functype}{\rightarrow} []\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{locals}}[x] = t
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-variable}{\mathsf{local.set}}~x : [t] \href{#syntax-functype}{\rightarrow} []
}\]</div>
</div>
<div class="section" id="valid-local-tee">
<span id="id11"></span><h5><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.tee}}~x\)</span></h5>
<ul class="simple">
<li>The local <span class="math notranslate">\(C.\href{#context}{\mathsf{locals}}[x]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\(t\)</span> be the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{locals}}[x]\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([t] \href{#syntax-functype}{\rightarrow} [t]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{locals}}[x] = t
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-variable}{\mathsf{local.tee}}~x : [t] \href{#syntax-functype}{\rightarrow} [t]
}\]</div>
</div>
<div class="section" id="valid-global-get">
<span id="id12"></span><h5><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{global.get}}~x\)</span></h5>
<ul class="simple">
<li>The global <span class="math notranslate">\(C.\href{#context}{\mathsf{globals}}[x]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-mut}{\mathit{mut}}~t\)</span> be the <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{globals}}[x]\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [t]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{globals}}[x] = \href{#syntax-mut}{\mathit{mut}}~t
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-variable}{\mathsf{global.get}}~x : [] \href{#syntax-functype}{\rightarrow} [t]
}\]</div>
</div>
<div class="section" id="valid-global-set">
<span id="id13"></span><h5><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{global.set}}~x\)</span></h5>
<ul class="simple">
<li>The global <span class="math notranslate">\(C.\href{#context}{\mathsf{globals}}[x]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-mut}{\mathit{mut}}~t\)</span> be the <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{globals}}[x]\)</span>.</li>
<li>The mutability <span class="math notranslate">\(\href{#syntax-mut}{\mathit{mut}}\)</span> must be <span class="math notranslate">\(\href{#syntax-mut}{\mathsf{var}}\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([t] \href{#syntax-functype}{\rightarrow} []\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{globals}}[x] = \href{#syntax-mut}{\mathsf{var}}~t
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-variable}{\mathsf{global.set}}~x : [t] \href{#syntax-functype}{\rightarrow} []
}\]</div>
</div>
</div>
<div class="section" id="memory-instructions">
<span id="valid-instr-memory"></span><span id="valid-memarg"></span><span id="index-4"></span><h4>Memory Instructions</h4>
<div class="section" id="valid-load">
<span id="id14"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-instr-memory}{\mathsf{load}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></h5>
<ul class="simple">
<li>The memory <span class="math notranslate">\(C.\href{#context}{\mathsf{mems}}[0]\)</span> must be defined in the context.</li>
<li>The alignment <span class="math notranslate">\(2^{\href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{align}}}\)</span> must not be larger than the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">bit width</span></a> of <span class="math notranslate">\(t\)</span> divided by <span class="math notranslate">\(8\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{mems}}[0] = \href{#syntax-memtype}{\mathit{memtype}}
  \qquad
  2^{\href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{align}}} \leq |t|/8
}{
  C \href{#valid-instr}{\vdash} t\mathsf{.load}~\href{#syntax-memarg}{\mathit{memarg}} : [\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t]
}\]</div>
</div>
<div class="section" id="valid-loadn">
<span id="id15"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-instr-memory}{\mathsf{load}}{N}\mathsf{\_}\href{#syntax-sx}{\mathit{sx}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></h5>
<ul class="simple">
<li>The memory <span class="math notranslate">\(C.\href{#context}{\mathsf{mems}}[0]\)</span> must be defined in the context.</li>
<li>The alignment <span class="math notranslate">\(2^{\href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{align}}}\)</span> must not be larger than <span class="math notranslate">\(N/8\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{mems}}[0] = \href{#syntax-memtype}{\mathit{memtype}}
  \qquad
  2^{\href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{align}}} \leq N/8
}{
  C \href{#valid-instr}{\vdash} t\mathsf{.load}N\mathsf{\_}\href{#syntax-sx}{\mathit{sx}}~\href{#syntax-memarg}{\mathit{memarg}} : [\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t]
}\]</div>
</div>
<div class="section" id="id16">
<h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-instr-memory}{\mathsf{store}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></h5>
<ul class="simple">
<li>The memory <span class="math notranslate">\(C.\href{#context}{\mathsf{mems}}[0]\)</span> must be defined in the context.</li>
<li>The alignment <span class="math notranslate">\(2^{\href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{align}}}\)</span> must not be larger than the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">bit width</span></a> of <span class="math notranslate">\(t\)</span> divided by <span class="math notranslate">\(8\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~t] \href{#syntax-functype}{\rightarrow} []\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{mems}}[0] = \href{#syntax-memtype}{\mathit{memtype}}
  \qquad
  2^{\href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{align}}} \leq |t|/8
}{
  C \href{#valid-instr}{\vdash} t\mathsf{.store}~\href{#syntax-memarg}{\mathit{memarg}} : [\href{#syntax-valtype}{\mathsf{i32}}~t] \href{#syntax-functype}{\rightarrow} []
}\]</div>
</div>
<div class="section" id="valid-storen">
<span id="id17"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-instr-memory}{\mathsf{store}}{N}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></h5>
<ul class="simple">
<li>The memory <span class="math notranslate">\(C.\href{#context}{\mathsf{mems}}[0]\)</span> must be defined in the context.</li>
<li>The alignment <span class="math notranslate">\(2^{\href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{align}}}\)</span> must not be larger than <span class="math notranslate">\(N/8\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~t] \href{#syntax-functype}{\rightarrow} []\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{mems}}[0] = \href{#syntax-memtype}{\mathit{memtype}}
  \qquad
  2^{\href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{align}}} \leq N/8
}{
  C \href{#valid-instr}{\vdash} t\mathsf{.store}N~\href{#syntax-memarg}{\mathit{memarg}} : [\href{#syntax-valtype}{\mathsf{i32}}~t] \href{#syntax-functype}{\rightarrow} []
}\]</div>
</div>
<div class="section" id="valid-memory-size">
<span id="id18"></span><h5><span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{memory.size}}\)</span></h5>
<ul class="simple">
<li>The memory <span class="math notranslate">\(C.\href{#context}{\mathsf{mems}}[0]\)</span> must be defined in the context.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{mems}}[0] = \href{#syntax-memtype}{\mathit{memtype}}
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-memory}{\mathsf{memory.size}} : [] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]
}\]</div>
</div>
<div class="section" id="valid-memory-grow">
<span id="id19"></span><h5><span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{memory.grow}}\)</span></h5>
<ul class="simple">
<li>The memory <span class="math notranslate">\(C.\href{#context}{\mathsf{mems}}[0]\)</span> must be defined in the context.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{mems}}[0] = \href{#syntax-memtype}{\mathit{memtype}}
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-memory}{\mathsf{memory.grow}} : [\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]
}\]</div>
</div>
</div>
<div class="section" id="control-instructions">
<span id="valid-instr-control"></span><span id="valid-label"></span><span id="index-5"></span><h4>Control Instructions</h4>
<div class="section" id="valid-nop">
<span id="id20"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{nop}}\)</span></h5>
<ul class="simple">
<li>The instruction is valid with type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} []\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-control}{\mathsf{nop}} : [] \href{#syntax-functype}{\rightarrow} []
}\]</div>
</div>
<div class="section" id="valid-unreachable">
<span id="id21"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{unreachable}}\)</span></h5>
<ul class="simple">
<li>The instruction is valid with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>, for any sequences of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(t_1^\ast\)</span> and <span class="math notranslate">\(t_2^\ast\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-control}{\mathsf{unreachable}} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{unreachable}}\)</span> instruction is <a class="reference internal" href="#polymorphism"><span class="std std-ref">stack-polymorphic</span></a>.</p>
</div>
</div>
<div class="section" id="valid-block">
<span id="id22"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{block}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-blocktype"><span class="std std-ref">block type</span></a> must be <a class="reference internal" href="index.html#valid-blocktype"><span class="std std-ref">valid</span></a> as some <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
<li>Let <span class="math notranslate">\(C'\)</span> be the same <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> as <span class="math notranslate">\(C\)</span>, but with the <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t_2^\ast]\)</span> prepended to the <span class="math notranslate">\(\href{#context}{\mathsf{labels}}\)</span> vector.</li>
<li>Under context <span class="math notranslate">\(C'\)</span>,
the instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> must be <a class="reference internal" href="#valid-instr-seq"><span class="std std-ref">valid</span></a> with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
<li>Then the compound instruction is valid with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C \href{#valid-blocktype}{\vdash} \href{#syntax-blocktype}{\mathit{blocktype}} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
  \qquad
  C,\href{#context}{\mathsf{labels}}\,[t_2^\ast] \href{#valid-instr-seq}{\vdash} \href{#syntax-instr}{\mathit{instr}}^\ast : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-control}{\mathsf{block}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a class="reference internal" href="index.html#notation-extend"><span class="std std-ref">notation</span></a> <span class="math notranslate">\(C,\href{#context}{\mathsf{labels}}\,[t^\ast]\)</span> inserts the new label type at index <span class="math notranslate">\(0\)</span>, shifting all others.</p>
</div>
</div>
<div class="section" id="valid-loop">
<span id="id23"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{loop}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-blocktype"><span class="std std-ref">block type</span></a> must be <a class="reference internal" href="index.html#valid-blocktype"><span class="std std-ref">valid</span></a> as some <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
<li>Let <span class="math notranslate">\(C'\)</span> be the same <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> as <span class="math notranslate">\(C\)</span>, but with the <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t_1^\ast]\)</span> prepended to the <span class="math notranslate">\(\href{#context}{\mathsf{labels}}\)</span> vector.</li>
<li>Under context <span class="math notranslate">\(C'\)</span>,
the instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> must be <a class="reference internal" href="#valid-instr-seq"><span class="std std-ref">valid</span></a> with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
<li>Then the compound instruction is valid with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C \href{#valid-blocktype}{\vdash} \href{#syntax-blocktype}{\mathit{blocktype}} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
  \qquad
  C,\href{#context}{\mathsf{labels}}\,[t_1^\ast] \href{#valid-instr-seq}{\vdash} \href{#syntax-instr}{\mathit{instr}}^\ast : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-control}{\mathsf{loop}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a class="reference internal" href="index.html#notation-extend"><span class="std std-ref">notation</span></a> <span class="math notranslate">\(C,\href{#context}{\mathsf{labels}}\,[t^\ast]\)</span> inserts the new label type at index <span class="math notranslate">\(0\)</span>, shifting all others.</p>
</div>
</div>
<div class="section" id="valid-if">
<span id="id24"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{if}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}_1^\ast~\href{#syntax-instr-control}{\mathsf{else}}~\href{#syntax-instr}{\mathit{instr}}_2^\ast~\href{#syntax-instr-control}{\mathsf{end}}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-blocktype"><span class="std std-ref">block type</span></a> must be <a class="reference internal" href="index.html#valid-blocktype"><span class="std std-ref">valid</span></a> as some <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
<li>Let <span class="math notranslate">\(C'\)</span> be the same <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> as <span class="math notranslate">\(C\)</span>, but with the <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t_2^\ast]\)</span> prepended to the <span class="math notranslate">\(\href{#context}{\mathsf{labels}}\)</span> vector.</li>
<li>Under context <span class="math notranslate">\(C'\)</span>,
the instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}_1^\ast\)</span> must be <a class="reference internal" href="#valid-instr-seq"><span class="std std-ref">valid</span></a> with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
<li>Under context <span class="math notranslate">\(C'\)</span>,
the instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}_2^\ast\)</span> must be <a class="reference internal" href="#valid-instr-seq"><span class="std std-ref">valid</span></a> with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
<li>Then the compound instruction is valid with type <span class="math notranslate">\([t_1^\ast~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C \href{#valid-blocktype}{\vdash} \href{#syntax-blocktype}{\mathit{blocktype}} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
  \qquad
  C,\href{#context}{\mathsf{labels}}\,[t_2^\ast] \href{#valid-instr-seq}{\vdash} \href{#syntax-instr}{\mathit{instr}}_1^\ast : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
  \qquad
  C,\href{#context}{\mathsf{labels}}\,[t_2^\ast] \href{#valid-instr-seq}{\vdash} \href{#syntax-instr}{\mathit{instr}}_2^\ast : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-control}{\mathsf{if}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}_1^\ast~\href{#syntax-instr-control}{\mathsf{else}}~\href{#syntax-instr}{\mathit{instr}}_2^\ast~\href{#syntax-instr-control}{\mathsf{end}} : [t_1^\ast~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a class="reference internal" href="index.html#notation-extend"><span class="std std-ref">notation</span></a> <span class="math notranslate">\(C,\href{#context}{\mathsf{labels}}\,[t^\ast]\)</span> inserts the new label type at index <span class="math notranslate">\(0\)</span>, shifting all others.</p>
</div>
</div>
<div class="section" id="valid-br">
<span id="id25"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br}}~l\)</span></h5>
<ul class="simple">
<li>The label <span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[l]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\([t^\ast]\)</span> be the <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[l]\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([t_1^\ast~t^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>, for any sequences of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(t_1^\ast\)</span> and <span class="math notranslate">\(t_2^\ast\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{labels}}[l] = [t^\ast]
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-control}{\mathsf{br}}~l : [t_1^\ast~t^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The <a class="reference internal" href="index.html#syntax-labelidx"><span class="std std-ref">label index</span></a> space in the <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate">\(C\)</span> contains the most recent label first, so that <span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[l]\)</span> performs a relative lookup as expected.</p>
<p class="last">The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br}}\)</span> instruction is <a class="reference internal" href="#polymorphism"><span class="std std-ref">stack-polymorphic</span></a>.</p>
</div>
</div>
<div class="section" id="valid-br-if">
<span id="id26"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br\_if}}~l\)</span></h5>
<ul class="simple">
<li>The label <span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[l]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\([t^\ast]\)</span> be the <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[l]\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([t^\ast~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t^\ast]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{labels}}[l] = [t^\ast]
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-control}{\mathsf{br\_if}}~l : [t^\ast~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t^\ast]
}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a class="reference internal" href="index.html#syntax-labelidx"><span class="std std-ref">label index</span></a> space in the <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate">\(C\)</span> contains the most recent label first, so that <span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[l]\)</span> performs a relative lookup as expected.</p>
</div>
</div>
<div class="section" id="valid-br-table">
<span id="id27"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br\_table}}~l^\ast~l_N\)</span></h5>
<ul class="simple">
<li>The label <span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[l_N]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\([t^\ast]\)</span> be the <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[l_N]\)</span>.</li>
<li>For all <span class="math notranslate">\(l_i\)</span> in <span class="math notranslate">\(l^\ast\)</span>,
the label <span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[l_i]\)</span> must be defined in the context.</li>
<li>For all <span class="math notranslate">\(l_i\)</span> in <span class="math notranslate">\(l^\ast\)</span>,
<span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[l_i]\)</span> must be <span class="math notranslate">\([t^\ast]\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([t_1^\ast~t^\ast~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>, for any sequences of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(t_1^\ast\)</span> and <span class="math notranslate">\(t_2^\ast\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  (C.\href{#context}{\mathsf{labels}}[l] = [t^\ast])^\ast
  \qquad
  C.\href{#context}{\mathsf{labels}}[l_N] = [t^\ast]
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-control}{\mathsf{br\_table}}~l^\ast~l_N : [t_1^\ast~t^\ast~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The <a class="reference internal" href="index.html#syntax-labelidx"><span class="std std-ref">label index</span></a> space in the <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate">\(C\)</span> contains the most recent label first, so that <span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}[l_i]\)</span> performs a relative lookup as expected.</p>
<p class="last">The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br\_table}}\)</span> instruction is <a class="reference internal" href="#polymorphism"><span class="std std-ref">stack-polymorphic</span></a>.</p>
</div>
</div>
<div class="section" id="valid-return">
<span id="id28"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{return}}\)</span></h5>
<ul class="simple">
<li>The return type <span class="math notranslate">\(C.\href{#context}{\mathsf{return}}\)</span> must not be absent in the context.</li>
<li>Let <span class="math notranslate">\([t^\ast]\)</span> be the <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> of <span class="math notranslate">\(C.\href{#context}{\mathsf{return}}\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([t_1^\ast~t^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>, for any sequences of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(t_1^\ast\)</span> and <span class="math notranslate">\(t_2^\ast\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{return}} = [t^\ast]
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-control}{\mathsf{return}} : [t_1^\ast~t^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{return}}\)</span> instruction is <a class="reference internal" href="#polymorphism"><span class="std std-ref">stack-polymorphic</span></a>.</p>
<p class="last"><span class="math notranslate">\(C.\href{#context}{\mathsf{return}}\)</span> is absent (set to <span class="math notranslate">\(\epsilon\)</span>) when validating an <a class="reference internal" href="#valid-expr"><span class="std std-ref">expression</span></a> that is not a function body.
This differs from it being set to the empty result type (<span class="math notranslate">\([\epsilon]\)</span>),
which is the case for functions not returning anything.</p>
</div>
</div>
<div class="section" id="valid-call">
<span id="id29"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{call}}~x\)</span></h5>
<ul class="simple">
<li>The function <span class="math notranslate">\(C.\href{#context}{\mathsf{funcs}}[x]\)</span> must be defined in the context.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\(C.\href{#context}{\mathsf{funcs}}[x]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{funcs}}[x] = [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-control}{\mathsf{call}}~x : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
</div>
<div class="section" id="valid-call-indirect">
<span id="id30"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{call\_indirect}}~x\)</span></h5>
<ul class="simple">
<li>The table <span class="math notranslate">\(C.\href{#context}{\mathsf{tables}}[0]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}~\href{#syntax-elemtype}{\mathit{elemtype}}\)</span> be the <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{tables}}[0]\)</span>.</li>
<li>The <a class="reference internal" href="index.html#syntax-elemtype"><span class="std std-ref">element type</span></a> <span class="math notranslate">\(\href{#syntax-elemtype}{\mathit{elemtype}}\)</span> must be <span class="math notranslate">\(\href{#syntax-elemtype}{\mathsf{funcref}}\)</span>.</li>
<li>The type <span class="math notranslate">\(C.\href{#context}{\mathsf{types}}[x]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{types}}[x]\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([t_1^\ast~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{tables}}[0] = \href{#syntax-limits}{\mathit{limits}}~\href{#syntax-elemtype}{\mathsf{funcref}}
  \qquad
  C.\href{#context}{\mathsf{types}}[x] = [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}{
  C \href{#valid-instr}{\vdash} \href{#syntax-instr-control}{\mathsf{call\_indirect}}~x : [t_1^\ast~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
</div>
</div>
<div class="section" id="instruction-sequences">
<span id="valid-instr-seq"></span><span id="index-6"></span><h4>Instruction Sequences</h4>
<p>Typing of instruction sequences is defined recursively.</p>
<div class="section" id="empty-instruction-sequence">
<h5>Empty Instruction Sequence: <span class="math notranslate">\(\epsilon\)</span></h5>
<ul class="simple">
<li>The empty instruction sequence is valid with type <span class="math notranslate">\([t^\ast] \href{#syntax-functype}{\rightarrow} [t^\ast]\)</span>,
for any sequence of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(t^\ast\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-instr-seq}{\vdash} \epsilon : [t^\ast] \href{#syntax-functype}{\rightarrow} [t^\ast]
}\]</div>
</div>
<div class="section" id="non-empty-instruction-sequence">
<h5>Non-empty Instruction Sequence: <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr}{\mathit{instr}}_N\)</span></h5>
<ul class="simple">
<li>The instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> must be valid with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>,
for some sequences of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(t_1^\ast\)</span> and <span class="math notranslate">\(t_2^\ast\)</span>.</li>
<li>The instruction <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}_N\)</span> must be valid with type <span class="math notranslate">\([t^\ast] \href{#syntax-functype}{\rightarrow} [t_3^\ast]\)</span>,
for some sequences of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(t^\ast\)</span> and <span class="math notranslate">\(t_3^\ast\)</span>.</li>
<li>There must be a sequence of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(t_0^\ast\)</span>,
such that <span class="math notranslate">\(t_2^\ast = t_0^\ast~t^\ast\)</span>.</li>
<li>Then the combined instruction sequence is valid with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_0^\ast~t_3^\ast]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C \href{#valid-instr-seq}{\vdash} \href{#syntax-instr}{\mathit{instr}}^\ast : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_0^\ast~t^\ast]
  \qquad
  C \href{#valid-instr}{\vdash} \href{#syntax-instr}{\mathit{instr}}_N : [t^\ast] \href{#syntax-functype}{\rightarrow} [t_3^\ast]
}{
  C \href{#valid-instr-seq}{\vdash} \href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr}{\mathit{instr}}_N : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_0^\ast~t_3^\ast]
}\]</div>
</div>
</div>
<div class="section" id="expressions">
<span id="valid-expr"></span><span id="index-7"></span><h4>Expressions</h4>
<p>Expressions <span class="math notranslate">\(\href{#syntax-expr}{\mathit{expr}}\)</span> are classified by <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result types</span></a> of the form <span class="math notranslate">\([t^\ast]\)</span>.</p>
<div class="section" id="id31">
<h5><span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}\)</span></h5>
<ul class="simple">
<li>The instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> must be <a class="reference internal" href="#valid-instr-seq"><span class="std std-ref">valid</span></a> with type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [t^\ast]\)</span>,
for some <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t^\ast]\)</span>.</li>
<li>Then the expression is valid with <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t^\ast]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C \href{#valid-instr-seq}{\vdash} \href{#syntax-instr}{\mathit{instr}}^\ast : [] \href{#syntax-functype}{\rightarrow} [t^\ast]
}{
  C \href{#valid-expr}{\vdash} \href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} : [t^\ast]
}\]</div>
</div>
<div class="section" id="constant-expressions">
<span id="valid-constant"></span><span id="index-8"></span><h5>Constant Expressions</h5>
<ul class="simple">
<li>In a <em>constant</em> expression <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}\)</span> all instructions in <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> must be constant.</li>
<li>A constant instruction <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}\)</span> must be:<ul>
<li>either of the form <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span>,</li>
<li>or of the form <span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{global.get}}~x\)</span>, in which case <span class="math notranslate">\(C.\href{#context}{\mathsf{globals}}[x]\)</span> must be a <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a> of the form <span class="math notranslate">\(\href{#syntax-instr-numeric}{\mathsf{const}}~t\)</span>.</li>
</ul>
</li>
</ul>
<div class="math notranslate">
\[\frac{
  (C \href{#valid-constant}{\vdash} \href{#syntax-instr}{\mathit{instr}} \href{#valid-constant}{\mathrel{\mbox{const}}})^\ast
}{
  C \href{#valid-constant}{\vdash} \href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \href{#valid-constant}{\mathrel{\mbox{const}}}
}\]</div>
<div class="math notranslate">
\[\frac{
}{
  C \href{#valid-constant}{\vdash} t.\href{#syntax-instr-numeric}{\mathsf{const}}~c \href{#valid-constant}{\mathrel{\mbox{const}}}
}
\qquad
\frac{
  C.\href{#context}{\mathsf{globals}}[x] = \href{#syntax-instr-numeric}{\mathsf{const}}~t
}{
  C \href{#valid-constant}{\vdash} \href{#syntax-instr-variable}{\mathsf{global.get}}~x \href{#valid-constant}{\mathrel{\mbox{const}}}
}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Currently, constant expressions occurring as initializers of <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">globals</span></a> are further constrained in that contained <span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{global.get}}\)</span> instructions are only allowed to refer to <em>imported</em> globals.
This is enforced in the <a class="reference internal" href="index.html#valid-module"><span class="std std-ref">validation rule for modules</span></a> by constraining the context <span class="math notranslate">\(C\)</span> accordingly.</p>
<p class="last">The definition of constant expression may be extended in future versions of WebAssembly.</p>
</div>
</div>
</div>
</div>
<span id="document-valid/modules"></span><div class="section" id="modules">
<h3>Modules</h3>
<p><a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">Modules</span></a> are valid when all the components they contain are valid.
Furthermore, most definitions are themselves classified with a suitable type.</p>
<div class="section" id="functions">
<span id="valid-func"></span><span id="valid-local"></span><span id="index-0"></span><h4>Functions</h4>
<p>Functions <span class="math notranslate">\(\href{#syntax-func}{\mathit{func}}\)</span> are classified by <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function types</span></a> of the form <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</p>
<div class="section" id="id1">
<h5><span class="math notranslate">\(\{ \href{#syntax-func}{\mathsf{type}}~x, \href{#syntax-func}{\mathsf{locals}}~t^\ast, \href{#syntax-func}{\mathsf{body}}~\href{#syntax-expr}{\mathit{expr}} \}\)</span></h5>
<ul class="simple">
<li>The type <span class="math notranslate">\(C.\href{#context}{\mathsf{types}}[x]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{types}}[x]\)</span>.</li>
<li>Let <span class="math notranslate">\(C'\)</span> be the same <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> as <span class="math notranslate">\(C\)</span>,
but with:<ul>
<li><span class="math notranslate">\(\href{#context}{\mathsf{locals}}\)</span> set to the sequence of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(t_1^\ast~t^\ast\)</span>, concatenating parameters and locals,</li>
<li><span class="math notranslate">\(\href{#context}{\mathsf{labels}}\)</span> set to the singular sequence containing only <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t_2^\ast]\)</span>.</li>
<li><span class="math notranslate">\(\href{#context}{\mathsf{return}}\)</span> set to the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t_2^\ast]\)</span>.</li>
</ul>
</li>
<li>Under the context <span class="math notranslate">\(C'\)</span>,
the expression <span class="math notranslate">\(\href{#syntax-expr}{\mathit{expr}}\)</span> must be valid with type <span class="math notranslate">\([t_2^\ast]\)</span>.</li>
<li>Then the function definition is valid with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{types}}[x] = [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
  \qquad
  C,\href{#context}{\mathsf{locals}}\,t_1^\ast~t^\ast,\href{#context}{\mathsf{labels}}~[t_2^\ast],\href{#context}{\mathsf{return}}~[t_2^\ast] \href{#valid-expr}{\vdash} \href{#syntax-expr}{\mathit{expr}} : [t_2^\ast]
}{
  C \href{#valid-func}{\vdash} \{ \href{#syntax-func}{\mathsf{type}}~x, \href{#syntax-func}{\mathsf{locals}}~t^\ast, \href{#syntax-func}{\mathsf{body}}~\href{#syntax-expr}{\mathit{expr}} \} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
</div>
</div>
<div class="section" id="tables">
<span id="valid-table"></span><span id="index-1"></span><h4>Tables</h4>
<p>Tables <span class="math notranslate">\(\href{#syntax-table}{\mathit{table}}\)</span> are classified by <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table types</span></a>.</p>
<div class="section" id="id2">
<h5><span class="math notranslate">\(\{ \href{#syntax-table}{\mathsf{type}}~\href{#syntax-tabletype}{\mathit{tabletype}} \}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate">\(\href{#syntax-tabletype}{\mathit{tabletype}}\)</span> must be <a class="reference internal" href="index.html#valid-tabletype"><span class="std std-ref">valid</span></a>.</li>
<li>Then the table definition is valid with type <span class="math notranslate">\(\href{#syntax-tabletype}{\mathit{tabletype}}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#valid-tabletype}{\vdash} \href{#syntax-tabletype}{\mathit{tabletype}} \mathrel{\mbox{ok}}
}{
  C \href{#valid-table}{\vdash} \{ \href{#syntax-table}{\mathsf{type}}~\href{#syntax-tabletype}{\mathit{tabletype}} \} : \href{#syntax-tabletype}{\mathit{tabletype}}
}\]</div>
</div>
</div>
<div class="section" id="memories">
<span id="valid-mem"></span><span id="index-2"></span><h4>Memories</h4>
<p>Memories <span class="math notranslate">\(\href{#syntax-mem}{\mathit{mem}}\)</span> are classified by <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory types</span></a>.</p>
<div class="section" id="id3">
<h5><span class="math notranslate">\(\{ \href{#syntax-mem}{\mathsf{type}}~\href{#syntax-memtype}{\mathit{memtype}} \}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory type</span></a> <span class="math notranslate">\(\href{#syntax-memtype}{\mathit{memtype}}\)</span> must be <a class="reference internal" href="index.html#valid-memtype"><span class="std std-ref">valid</span></a>.</li>
<li>Then the memory definition is valid with type <span class="math notranslate">\(\href{#syntax-memtype}{\mathit{memtype}}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#valid-memtype}{\vdash} \href{#syntax-memtype}{\mathit{memtype}} \mathrel{\mbox{ok}}
}{
  C \href{#valid-mem}{\vdash} \{ \href{#syntax-mem}{\mathsf{type}}~\href{#syntax-memtype}{\mathit{memtype}} \} : \href{#syntax-memtype}{\mathit{memtype}}
}\]</div>
</div>
</div>
<div class="section" id="globals">
<span id="valid-global"></span><span id="index-3"></span><h4>Globals</h4>
<p>Globals <span class="math notranslate">\(\href{#syntax-global}{\mathit{global}}\)</span> are classified by <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global types</span></a> of the form <span class="math notranslate">\(\href{#syntax-mut}{\mathit{mut}}~t\)</span>.</p>
<div class="section" id="id4">
<h5><span class="math notranslate">\(\{ \href{#syntax-global}{\mathsf{type}}~\href{#syntax-mut}{\mathit{mut}}~t, \href{#syntax-global}{\mathsf{init}}~\href{#syntax-expr}{\mathit{expr}} \}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate">\(\href{#syntax-mut}{\mathit{mut}}~t\)</span> must be <a class="reference internal" href="index.html#valid-globaltype"><span class="std std-ref">valid</span></a>.</li>
<li>The expression <span class="math notranslate">\(\href{#syntax-expr}{\mathit{expr}}\)</span> must be <a class="reference internal" href="index.html#valid-expr"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t]\)</span>.</li>
<li>The expression <span class="math notranslate">\(\href{#syntax-expr}{\mathit{expr}}\)</span> must be <a class="reference internal" href="index.html#valid-constant"><span class="std std-ref">constant</span></a>.</li>
<li>Then the global definition is valid with type <span class="math notranslate">\(\href{#syntax-mut}{\mathit{mut}}~t\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#valid-globaltype}{\vdash} \href{#syntax-mut}{\mathit{mut}}~t \mathrel{\mbox{ok}}
  \qquad
  C \href{#valid-expr}{\vdash} \href{#syntax-expr}{\mathit{expr}} : [t]
  \qquad
  C \href{#valid-constant}{\vdash} \href{#syntax-expr}{\mathit{expr}} \href{#valid-constant}{\mathrel{\mbox{const}}}
}{
  C \href{#valid-global}{\vdash} \{ \href{#syntax-global}{\mathsf{type}}~\href{#syntax-mut}{\mathit{mut}}~t, \href{#syntax-global}{\mathsf{init}}~\href{#syntax-expr}{\mathit{expr}} \} : \href{#syntax-mut}{\mathit{mut}}~t
}\]</div>
</div>
</div>
<div class="section" id="element-segments">
<span id="valid-elem"></span><span id="index-4"></span><h4>Element Segments</h4>
<p>Element segments <span class="math notranslate">\(\href{#syntax-elem}{\mathit{elem}}\)</span> are not classified by a type.</p>
<div class="section" id="id5">
<h5><span class="math notranslate">\(\{ \href{#syntax-elem}{\mathsf{table}}~x, \href{#syntax-elem}{\mathsf{offset}}~\href{#syntax-expr}{\mathit{expr}}, \href{#syntax-elem}{\mathsf{init}}~y^\ast \}\)</span></h5>
<ul class="simple">
<li>The table <span class="math notranslate">\(C.\href{#context}{\mathsf{tables}}[x]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}~\href{#syntax-elemtype}{\mathit{elemtype}}\)</span> be the <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{tables}}[x]\)</span>.</li>
<li>The <a class="reference internal" href="index.html#syntax-elemtype"><span class="std std-ref">element type</span></a> <span class="math notranslate">\(\href{#syntax-elemtype}{\mathit{elemtype}}\)</span> must be <span class="math notranslate">\(\href{#syntax-elemtype}{\mathsf{funcref}}\)</span>.</li>
<li>The expression <span class="math notranslate">\(\href{#syntax-expr}{\mathit{expr}}\)</span> must be <a class="reference internal" href="index.html#valid-expr"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}]\)</span>.</li>
<li>The expression <span class="math notranslate">\(\href{#syntax-expr}{\mathit{expr}}\)</span> must be <a class="reference internal" href="index.html#valid-constant"><span class="std std-ref">constant</span></a>.</li>
<li>For each <span class="math notranslate">\(y_i\)</span> in <span class="math notranslate">\(y^\ast\)</span>,
the function <span class="math notranslate">\(C.\href{#context}{\mathsf{funcs}}[y]\)</span> must be defined in the context.</li>
<li>Then the element segment is valid.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{tables}}[x] = \href{#syntax-limits}{\mathit{limits}}~\href{#syntax-elemtype}{\mathsf{funcref}}
  \qquad
  C \href{#valid-expr}{\vdash} \href{#syntax-expr}{\mathit{expr}} : [\href{#syntax-valtype}{\mathsf{i32}}]
  \qquad
  C \href{#valid-constant}{\vdash} \href{#syntax-expr}{\mathit{expr}} \href{#valid-constant}{\mathrel{\mbox{const}}}
  \qquad
  (C.\href{#context}{\mathsf{funcs}}[y] = \href{#syntax-functype}{\mathit{functype}})^\ast
}{
  C \href{#valid-elem}{\vdash} \{ \href{#syntax-elem}{\mathsf{table}}~x, \href{#syntax-elem}{\mathsf{offset}}~\href{#syntax-expr}{\mathit{expr}}, \href{#syntax-elem}{\mathsf{init}}~y^\ast \} \mathrel{\mbox{ok}}
}\]</div>
</div>
</div>
<div class="section" id="data-segments">
<span id="valid-data"></span><span id="index-5"></span><h4>Data Segments</h4>
<p>Data segments <span class="math notranslate">\(\href{#syntax-data}{\mathit{data}}\)</span> are not classified by any type.</p>
<div class="section" id="id6">
<h5><span class="math notranslate">\(\{ \href{#syntax-data}{\mathsf{data}}~x, \href{#syntax-data}{\mathsf{offset}}~\href{#syntax-expr}{\mathit{expr}}, \href{#syntax-data}{\mathsf{init}}~b^\ast \}\)</span></h5>
<ul class="simple">
<li>The memory <span class="math notranslate">\(C.\href{#context}{\mathsf{mems}}[x]\)</span> must be defined in the context.</li>
<li>The expression <span class="math notranslate">\(\href{#syntax-expr}{\mathit{expr}}\)</span> must be <a class="reference internal" href="index.html#valid-expr"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}]\)</span>.</li>
<li>The expression <span class="math notranslate">\(\href{#syntax-expr}{\mathit{expr}}\)</span> must be <a class="reference internal" href="index.html#valid-constant"><span class="std std-ref">constant</span></a>.</li>
<li>Then the data segment is valid.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{mems}}[x] = \href{#syntax-limits}{\mathit{limits}}
  \qquad
  C \href{#valid-expr}{\vdash} \href{#syntax-expr}{\mathit{expr}} : [\href{#syntax-valtype}{\mathsf{i32}}]
  \qquad
  C \href{#valid-constant}{\vdash} \href{#syntax-expr}{\mathit{expr}} \href{#valid-constant}{\mathrel{\mbox{const}}}
}{
  C \href{#valid-data}{\vdash} \{ \href{#syntax-data}{\mathsf{data}}~x, \href{#syntax-data}{\mathsf{offset}}~\href{#syntax-expr}{\mathit{expr}}, \href{#syntax-data}{\mathsf{init}}~b^\ast \} \mathrel{\mbox{ok}}
}\]</div>
</div>
</div>
<div class="section" id="start-function">
<span id="valid-start"></span><span id="index-6"></span><h4>Start Function</h4>
<p>Start function declarations <span class="math notranslate">\(\href{#syntax-start}{\mathit{start}}\)</span> are not classified by any type.</p>
<div class="section" id="id7">
<h5><span class="math notranslate">\(\{ \href{#syntax-start}{\mathsf{func}}~x \}\)</span></h5>
<ul class="simple">
<li>The function <span class="math notranslate">\(C.\href{#context}{\mathsf{funcs}}[x]\)</span> must be defined in the context.</li>
<li>The type of <span class="math notranslate">\(C.\href{#context}{\mathsf{funcs}}[x]\)</span> must be <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} []\)</span>.</li>
<li>Then the start function is valid.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{funcs}}[x] = [] \href{#syntax-functype}{\rightarrow} []
}{
  C \href{#valid-start}{\vdash} \{ \href{#syntax-start}{\mathsf{func}}~x \} \mathrel{\mbox{ok}}
}\]</div>
</div>
</div>
<div class="section" id="exports">
<span id="valid-export"></span><span id="valid-exportdesc"></span><span id="index-7"></span><h4>Exports</h4>
<p>Exports <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}\)</span> and export descriptions <span class="math notranslate">\(\href{#syntax-exportdesc}{\mathit{exportdesc}}\)</span> are classified by their <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a>.</p>
<div class="section" id="id8">
<h5><span class="math notranslate">\(\{ \href{#syntax-export}{\mathsf{name}}~\href{#syntax-name}{\mathit{name}}, \href{#syntax-export}{\mathsf{desc}}~\href{#syntax-exportdesc}{\mathit{exportdesc}} \}\)</span></h5>
<ul class="simple">
<li>The export description <span class="math notranslate">\(\href{#syntax-exportdesc}{\mathit{exportdesc}}\)</span> must be valid with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}\)</span>.</li>
<li>Then the export is valid with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C \href{#valid-exportdesc}{\vdash} \href{#syntax-exportdesc}{\mathit{exportdesc}} : \href{#syntax-externtype}{\mathit{externtype}}
}{
  C \href{#valid-export}{\vdash} \{ \href{#syntax-export}{\mathsf{name}}~\href{#syntax-name}{\mathit{name}}, \href{#syntax-export}{\mathsf{desc}}~\href{#syntax-exportdesc}{\mathit{exportdesc}} \} : \href{#syntax-externtype}{\mathit{externtype}}
}\]</div>
</div>
<div class="section" id="id9">
<h5><span class="math notranslate">\(\href{#syntax-exportdesc}{\mathsf{func}}~x\)</span></h5>
<ul class="simple">
<li>The function <span class="math notranslate">\(C.\href{#context}{\mathsf{funcs}}[x]\)</span> must be defined in the context.</li>
<li>Then the export description is valid with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{func}}~C.\href{#context}{\mathsf{funcs}}[x]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{funcs}}[x] = \href{#syntax-functype}{\mathit{functype}}
}{
  C \href{#valid-exportdesc}{\vdash} \href{#syntax-exportdesc}{\mathsf{func}}~x : \href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}}
}\]</div>
</div>
<div class="section" id="id10">
<h5><span class="math notranslate">\(\href{#syntax-exportdesc}{\mathsf{table}}~x\)</span></h5>
<ul class="simple">
<li>The table <span class="math notranslate">\(C.\href{#context}{\mathsf{tables}}[x]\)</span> must be defined in the context.</li>
<li>Then the export description is valid with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{table}}~C.\href{#context}{\mathsf{tables}}[x]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{tables}}[x] = \href{#syntax-tabletype}{\mathit{tabletype}}
}{
  C \href{#valid-exportdesc}{\vdash} \href{#syntax-exportdesc}{\mathsf{table}}~x : \href{#syntax-externtype}{\mathsf{table}}~\href{#syntax-tabletype}{\mathit{tabletype}}
}\]</div>
</div>
<div class="section" id="id11">
<h5><span class="math notranslate">\(\href{#syntax-exportdesc}{\mathsf{mem}}~x\)</span></h5>
<ul class="simple">
<li>The memory <span class="math notranslate">\(C.\href{#context}{\mathsf{mems}}[x]\)</span> must be defined in the context.</li>
<li>Then the export description is valid with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{mem}}~C.\href{#context}{\mathsf{mems}}[x]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{mems}}[x] = \href{#syntax-memtype}{\mathit{memtype}}
}{
  C \href{#valid-exportdesc}{\vdash} \href{#syntax-exportdesc}{\mathsf{mem}}~x : \href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-memtype}{\mathit{memtype}}
}\]</div>
</div>
<div class="section" id="id12">
<h5><span class="math notranslate">\(\href{#syntax-exportdesc}{\mathsf{global}}~x\)</span></h5>
<ul class="simple">
<li>The global <span class="math notranslate">\(C.\href{#context}{\mathsf{globals}}[x]\)</span> must be defined in the context.</li>
<li>Then the export description is valid with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{global}}~C.\href{#context}{\mathsf{globals}}[x]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{globals}}[x] = \href{#syntax-globaltype}{\mathit{globaltype}}
}{
  C \href{#valid-exportdesc}{\vdash} \href{#syntax-exportdesc}{\mathsf{global}}~x : \href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}}
}\]</div>
</div>
</div>
<div class="section" id="imports">
<span id="valid-import"></span><span id="valid-importdesc"></span><span id="index-8"></span><h4>Imports</h4>
<p>Imports <span class="math notranslate">\(\href{#syntax-import}{\mathit{import}}\)</span> and import descriptions <span class="math notranslate">\(\href{#syntax-importdesc}{\mathit{importdesc}}\)</span> are classified by <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a>.</p>
<div class="section" id="id13">
<h5><span class="math notranslate">\(\{ \href{#syntax-import}{\mathsf{module}}~\href{#syntax-name}{\mathit{name}}_1, \href{#syntax-import}{\mathsf{name}}~\href{#syntax-name}{\mathit{name}}_2, \href{#syntax-import}{\mathsf{desc}}~\href{#syntax-importdesc}{\mathit{importdesc}} \}\)</span></h5>
<ul class="simple">
<li>The import description <span class="math notranslate">\(\href{#syntax-importdesc}{\mathit{importdesc}}\)</span> must be valid with type <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}\)</span>.</li>
<li>Then the import is valid with type <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C \href{#valid-importdesc}{\vdash} \href{#syntax-importdesc}{\mathit{importdesc}} : \href{#syntax-externtype}{\mathit{externtype}}
}{
  C \href{#valid-import}{\vdash} \{ \href{#syntax-import}{\mathsf{module}}~\href{#syntax-name}{\mathit{name}}_1, \href{#syntax-import}{\mathsf{name}}~\href{#syntax-name}{\mathit{name}}_2, \href{#syntax-import}{\mathsf{desc}}~\href{#syntax-importdesc}{\mathit{importdesc}} \} : \href{#syntax-externtype}{\mathit{externtype}}
}\]</div>
</div>
<div class="section" id="id14">
<h5><span class="math notranslate">\(\href{#syntax-importdesc}{\mathsf{func}}~x\)</span></h5>
<ul class="simple">
<li>The function <span class="math notranslate">\(C.\href{#context}{\mathsf{types}}[x]\)</span> must be defined in the context.</li>
<li>Let <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(C.\href{#context}{\mathsf{types}}[x]\)</span>.</li>
<li>Then the import description is valid with type <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{func}}~[t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  C.\href{#context}{\mathsf{types}}[x] = [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}{
  C \href{#valid-importdesc}{\vdash} \href{#syntax-importdesc}{\mathsf{func}}~x : \href{#syntax-externtype}{\mathsf{func}}~[t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
</div>
<div class="section" id="id15">
<h5><span class="math notranslate">\(\href{#syntax-importdesc}{\mathsf{table}}~\href{#syntax-tabletype}{\mathit{tabletype}}\)</span></h5>
<ul class="simple">
<li>The table type <span class="math notranslate">\(\href{#syntax-tabletype}{\mathit{tabletype}}\)</span> must be <a class="reference internal" href="index.html#valid-tabletype"><span class="std std-ref">valid</span></a>.</li>
<li>Then the import description is valid with type <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{table}}~\href{#syntax-tabletype}{\mathit{tabletype}}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#valid-table}{\vdash} \href{#syntax-tabletype}{\mathit{tabletype}} \mathrel{\mbox{ok}}
}{
  C \href{#valid-importdesc}{\vdash} \href{#syntax-importdesc}{\mathsf{table}}~\href{#syntax-tabletype}{\mathit{tabletype}} : \href{#syntax-externtype}{\mathsf{table}}~\href{#syntax-tabletype}{\mathit{tabletype}}
}\]</div>
</div>
<div class="section" id="id16">
<h5><span class="math notranslate">\(\href{#syntax-importdesc}{\mathsf{mem}}~\href{#syntax-memtype}{\mathit{memtype}}\)</span></h5>
<ul class="simple">
<li>The memory type <span class="math notranslate">\(\href{#syntax-memtype}{\mathit{memtype}}\)</span> must be <a class="reference internal" href="index.html#valid-memtype"><span class="std std-ref">valid</span></a>.</li>
<li>Then the import description is valid with type <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-memtype}{\mathit{memtype}}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#valid-memtype}{\vdash} \href{#syntax-memtype}{\mathit{memtype}} \mathrel{\mbox{ok}}
}{
  C \href{#valid-importdesc}{\vdash} \href{#syntax-importdesc}{\mathsf{mem}}~\href{#syntax-memtype}{\mathit{memtype}} : \href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-memtype}{\mathit{memtype}}
}\]</div>
</div>
<div class="section" id="id17">
<h5><span class="math notranslate">\(\href{#syntax-importdesc}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}}\)</span></h5>
<ul class="simple">
<li>The global type <span class="math notranslate">\(\href{#syntax-globaltype}{\mathit{globaltype}}\)</span> must be <a class="reference internal" href="index.html#valid-globaltype"><span class="std std-ref">valid</span></a>.</li>
<li>Then the import description is valid with type <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#valid-globaltype}{\vdash} \href{#syntax-globaltype}{\mathit{globaltype}} \mathrel{\mbox{ok}}
}{
  C \href{#valid-importdesc}{\vdash} \href{#syntax-importdesc}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}} : \href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}}
}\]</div>
</div>
</div>
<div class="section" id="valid-module">
<span id="index-9"></span><span id="id18"></span><h4>Modules</h4>
<p>Modules are classified by their mapping from the <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a> of their <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">imports</span></a> to those of their <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">exports</span></a>.</p>
<p>A module is entirely <em>closed</em>,
that is, its components can only refer to definitions that appear in the module itself.
Consequently, no initial <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> is required.
Instead, the context <span class="math notranslate">\(C\)</span> for validation of the module’s content is constructed from the definitions in the module.</p>
<ul class="simple">
<li>Let <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}\)</span> be the module to validate.</li>
<li>Let <span class="math notranslate">\(C\)</span> be a <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> where:<ul>
<li><span class="math notranslate">\(C.\href{#context}{\mathsf{types}}\)</span> is <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{types}}\)</span>,</li>
<li><span class="math notranslate">\(C.\href{#context}{\mathsf{funcs}}\)</span> is <span class="math notranslate">\(\href{#syntax-externtype}{\mathrm{funcs}}(\mathit{it}^\ast)\)</span> concatenated with <span class="math notranslate">\(\mathit{ft}^\ast\)</span>,
with the import’s <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a> <span class="math notranslate">\(\mathit{it}^\ast\)</span> and the internal <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function types</span></a> <span class="math notranslate">\(\mathit{ft}^\ast\)</span> as determined below,</li>
<li><span class="math notranslate">\(C.\href{#context}{\mathsf{tables}}\)</span> is <span class="math notranslate">\(\href{#syntax-externtype}{\mathrm{tables}}(\mathit{it}^\ast)\)</span> concatenated with <span class="math notranslate">\(\mathit{tt}^\ast\)</span>,
with the import’s <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a> <span class="math notranslate">\(\mathit{it}^\ast\)</span> and the internal <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table types</span></a> <span class="math notranslate">\(\mathit{tt}^\ast\)</span> as determined below,</li>
<li><span class="math notranslate">\(C.\href{#context}{\mathsf{mems}}\)</span> is <span class="math notranslate">\(\href{#syntax-externtype}{\mathrm{mems}}(\mathit{it}^\ast)\)</span> concatenated with <span class="math notranslate">\(\mathit{mt}^\ast\)</span>,
with the import’s <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a> <span class="math notranslate">\(\mathit{it}^\ast\)</span> and the internal <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory types</span></a> <span class="math notranslate">\(\mathit{mt}^\ast\)</span> as determined below,</li>
<li><span class="math notranslate">\(C.\href{#context}{\mathsf{globals}}\)</span> is <span class="math notranslate">\(\href{#syntax-externtype}{\mathrm{globals}}(\mathit{it}^\ast)\)</span> concatenated with <span class="math notranslate">\(\mathit{gt}^\ast\)</span>,
with the import’s <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a> <span class="math notranslate">\(\mathit{it}^\ast\)</span> and the internal <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global types</span></a> <span class="math notranslate">\(\mathit{gt}^\ast\)</span> as determined below,</li>
<li><span class="math notranslate">\(C.\href{#context}{\mathsf{locals}}\)</span> is empty,</li>
<li><span class="math notranslate">\(C.\href{#context}{\mathsf{labels}}\)</span> is empty,</li>
<li><span class="math notranslate">\(C.\href{#context}{\mathsf{return}}\)</span> is empty.</li>
</ul>
</li>
<li>Let <span class="math notranslate">\(C'\)</span> be the <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> where <span class="math notranslate">\(C'.\href{#context}{\mathsf{globals}}\)</span> is the sequence <span class="math notranslate">\(\href{#syntax-externtype}{\mathrm{globals}}(\mathit{it}^\ast)\)</span> and all other fields are empty.</li>
<li>Under the context <span class="math notranslate">\(C\)</span>:<ul>
<li>For each <span class="math notranslate">\(\href{#syntax-func}{\mathit{func}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{funcs}}\)</span>,
the definition <span class="math notranslate">\(\href{#syntax-func}{\mathit{func}}_i\)</span> must be <a class="reference internal" href="#valid-func"><span class="std std-ref">valid</span></a> with a <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\mathit{ft}_i\)</span>.</li>
<li>For each <span class="math notranslate">\(\href{#syntax-table}{\mathit{table}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{tables}}\)</span>,
the definition <span class="math notranslate">\(\href{#syntax-table}{\mathit{table}}_i\)</span> must be <a class="reference internal" href="#valid-table"><span class="std std-ref">valid</span></a> with a <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate">\(\mathit{tt}_i\)</span>.</li>
<li>For each <span class="math notranslate">\(\href{#syntax-mem}{\mathit{mem}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{mems}}\)</span>,
the definition <span class="math notranslate">\(\href{#syntax-mem}{\mathit{mem}}_i\)</span> must be <a class="reference internal" href="#valid-mem"><span class="std std-ref">valid</span></a> with a <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory type</span></a> <span class="math notranslate">\(\mathit{mt}_i\)</span>.</li>
<li>For each <span class="math notranslate">\(\href{#syntax-global}{\mathit{global}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{globals}}\)</span>:<ul>
<li>Under the context <span class="math notranslate">\(C'\)</span>,
the definition <span class="math notranslate">\(\href{#syntax-global}{\mathit{global}}_i\)</span> must be <a class="reference internal" href="#valid-global"><span class="std std-ref">valid</span></a> with a <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate">\(\mathit{gt}_i\)</span>.</li>
</ul>
</li>
<li>For each <span class="math notranslate">\(\href{#syntax-elem}{\mathit{elem}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{elem}}\)</span>,
the segment <span class="math notranslate">\(\href{#syntax-elem}{\mathit{elem}}_i\)</span> must be <a class="reference internal" href="#valid-elem"><span class="std std-ref">valid</span></a>.</li>
<li>For each <span class="math notranslate">\(\href{#syntax-data}{\mathit{data}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{data}}\)</span>,
the segment <span class="math notranslate">\(\href{#syntax-data}{\mathit{data}}_i\)</span> must be <a class="reference internal" href="#valid-data"><span class="std std-ref">valid</span></a>.</li>
<li>If <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{start}}\)</span> is non-empty,
then <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{start}}\)</span> must be <a class="reference internal" href="#valid-start"><span class="std std-ref">valid</span></a>.</li>
<li>For each <span class="math notranslate">\(\href{#syntax-import}{\mathit{import}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{imports}}\)</span>,
the segment <span class="math notranslate">\(\href{#syntax-import}{\mathit{import}}_i\)</span> must be <a class="reference internal" href="#valid-import"><span class="std std-ref">valid</span></a> with an <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\mathit{it}_i\)</span>.</li>
<li>For each <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{exports}}\)</span>,
the segment <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}_i\)</span> must be <a class="reference internal" href="#valid-export"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\mathit{et}_i\)</span>.</li>
</ul>
</li>
<li>The length of <span class="math notranslate">\(C.\href{#context}{\mathsf{tables}}\)</span> must not be larger than <span class="math notranslate">\(1\)</span>.</li>
<li>The length of <span class="math notranslate">\(C.\href{#context}{\mathsf{mems}}\)</span> must not be larger than <span class="math notranslate">\(1\)</span>.</li>
<li>All export names <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}_i.\href{#syntax-export}{\mathsf{name}}\)</span> must be different.</li>
<li>Let <span class="math notranslate">\(\mathit{ft}^\ast\)</span> be the concatenation of the internal <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function types</span></a> <span class="math notranslate">\(\mathit{ft}_i\)</span>, in index order.</li>
<li>Let <span class="math notranslate">\(\mathit{tt}^\ast\)</span> be the concatenation of the internal <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table types</span></a> <span class="math notranslate">\(\mathit{tt}_i\)</span>, in index order.</li>
<li>Let <span class="math notranslate">\(\mathit{mt}^\ast\)</span> be the concatenation of the internal <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory types</span></a> <span class="math notranslate">\(\mathit{mt}_i\)</span>, in index order.</li>
<li>Let <span class="math notranslate">\(\mathit{gt}^\ast\)</span> be the concatenation of the internal <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global types</span></a> <span class="math notranslate">\(\mathit{gt}_i\)</span>, in index order.</li>
<li>Let <span class="math notranslate">\(\mathit{it}^\ast\)</span> be the concatenation of <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a> <span class="math notranslate">\(\mathit{it}_i\)</span> of the imports, in index order.</li>
<li>Let <span class="math notranslate">\(\mathit{et}^\ast\)</span> be the concatenation of <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a> <span class="math notranslate">\(\mathit{et}_i\)</span> of the exports, in index order.</li>
<li>Then the module is valid with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a> <span class="math notranslate">\(\mathit{it}^\ast \href{#syntax-functype}{\rightarrow} \mathit{et}^\ast\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\frac{
  \begin{array}{&#64;{}c&#64;{}}
  (C \href{#valid-func}{\vdash} \href{#syntax-func}{\mathit{func}} : \mathit{ft})^\ast
  \quad
  (C \href{#valid-table}{\vdash} \href{#syntax-table}{\mathit{table}} : \mathit{tt})^\ast
  \quad
  (C \href{#valid-mem}{\vdash} \href{#syntax-mem}{\mathit{mem}} : \mathit{mt})^\ast
  \quad
  (C' \href{#valid-global}{\vdash} \href{#syntax-global}{\mathit{global}} : \mathit{gt})^\ast
  \\
  (C \href{#valid-elem}{\vdash} \href{#syntax-elem}{\mathit{elem}} \mathrel{\mbox{ok}})^\ast
  \quad
  (C \href{#valid-data}{\vdash} \href{#syntax-data}{\mathit{data}} \mathrel{\mbox{ok}})^\ast
  \quad
  (C \href{#valid-start}{\vdash} \href{#syntax-start}{\mathit{start}} \mathrel{\mbox{ok}})^?
  \quad
  (C \href{#valid-import}{\vdash} \href{#syntax-import}{\mathit{import}} : \mathit{it})^\ast
  \quad
  (C \href{#valid-export}{\vdash} \href{#syntax-export}{\mathit{export}} : \mathit{et})^\ast
  \\
  \mathit{ift}^\ast = \href{#syntax-externtype}{\mathrm{funcs}}(\mathit{it}^\ast)
  \qquad
  \mathit{itt}^\ast = \href{#syntax-externtype}{\mathrm{tables}}(\mathit{it}^\ast)
  \qquad
  \mathit{imt}^\ast = \href{#syntax-externtype}{\mathrm{mems}}(\mathit{it}^\ast)
  \qquad
  \mathit{igt}^\ast = \href{#syntax-externtype}{\mathrm{globals}}(\mathit{it}^\ast)
  \\
  C = \{ \href{#context}{\mathsf{types}}~\href{#syntax-functype}{\mathit{functype}}^\ast, \href{#context}{\mathsf{funcs}}~\mathit{ift}^\ast~\mathit{ft}^\ast, \href{#context}{\mathsf{tables}}~\mathit{itt}^\ast~\mathit{tt}^\ast, \href{#context}{\mathsf{mems}}~\mathit{imt}^\ast~\mathit{mt}^\ast, \href{#context}{\mathsf{globals}}~\mathit{igt}^\ast~\mathit{gt}^\ast \}
  \\
  C' = \{ \href{#context}{\mathsf{globals}}~\mathit{igt}^\ast \}
  \qquad
  |C.\href{#context}{\mathsf{tables}}| \leq 1
  \qquad
  |C.\href{#context}{\mathsf{mems}}| \leq 1
  \qquad
  (\href{#syntax-export}{\mathit{export}}.\href{#syntax-export}{\mathsf{name}})^\ast ~\mathrm{disjoint}
  \end{array}
}{
  \href{#valid-module}{\vdash} \{
    \begin{array}[t]{&#64;{}l&#64;{}}
      \href{#syntax-module}{\mathsf{types}}~\href{#syntax-functype}{\mathit{functype}}^\ast,
      \href{#syntax-module}{\mathsf{funcs}}~\href{#syntax-func}{\mathit{func}}^\ast,
      \href{#syntax-module}{\mathsf{tables}}~\href{#syntax-table}{\mathit{table}}^\ast,
      \href{#syntax-module}{\mathsf{mems}}~\href{#syntax-mem}{\mathit{mem}}^\ast,
      \href{#syntax-module}{\mathsf{globals}}~\href{#syntax-global}{\mathit{global}}^\ast, \\
      \href{#syntax-module}{\mathsf{elem}}~\href{#syntax-elem}{\mathit{elem}}^\ast,
      \href{#syntax-module}{\mathsf{data}}~\href{#syntax-data}{\mathit{data}}^\ast,
      \href{#syntax-module}{\mathsf{start}}~\href{#syntax-start}{\mathit{start}}^?,
      \href{#syntax-module}{\mathsf{imports}}~\href{#syntax-import}{\mathit{import}}^\ast,
      \href{#syntax-module}{\mathsf{exports}}~\href{#syntax-export}{\mathit{export}}^\ast \} : \mathit{it}^\ast \href{#syntax-functype}{\rightarrow} \mathit{et}^\ast \\
    \end{array}
}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Most definitions in a module – particularly functions – are mutually recursive.
Consequently, the definition of the <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate">\(C\)</span> in this rule is recursive:
it depends on the outcome of validation of the function, table, memory, and global definitions contained in the module,
which itself depends on <span class="math notranslate">\(C\)</span>.
However, this recursion is just a specification device.
All types needed to construct <span class="math notranslate">\(C\)</span> can easily be determined from a simple pre-pass over the module that does not perform any actual validation.</p>
<p class="last">Globals, however, are not recursive.
The effect of defining the limited context <span class="math notranslate">\(C'\)</span> for validating the module’s globals is that their initialization expressions can only access imported globals and nothing else.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The restriction on the number of tables and memories may be lifted in future versions of WebAssembly.</p>
</div>
</div>
</div>
</div>
</div>
<span id="document-exec/index"></span><div class="section" id="execution">
<span id="exec"></span><h2>Execution</h2>
<div class="toctree-wrapper compound">
<span id="document-exec/conventions"></span><div class="section" id="conventions">
<span id="index-0"></span><h3>Conventions</h3>
<p>WebAssembly code is <em>executed</em> when <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">instantiating</span></a> a module or <a class="reference internal" href="index.html#exec-invocation"><span class="std std-ref">invoking</span></a> an <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">exported</span></a> function on the resulting module <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">instance</span></a>.</p>
<p>Execution behavior is defined in terms of an <em>abstract machine</em> that models the <em>program state</em>.
It includes a <em>stack</em>, which records operand values and control constructs, and an abstract <em>store</em> containing global state.</p>
<p>For each instruction, there is a rule that specifies the effect of its execution on the program state.
Furthermore, there are rules describing the instantiation of a module.
As with <a class="reference internal" href="index.html#validation"><span class="std std-ref">validation</span></a>, all rules are given in two <em>equivalent</em> forms:</p>
<ol class="arabic simple">
<li>In <em>prose</em>, describing the execution in intuitive form.</li>
<li>In <em>formal notation</em>, describing the rule in mathematical form. <a class="footnote-reference" href="#cite-pldi2017" id="id1">[1]</a></li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As with validation, the prose and formal rules are equivalent,
so that understanding of the formal notation is <em>not</em> required to read this specification.
The formalism offers a more concise description in notation that is used widely in programming languages semantics and is readily amenable to mathematical proof.</p>
</div>
<div class="section" id="prose-notation">
<span id="exec-notation-textual"></span><h4>Prose Notation</h4>
<p>Execution is specified by stylised, step-wise rules for each <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instruction</span></a> of the <a class="reference internal" href="index.html#syntax"><span class="std std-ref">abstract syntax</span></a>.
The following conventions are adopted in stating these rules.</p>
<ul class="simple">
<li>The execution rules implicitly assume a given <a class="reference internal" href="index.html#store"><span class="std std-ref">store</span></a> <span class="math notranslate">\(S\)</span>.</li>
<li>The execution rules also assume the presence of an implicit <a class="reference internal" href="index.html#stack"><span class="std std-ref">stack</span></a>
that is modified by <em>pushing</em> or <em>popping</em>
<a class="reference internal" href="index.html#syntax-value"><span class="std std-ref">values</span></a>, <a class="reference internal" href="index.html#syntax-label"><span class="std std-ref">labels</span></a>, and <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frames</span></a>.</li>
<li>Certain rules require the stack to contain at least one frame.
The most recent frame is referred to as the <em>current</em> frame.</li>
<li>Both the store and the current frame are mutated by <em>replacing</em> some of their components.
Such replacement is assumed to apply globally.</li>
<li>The execution of an instruction may <em>trap</em>,
in which case the entire computation is aborted and no further modifications to the store are performed by it. (Other computations can still be initiated afterwards.)</li>
<li>The execution of an instruction may also end in a <em>jump</em> to a designated target,
which defines the next instruction to execute.</li>
<li>Execution can <em>enter</em> and <em>exit</em> <a class="reference internal" href="index.html#syntax-instr-seq"><span class="std std-ref">instruction sequences</span></a> that form <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">blocks</span></a>.</li>
<li><a class="reference internal" href="index.html#syntax-instr-seq"><span class="std std-ref">Instruction sequences</span></a> are implicitly executed in order, unless a trap or jump occurs.</li>
<li>In various places the rules contain <em>assertions</em> expressing crucial invariants about the program state.</li>
</ul>
</div>
<div class="section" id="formal-notation">
<span id="exec-notation"></span><span id="index-1"></span><h4>Formal Notation</h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This section gives a brief explanation of the notation for specifying execution formally.
For the interested reader, a more thorough introduction can be found in respective text books. <a class="footnote-reference" href="#cite-tapl" id="id2">[2]</a></p>
</div>
<p>The formal execution rules use a standard approach for specifying operational semantics, rendering them into <em>reduction rules</em>.
Every rule has the following general form:</p>
<div class="math notranslate">
\[\mathit{configuration} \quad\href{#formal-notation}{\hookrightarrow}\quad \mathit{configuration}\]</div>
<p>A <em>configuration</em> is a syntactic description of a program state.
Each rule specifies one <em>step</em> of execution.
As long as there is at most one reduction rule applicable to a given configuration, reduction – and thereby execution – is <em>deterministic</em>.
WebAssembly has only very few exceptions to this, which are noted explicitly in this specification.</p>
<p>For WebAssembly, a configuration typically is a tuple <span class="math notranslate">\((S; F; \href{#syntax-instr}{\mathit{instr}}^\ast)\)</span> consisting of the current <a class="reference internal" href="index.html#store"><span class="std std-ref">store</span></a> <span class="math notranslate">\(S\)</span>, the <a class="reference internal" href="index.html#frame"><span class="std std-ref">call frame</span></a> <span class="math notranslate">\(F\)</span> of the current function, and the sequence of <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instructions</span></a> that is to be executed.
(A more precise definition is given <a class="reference internal" href="index.html#syntax-config"><span class="std std-ref">later</span></a>.)</p>
<p>To avoid unnecessary clutter, the store <span class="math notranslate">\(S\)</span> and the frame <span class="math notranslate">\(F\)</span> are omitted from reduction rules that do not touch them.</p>
<p>There is no separate representation of the <a class="reference internal" href="index.html#stack"><span class="std std-ref">stack</span></a>.
Instead, it is conveniently represented as part of the configuration’s instruction sequence.
In particular, <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> are defined to coincide with <span class="math notranslate">\(\href{#syntax-instr-numeric}{\mathsf{const}}\)</span> instructions,
and a sequence of <span class="math notranslate">\(\href{#syntax-instr-numeric}{\mathsf{const}}\)</span> instructions can be interpreted as an operand “stack” that grows to the right.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For example, the <a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">reduction rule</span></a> for the <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{add}}\)</span> instruction can be given as follows:</p>
<div class="math notranslate">
\[(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~n_1)~(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~n_2)~\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{add}} \quad\href{#formal-notation}{\hookrightarrow}\quad (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~(n_1 + n_2) \mathbin{\mathrm{mod}} 2^{32})\]</div>
<p>Per this rule, two <span class="math notranslate">\(\href{#syntax-instr-numeric}{\mathsf{const}}\)</span> instructions and the <span class="math notranslate">\(\href{#syntax-instr-numeric}{\mathsf{add}}\)</span> instruction itself are removed from the instruction stream and replaced with one new <span class="math notranslate">\(\href{#syntax-instr-numeric}{\mathsf{const}}\)</span> instruction.
This can be interpreted as popping two value off the stack and pushing the result.</p>
<p>When no result is produced, an instruction reduces to the empty sequence:</p>
<div class="last math notranslate">
\[\href{#syntax-instr-control}{\mathsf{nop}} \quad\href{#formal-notation}{\hookrightarrow}\quad \epsilon\]</div>
</div>
<p><a class="reference internal" href="index.html#label"><span class="std std-ref">Labels</span></a> and <a class="reference internal" href="index.html#frame"><span class="std std-ref">frames</span></a> are similarly <a class="reference internal" href="index.html#syntax-instr-admin"><span class="std std-ref">defined</span></a> to be part of an instruction sequence.</p>
<p>The order of reduction is determined by the definition of an appropriate <a class="reference internal" href="index.html#syntax-ctxt-eval"><span class="std std-ref">evaluation context</span></a>.</p>
<p>Reduction <em>terminates</em> when no more reduction rules are applicable.
<a class="reference internal" href="index.html#soundness"><span class="std std-ref">Soundness</span></a> of the WebAssembly <a class="reference internal" href="index.html#type-system"><span class="std std-ref">type system</span></a> guarantees that this is only the case when the original instruction sequence has either been reduced to a sequence of <span class="math notranslate">\(\href{#syntax-instr-numeric}{\mathsf{const}}\)</span> instructions, which can be interpreted as the <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> of the resulting operand stack,
or if a <a class="reference internal" href="index.html#syntax-trap"><span class="std std-ref">trap</span></a> occurred.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For example, the following instruction sequence,</p>
<div class="math notranslate">
\[(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_1)~(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_2)~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{neg}}~(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_3)~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{add}}~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{mul}}\]</div>
<p>terminates after three steps:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{ll}
&amp; (\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_1)~(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_2)~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{neg}}~(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_3)~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{add}}~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{mul}} \\
\href{#formal-notation}{\hookrightarrow} &amp; (\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_1)~(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_4)~(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_3)~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{add}}~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{mul}} \\
\href{#formal-notation}{\hookrightarrow} &amp; (\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_1)~(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_5)~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{mul}} \\
\href{#formal-notation}{\hookrightarrow} &amp; (\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_6) \\
\end{array}\end{split}\]</div>
<p class="last">where <span class="math notranslate">\(x_4 = -x_2\)</span> and <span class="math notranslate">\(x_5 = -x_2 + x_3\)</span> and <span class="math notranslate">\(x_6 = x_1 \cdot (-x_2 + x_3)\)</span>.</p>
</div>
<table class="docutils footnote" frame="void" id="cite-pldi2017" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>The semantics is derived from the following article:
Andreas Haas, Andreas Rossberg, Derek Schuff, Ben Titzer, Dan Gohman, Luke Wagner, Alon Zakai, JF Bastien, Michael Holman. <a class="reference external" href="https://dl.acm.org/citation.cfm?doid=3062341.3062363">Bringing the Web up to Speed with WebAssembly</a>. Proceedings of the 38th ACM SIGPLAN Conference on Programming Language Design and Implementation (PLDI 2017). ACM 2017.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="cite-tapl" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>For example: Benjamin Pierce. <a class="reference external" href="https://www.cis.upenn.edu/~bcpierce/tapl/">Types and Programming Languages</a>. The MIT Press 2002</td></tr>
</tbody>
</table>
</div>
</div>
<span id="document-exec/runtime"></span><div class="section" id="runtime-structure">
<span id="syntax-runtime"></span><span id="index-0"></span><h3>Runtime Structure</h3>
<p><a class="reference internal" href="#store"><span class="std std-ref">Store</span></a>, <a class="reference internal" href="#stack"><span class="std std-ref">stack</span></a>, and other <em>runtime structure</em> forming the WebAssembly abstract machine, such as <a class="reference internal" href="#syntax-val"><span class="std std-ref">values</span></a> or <a class="reference internal" href="#syntax-moduleinst"><span class="std std-ref">module instances</span></a>, are made precise in terms of additional auxiliary syntax.</p>
<div class="section" id="values">
<span id="syntax-val"></span><span id="index-1"></span><h4>Values</h4>
<p>WebAssembly computations manipulate <em>values</em> of the four basic <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a>: <a class="reference internal" href="index.html#syntax-int"><span class="std std-ref">integers</span></a> and <a class="reference internal" href="index.html#syntax-float"><span class="std std-ref">floating-point data</span></a> of 32 or 64 bit width each, respectively.</p>
<p>In most places of the semantics, values of different types can occur.
In order to avoid ambiguities, values are therefore represented with an abstract syntax that makes their type explicit.
It is convenient to reuse the same notation as for the <span class="math notranslate">\(\href{#syntax-instr-numeric}{\mathsf{const}}\)</span> <a class="reference internal" href="index.html#syntax-const"><span class="std std-ref">instructions</span></a> producing them:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcl}
\def\mathdef1658#1{{}}\mathdef1658{(value)} &amp; \href{#syntax-val}{\mathit{val}} &amp;::=&amp;
  \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\href{#syntax-int}{\def\mathdef1675#1{{\mathit{i}#1}}\mathdef1675{\mathit{32}}} \\&amp;&amp;|&amp;
  \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\href{#syntax-int}{\def\mathdef1676#1{{\mathit{i}#1}}\mathdef1676{\mathit{64}}} \\&amp;&amp;|&amp;
  \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\href{#syntax-float}{\def\mathdef1679#1{{\mathit{f}#1}}\mathdef1679{\mathit{32}}} \\&amp;&amp;|&amp;
  \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\href{#syntax-float}{\def\mathdef1680#1{{\mathit{f}#1}}\mathdef1680{\mathit{64}}}
\end{array}\end{split}\]</div>
</div>
<div class="section" id="results">
<span id="syntax-result"></span><span id="index-2"></span><h4>Results</h4>
<p>A <em>result</em> is the outcome of a computation.
It is either a sequence of <a class="reference internal" href="#syntax-val"><span class="std std-ref">values</span></a> or a <a class="reference internal" href="#syntax-trap"><span class="std std-ref">trap</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcl}
\def\mathdef1658#1{{}}\mathdef1658{(result)} &amp; \href{#syntax-result}{\mathit{result}} &amp;::=&amp;
  \href{#syntax-val}{\mathit{val}}^\ast \\&amp;&amp;|&amp;
  \href{#syntax-trap}{\mathsf{trap}}
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current version of WebAssembly, a result can consist of at most one value.</p>
</div>
</div>
<div class="section" id="store">
<span id="syntax-store"></span><span id="index-3"></span><span id="id1"></span><h4>Store</h4>
<p>The <em>store</em> represents all global state that can be manipulated by WebAssembly programs.
It consists of the runtime representation of all <em>instances</em> of <a class="reference internal" href="#syntax-funcinst"><span class="std std-ref">functions</span></a>, <a class="reference internal" href="#syntax-tableinst"><span class="std std-ref">tables</span></a>, <a class="reference internal" href="#syntax-meminst"><span class="std std-ref">memories</span></a>, and <a class="reference internal" href="#syntax-globalinst"><span class="std std-ref">globals</span></a> that have been <a class="reference internal" href="index.html#alloc"><span class="std std-ref">allocated</span></a> during the life time of the abstract machine. <a class="footnote-reference" href="#gc" id="id2">[1]</a></p>
<p>Syntactically, the store is defined as a <a class="reference internal" href="index.html#notation-record"><span class="std std-ref">record</span></a> listing the existing instances of each category:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(store)} &amp; \href{#syntax-store}{\mathit{store}} &amp;::=&amp; \{~
  \begin{array}[t]{l&#64;{~}ll}
  \href{#syntax-store}{\mathsf{funcs}} &amp; \href{#syntax-funcinst}{\mathit{funcinst}}^\ast, \\
  \href{#syntax-store}{\mathsf{tables}} &amp; \href{#syntax-tableinst}{\mathit{tableinst}}^\ast, \\
  \href{#syntax-store}{\mathsf{mems}} &amp; \href{#syntax-meminst}{\mathit{meminst}}^\ast, \\
  \href{#syntax-store}{\mathsf{globals}} &amp; \href{#syntax-globalinst}{\mathit{globalinst}}^\ast ~\} \\
  \end{array}
\end{array}\end{split}\]</div>
<table class="docutils footnote" frame="void" id="gc" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>In practice, implementations may apply techniques like garbage collection to remove objects from the store that are no longer referenced.
However, such techniques are not semantically observable,
and hence outside the scope of this specification.</td></tr>
</tbody>
</table>
<div class="section" id="convention">
<h5>Convention</h5>
<ul class="simple">
<li>The meta variable <span class="math notranslate">\(S\)</span> ranges over stores where clear from context.</li>
</ul>
</div>
</div>
<div class="section" id="addresses">
<span id="syntax-addr"></span><span id="syntax-globaladdr"></span><span id="syntax-memaddr"></span><span id="syntax-tableaddr"></span><span id="syntax-funcaddr"></span><span id="index-4"></span><h4>Addresses</h4>
<p><a class="reference internal" href="#syntax-funcinst"><span class="std std-ref">Function instances</span></a>, <a class="reference internal" href="#syntax-tableinst"><span class="std std-ref">table instances</span></a>, <a class="reference internal" href="#syntax-meminst"><span class="std std-ref">memory instances</span></a>, and <a class="reference internal" href="#syntax-globalinst"><span class="std std-ref">global instances</span></a> in the <a class="reference internal" href="#syntax-store"><span class="std std-ref">store</span></a> are referenced with abstract <em>addresses</em>.
These are simply indices into the respective store component.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(address)} &amp; \href{#syntax-addr}{\mathit{addr}} &amp;::=&amp;
  0 ~|~ 1 ~|~ 2 ~|~ \dots \\
\def\mathdef1658#1{{}}\mathdef1658{(function address)} &amp; \href{#syntax-funcaddr}{\mathit{funcaddr}} &amp;::=&amp;
  \href{#syntax-addr}{\mathit{addr}} \\
\def\mathdef1658#1{{}}\mathdef1658{(table address)} &amp; \href{#syntax-tableaddr}{\mathit{tableaddr}} &amp;::=&amp;
  \href{#syntax-addr}{\mathit{addr}} \\
\def\mathdef1658#1{{}}\mathdef1658{(memory address)} &amp; \href{#syntax-memaddr}{\mathit{memaddr}} &amp;::=&amp;
  \href{#syntax-addr}{\mathit{addr}} \\
\def\mathdef1658#1{{}}\mathdef1658{(global address)} &amp; \href{#syntax-globaladdr}{\mathit{globaladdr}} &amp;::=&amp;
  \href{#syntax-addr}{\mathit{addr}} \\
\end{array}\end{split}\]</div>
<p>An <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a> may assign identity to <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">exported</span></a> store objects corresponding to their addresses,
even where this identity is not observable from within WebAssembly code itself
(such as for <a class="reference internal" href="#syntax-funcinst"><span class="std std-ref">function instances</span></a> or immutable <a class="reference internal" href="#syntax-globalinst"><span class="std std-ref">globals</span></a>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Addresses are <em>dynamic</em>, globally unique references to runtime objects,
in contrast to <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">indices</span></a>,
which are <em>static</em>, module-local references to their original definitions.
A <em>memory address</em> <span class="math notranslate">\(\href{#syntax-memaddr}{\mathit{memaddr}}\)</span> denotes the abstract address <em>of</em> a memory <em>instance</em> in the store,
not an offset <em>inside</em> a memory instance.</p>
<p class="last">There is no specific limit on the number of allocations of store objects,
hence logical addresses can be arbitrarily large natural numbers.</p>
</div>
</div>
<div class="section" id="module-instances">
<span id="syntax-moduleinst"></span><span id="index-5"></span><h4>Module Instances</h4>
<p>A <em>module instance</em> is the runtime representation of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.
It is created by <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">instantiating</span></a> a module,
and collects runtime representations of all entities that are imported, defined, or exported by the module.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(module instance)} &amp; \href{#syntax-moduleinst}{\mathit{moduleinst}} &amp;::=&amp; \{
  \begin{array}[t]{l&#64;{~}ll}
  \href{#syntax-moduleinst}{\mathsf{types}} &amp; \href{#syntax-functype}{\mathit{functype}}^\ast, \\
  \href{#syntax-moduleinst}{\mathsf{funcaddrs}} &amp; \href{#syntax-funcaddr}{\mathit{funcaddr}}^\ast, \\
  \href{#syntax-moduleinst}{\mathsf{tableaddrs}} &amp; \href{#syntax-tableaddr}{\mathit{tableaddr}}^\ast, \\
  \href{#syntax-moduleinst}{\mathsf{memaddrs}} &amp; \href{#syntax-memaddr}{\mathit{memaddr}}^\ast, \\
  \href{#syntax-moduleinst}{\mathsf{globaladdrs}} &amp; \href{#syntax-globaladdr}{\mathit{globaladdr}}^\ast, \\
  \href{#syntax-moduleinst}{\mathsf{exports}} &amp; \href{#syntax-exportinst}{\mathit{exportinst}}^\ast ~\} \\
  \end{array}
\end{array}\end{split}\]</div>
<p>Each component references runtime instances corresponding to respective declarations from the original module – whether imported or defined – in the order of their static <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">indices</span></a>.
<a class="reference internal" href="#syntax-funcinst"><span class="std std-ref">Function instances</span></a>, <a class="reference internal" href="#syntax-tableinst"><span class="std std-ref">table instances</span></a>, <a class="reference internal" href="#syntax-meminst"><span class="std std-ref">memory instances</span></a>, and <a class="reference internal" href="#syntax-globalinst"><span class="std std-ref">global instances</span></a> are referenced with an indirection through their respective <a class="reference internal" href="#syntax-addr"><span class="std std-ref">addresses</span></a> in the <a class="reference internal" href="#syntax-store"><span class="std std-ref">store</span></a>.</p>
<p>It is an invariant of the semantics that all <a class="reference internal" href="#syntax-exportinst"><span class="std std-ref">export instances</span></a> in a given module instance have different <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">names</span></a>.</p>
</div>
<div class="section" id="function-instances">
<span id="syntax-funcinst"></span><span id="syntax-hostfunc"></span><span id="index-6"></span><h4>Function Instances</h4>
<p>A <em>function instance</em> is the runtime representation of a <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a>.
It effectively is a <em>closure</em> of the original function over the runtime <a class="reference internal" href="#syntax-moduleinst"><span class="std std-ref">module instance</span></a> of its originating <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.
The module instance is used to resolve references to other definitions during execution of the function.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(function instance)} &amp; \href{#syntax-funcinst}{\mathit{funcinst}} &amp;::=&amp;
  \{ \href{#syntax-funcinst}{\mathsf{type}}~\href{#syntax-functype}{\mathit{functype}}, \href{#syntax-funcinst}{\mathsf{module}}~\href{#syntax-moduleinst}{\mathit{moduleinst}}, \href{#syntax-funcinst}{\mathsf{code}}~\href{#syntax-func}{\mathit{func}} \} \\ &amp;&amp;|&amp;
  \{ \href{#syntax-funcinst}{\mathsf{type}}~\href{#syntax-functype}{\mathit{functype}}, \href{#syntax-funcinst}{\mathsf{hostcode}}~\href{#syntax-hostfunc}{\mathit{hostfunc}} \} \\
\def\mathdef1658#1{{}}\mathdef1658{(host function)} &amp; \href{#syntax-hostfunc}{\mathit{hostfunc}} &amp;::=&amp; \dots \\
\end{array}\end{split}\]</div>
<p>A <em>host function</em> is a function expressed outside WebAssembly but passed to a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a> as an <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">import</span></a>.
The definition and behavior of host functions are outside the scope of this specification.
For the purpose of this specification, it is assumed that when <a class="reference internal" href="index.html#exec-invoke-host"><span class="std std-ref">invoked</span></a>,
a host function behaves non-deterministically,
but within certain <a class="reference internal" href="index.html#exec-invoke-host"><span class="std std-ref">constraints</span></a> that ensure the integrity of the runtime.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Function instances are immutable, and their identity is not observable by WebAssembly code.
However, the <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a> might provide implicit or explicit means for distinguishing their <a class="reference internal" href="#syntax-funcaddr"><span class="std std-ref">addresses</span></a>.</p>
</div>
</div>
<div class="section" id="table-instances">
<span id="syntax-tableinst"></span><span id="syntax-funcelem"></span><span id="index-7"></span><h4>Table Instances</h4>
<p>A <em>table instance</em> is the runtime representation of a <a class="reference internal" href="index.html#syntax-table"><span class="std std-ref">table</span></a>.
It holds a vector of <em>function elements</em> and an optional maximum size, if one was specified in the <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table type</span></a> at the table’s definition site.</p>
<p>Each function element is either empty, representing an uninitialized table entry, or a <a class="reference internal" href="#syntax-funcaddr"><span class="std std-ref">function address</span></a>.
Function elements can be mutated through the execution of an <a class="reference internal" href="index.html#syntax-elem"><span class="std std-ref">element segment</span></a> or by external means provided by the <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(table instance)} &amp; \href{#syntax-tableinst}{\mathit{tableinst}} &amp;::=&amp;
  \{ \href{#syntax-tableinst}{\mathsf{elem}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-funcelem}{\mathit{funcelem}}), \href{#syntax-tableinst}{\mathsf{max}}~\href{#syntax-int}{\def\mathdef1664#1{{\mathit{u}#1}}\mathdef1664{\mathit{32}}}^? \} \\
\def\mathdef1658#1{{}}\mathdef1658{(function element)} &amp; \href{#syntax-funcelem}{\mathit{funcelem}} &amp;::=&amp;
  \href{#syntax-funcaddr}{\mathit{funcaddr}}^? \\
\end{array}\end{split}\]</div>
<p>It is an invariant of the semantics that the length of the element vector never exceeds the maximum size, if present.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Other table elements may be added in future versions of WebAssembly.</p>
</div>
</div>
<div class="section" id="memory-instances">
<span id="syntax-meminst"></span><span id="page-size"></span><span id="index-8"></span><h4>Memory Instances</h4>
<p>A <em>memory instance</em> is the runtime representation of a linear <a class="reference internal" href="index.html#syntax-mem"><span class="std std-ref">memory</span></a>.
It holds a vector of <a class="reference internal" href="index.html#syntax-byte"><span class="std std-ref">bytes</span></a> and an optional maximum size, if one was specified at the definition site of the memory.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(memory instance)} &amp; \href{#syntax-meminst}{\mathit{meminst}} &amp;::=&amp;
  \{ \href{#syntax-meminst}{\mathsf{data}}~\href{#syntax-vec}{\mathit{vec}}(\href{#syntax-byte}{\mathit{byte}}), \href{#syntax-meminst}{\mathsf{max}}~\href{#syntax-int}{\def\mathdef1664#1{{\mathit{u}#1}}\mathdef1664{\mathit{32}}}^? \} \\
\end{array}\end{split}\]</div>
<p>The length of the vector always is a multiple of the WebAssembly <em>page size</em>, which is defined to be the constant <span class="math notranslate">\(65536\)</span> – abbreviated <span class="math notranslate">\(64\,\mathrm{Ki}\)</span>.
Like in a <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory type</span></a>, the maximum size in a memory instance is given in units of this page size.</p>
<p>The bytes can be mutated through <a class="reference internal" href="index.html#syntax-instr-memory"><span class="std std-ref">memory instructions</span></a>, the execution of a <a class="reference internal" href="index.html#syntax-data"><span class="std std-ref">data segment</span></a>, or by external means provided by the <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a>.</p>
<p>It is an invariant of the semantics that the length of the byte vector, divided by page size, never exceeds the maximum size, if present.</p>
</div>
<div class="section" id="global-instances">
<span id="syntax-globalinst"></span><span id="index-9"></span><h4>Global Instances</h4>
<p>A <em>global instance</em> is the runtime representation of a <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">global</span></a> variable.
It holds an individual <a class="reference internal" href="#syntax-val"><span class="std std-ref">value</span></a> and a flag indicating whether it is mutable.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(global instance)} &amp; \href{#syntax-globalinst}{\mathit{globalinst}} &amp;::=&amp;
  \{ \href{#syntax-globalinst}{\mathsf{value}}~\href{#syntax-val}{\mathit{val}}, \href{#syntax-globalinst}{\mathsf{mut}}~\href{#syntax-mut}{\mathit{mut}} \} \\
\end{array}\end{split}\]</div>
<p>The value of mutable globals can be mutated through <a class="reference internal" href="index.html#syntax-instr-variable"><span class="std std-ref">variable instructions</span></a> or by external means provided by the <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a>.</p>
</div>
<div class="section" id="export-instances">
<span id="syntax-exportinst"></span><span id="index-10"></span><h4>Export Instances</h4>
<p>An <em>export instance</em> is the runtime representation of an <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">export</span></a>.
It defines the export’s <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">name</span></a> and the associated <a class="reference internal" href="#syntax-externval"><span class="std std-ref">external value</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(export instance)} &amp; \href{#syntax-exportinst}{\mathit{exportinst}} &amp;::=&amp;
  \{ \href{#syntax-exportinst}{\mathsf{name}}~\href{#syntax-name}{\mathit{name}}, \href{#syntax-exportinst}{\mathsf{value}}~\href{#syntax-externval}{\mathit{externval}} \} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="external-values">
<span id="syntax-externval"></span><span id="index-11"></span><h4>External Values</h4>
<p>An <em>external value</em> is the runtime representation of an entity that can be imported or exported.
It is an <a class="reference internal" href="#syntax-addr"><span class="std std-ref">address</span></a> denoting either a <a class="reference internal" href="#syntax-funcinst"><span class="std std-ref">function instance</span></a>, <a class="reference internal" href="#syntax-tableinst"><span class="std std-ref">table instance</span></a>, <a class="reference internal" href="#syntax-meminst"><span class="std std-ref">memory instance</span></a>, or <a class="reference internal" href="#syntax-globalinst"><span class="std std-ref">global instances</span></a> in the shared <a class="reference internal" href="#syntax-store"><span class="std std-ref">store</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcl}
\def\mathdef1658#1{{}}\mathdef1658{(external value)} &amp; \href{#syntax-externval}{\mathit{externval}} &amp;::=&amp;
  \href{#syntax-externval}{\mathsf{func}}~\href{#syntax-funcaddr}{\mathit{funcaddr}} \\&amp;&amp;|&amp;
  \href{#syntax-externval}{\mathsf{table}}~\href{#syntax-tableaddr}{\mathit{tableaddr}} \\&amp;&amp;|&amp;
  \href{#syntax-externval}{\mathsf{mem}}~\href{#syntax-memaddr}{\mathit{memaddr}} \\&amp;&amp;|&amp;
  \href{#syntax-externval}{\mathsf{global}}~\href{#syntax-globaladdr}{\mathit{globaladdr}} \\
\end{array}\end{split}\]</div>
<div class="section" id="conventions">
<h5>Conventions</h5>
<p>The following auxiliary notation is defined for sequences of external values.
It filters out entries of a specific kind in an order-preserving fashion:</p>
<ul class="simple">
<li><span class="math notranslate">\(\href{#syntax-externval}{\mathrm{funcs}}(\href{#syntax-externval}{\mathit{externval}}^\ast) = [\href{#syntax-funcaddr}{\mathit{funcaddr}} ~|~ (\href{#syntax-externval}{\mathsf{func}}~\href{#syntax-funcaddr}{\mathit{funcaddr}}) \in \href{#syntax-externval}{\mathit{externval}}^\ast]\)</span></li>
<li><span class="math notranslate">\(\href{#syntax-externval}{\mathrm{tables}}(\href{#syntax-externval}{\mathit{externval}}^\ast) = [\href{#syntax-tableaddr}{\mathit{tableaddr}} ~|~ (\href{#syntax-externval}{\mathsf{table}}~\href{#syntax-tableaddr}{\mathit{tableaddr}}) \in \href{#syntax-externval}{\mathit{externval}}^\ast]\)</span></li>
<li><span class="math notranslate">\(\href{#syntax-externval}{\mathrm{mems}}(\href{#syntax-externval}{\mathit{externval}}^\ast) = [\href{#syntax-memaddr}{\mathit{memaddr}} ~|~ (\href{#syntax-externval}{\mathsf{mem}}~\href{#syntax-memaddr}{\mathit{memaddr}}) \in \href{#syntax-externval}{\mathit{externval}}^\ast]\)</span></li>
<li><span class="math notranslate">\(\href{#syntax-externval}{\mathrm{globals}}(\href{#syntax-externval}{\mathit{externval}}^\ast) = [\href{#syntax-globaladdr}{\mathit{globaladdr}} ~|~ (\href{#syntax-externval}{\mathsf{global}}~\href{#syntax-globaladdr}{\mathit{globaladdr}}) \in \href{#syntax-externval}{\mathit{externval}}^\ast]\)</span></li>
</ul>
</div>
</div>
<div class="section" id="stack">
<span id="label"></span><span id="frame"></span><span id="syntax-label"></span><span id="syntax-frame"></span><span id="index-12"></span><span id="id3"></span><h4>Stack</h4>
<p>Besides the <a class="reference internal" href="#store"><span class="std std-ref">store</span></a>, most <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instructions</span></a> interact with an implicit <em>stack</em>.
The stack contains three kinds of entries:</p>
<ul class="simple">
<li><em>Values</em>: the <em>operands</em> of instructions.</li>
<li><em>Labels</em>: active <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">structured control instructions</span></a> that can be targeted by branches.</li>
<li><em>Activations</em>: the <em>call frames</em> of active <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a> calls.</li>
</ul>
<p>These entries can occur on the stack in any order during the execution of a program.
Stack entries are described by abstract syntax as follows.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is possible to model the WebAssembly semantics using separate stacks for operands, control constructs, and calls.
However, because the stacks are interdependent, additional book keeping about associated stack heights would be required.
For the purpose of this specification, an interleaved representation is simpler.</p>
</div>
<div class="section" id="id4">
<h5>Values</h5>
<p>Values are represented by <a class="reference internal" href="#syntax-val"><span class="std std-ref">themselves</span></a>.</p>
</div>
<div class="section" id="labels">
<h5>Labels</h5>
<p>Labels carry an argument arity <span class="math notranslate">\(n\)</span> and their associated branch <em>target</em>, which is expressed syntactically as an <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instruction</span></a> sequence:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(label)} &amp; \href{#syntax-label}{\mathit{label}} &amp;::=&amp;
  \href{#syntax-label}{\mathsf{label}}_n\{\href{#syntax-instr}{\mathit{instr}}^\ast\} \\
\end{array}\end{split}\]</div>
<p>Intuitively, <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> is the <em>continuation</em> to execute when the branch is taken, in place of the original control construct.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For example, a loop label has the form</p>
<div class="math notranslate">
\[\href{#syntax-label}{\mathsf{label}}_n\{\href{#syntax-instr-control}{\mathsf{loop}}~\dots~\href{#syntax-instr-control}{\mathsf{end}}\}\]</div>
<p>When performing a branch to this label, this executes the loop, effectively restarting it from the beginning.
Conversely, a simple block label has the form</p>
<div class="math notranslate">
\[\href{#syntax-label}{\mathsf{label}}_n\{\epsilon\}\]</div>
<p class="last">When branching, the empty continuation ends the targeted block, such that execution can proceed with consecutive instructions.</p>
</div>
</div>
<div class="section" id="frames">
<h5>Frames</h5>
<p>Activation frames carry the return arity of the respective function,
hold the values of its <a class="reference internal" href="index.html#syntax-local"><span class="std std-ref">locals</span></a> (including arguments) in the order corresponding to their static <a class="reference internal" href="index.html#syntax-localidx"><span class="std std-ref">local indices</span></a>,
and a reference to the function’s own <a class="reference internal" href="#syntax-moduleinst"><span class="std std-ref">module instance</span></a>:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(activation)} &amp; \mathit{activation} &amp;::=&amp;
  \href{#syntax-frame}{\mathsf{frame}}_n\{\href{#syntax-frame}{\mathit{frame}}\} \\
\def\mathdef1658#1{{}}\mathdef1658{(frame)} &amp; \href{#syntax-frame}{\mathit{frame}} &amp;::=&amp;
  \{ \href{#syntax-frame}{\mathsf{locals}}~\href{#syntax-val}{\mathit{val}}^\ast, \href{#syntax-frame}{\mathsf{module}}~\href{#syntax-moduleinst}{\mathit{moduleinst}} \} \\
\end{array}\end{split}\]</div>
<p>The values of the locals are mutated by respective <a class="reference internal" href="index.html#syntax-instr-variable"><span class="std std-ref">variable instructions</span></a>.</p>
</div>
<div class="section" id="id5">
<h5>Conventions</h5>
<ul class="simple">
<li>The meta variable <span class="math notranslate">\(L\)</span> ranges over labels where clear from context.</li>
<li>The meta variable <span class="math notranslate">\(F\)</span> ranges over frames where clear from context.</li>
<li>The following auxiliary definition takes a <a class="reference internal" href="index.html#syntax-blocktype"><span class="std std-ref">block type</span></a> and looks up the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> that it denotes in the current frame:</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll}
\href{#syntax-frame}{\mathrm{expand}}_F(\href{#syntax-typeidx}{\mathit{typeidx}}) &amp;=&amp; F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{types}}[\href{#syntax-typeidx}{\mathit{typeidx}}] \\
\href{#syntax-frame}{\mathrm{expand}}_F([\href{#syntax-valtype}{\mathit{valtype}}^?]) &amp;=&amp; [] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathit{valtype}}^?] \\
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="administrative-instructions">
<span id="syntax-instr-admin"></span><span id="syntax-init-data"></span><span id="syntax-init-elem"></span><span id="syntax-invoke"></span><span id="syntax-trap"></span><span id="index-13"></span><h4>Administrative Instructions</h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This section is only relevant for the <a class="reference internal" href="index.html#exec-notation"><span class="std std-ref">formal notation</span></a>.</p>
</div>
<p>In order to express the reduction of <a class="reference internal" href="index.html#trap"><span class="std std-ref">traps</span></a>, <a class="reference internal" href="index.html#syntax-call"><span class="std std-ref">calls</span></a>, and <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">control instructions</span></a>, the syntax of instructions is extended to include the following <em>administrative instructions</em>:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcl}
\def\mathdef1658#1{{}}\mathdef1658{(administrative instruction)} &amp; \href{#syntax-instr}{\mathit{instr}} &amp;::=&amp;
  \dots \\ &amp;&amp;|&amp;
  \href{#syntax-trap}{\mathsf{trap}} \\ &amp;&amp;|&amp;
  \href{#syntax-invoke}{\mathsf{invoke}}~\href{#syntax-funcaddr}{\mathit{funcaddr}} \\ &amp;&amp;|&amp;
  \href{#syntax-init-elem}{\mathsf{init\_elem}}~\href{#syntax-tableaddr}{\mathit{tableaddr}}~\href{#syntax-int}{\def\mathdef1664#1{{\mathit{u}#1}}\mathdef1664{\mathit{32}}}~\href{#syntax-funcidx}{\mathit{funcidx}}^\ast \\ &amp;&amp;|&amp;
  \href{#syntax-init-data}{\mathsf{init\_data}}~\href{#syntax-memaddr}{\mathit{memaddr}}~\href{#syntax-int}{\def\mathdef1664#1{{\mathit{u}#1}}\mathdef1664{\mathit{32}}}~\href{#syntax-byte}{\mathit{byte}}^\ast \\ &amp;&amp;|&amp;
  \href{#syntax-label}{\mathsf{label}}_n\{\href{#syntax-instr}{\mathit{instr}}^\ast\}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\ &amp;&amp;|&amp;
  \href{#syntax-frame}{\mathsf{frame}}_n\{\href{#syntax-frame}{\mathit{frame}}\}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\
\end{array}\end{split}\]</div>
<p>The <span class="math notranslate">\(\href{#syntax-trap}{\mathsf{trap}}\)</span> instruction represents the occurrence of a trap.
Traps are bubbled up through nested instruction sequences, ultimately reducing the entire program to a single <span class="math notranslate">\(\href{#syntax-trap}{\mathsf{trap}}\)</span> instruction, signalling abrupt termination.</p>
<p>The <span class="math notranslate">\(\href{#syntax-invoke}{\mathsf{invoke}}\)</span> instruction represents the imminent invocation of a <a class="reference internal" href="#syntax-funcinst"><span class="std std-ref">function instance</span></a>, identified by its <a class="reference internal" href="#syntax-funcaddr"><span class="std std-ref">address</span></a>.
It unifies the handling of different forms of calls.</p>
<p>The <span class="math notranslate">\(\href{#syntax-init-elem}{\mathsf{init\_elem}}\)</span> and <span class="math notranslate">\(\href{#syntax-init-data}{\mathsf{init\_data}}\)</span> instructions perform initialization of <a class="reference internal" href="index.html#syntax-elem"><span class="std std-ref">element</span></a> and <a class="reference internal" href="index.html#syntax-data"><span class="std std-ref">data</span></a> segments during module <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">instantiation</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The reason for splitting instantiation into individual reduction steps is to provide a semantics that is compatible with future extensions like threads.</p>
</div>
<p>The <span class="math notranslate">\(\href{#syntax-label}{\mathsf{label}}\)</span> and <span class="math notranslate">\(\href{#syntax-frame}{\mathsf{frame}}\)</span> instructions model <a class="reference internal" href="#syntax-label"><span class="std std-ref">labels</span></a> and <a class="reference internal" href="#syntax-frame"><span class="std std-ref">frames</span></a> <a class="reference internal" href="index.html#exec-notation"><span class="std std-ref">“on the stack”</span></a>.
Moreover, the administrative syntax maintains the nesting structure of the original <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">structured control instruction</span></a> or <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function body</span></a> and their <a class="reference internal" href="index.html#syntax-instr-seq"><span class="std std-ref">instruction sequences</span></a> with an <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{end}}\)</span> marker.
That way, the end of the inner instruction sequence is known when part of an outer sequence.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For example, the <a class="reference internal" href="index.html#exec-block"><span class="std std-ref">reduction rule</span></a> for <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{block}}\)</span> is:</p>
<div class="math notranslate">
\[\href{#syntax-instr-control}{\mathsf{block}}~[t^n]~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \quad\href{#formal-notation}{\hookrightarrow}\quad
\href{#syntax-label}{\mathsf{label}}_n\{\epsilon\}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}\]</div>
<p>This replaces the block with a label instruction,
which can be interpreted as “pushing” the label on the stack.
When <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{end}}\)</span> is reached, i.e., the inner instruction sequence has been reduced to the empty sequence – or rather, a sequence of <span class="math notranslate">\(n\)</span> <span class="math notranslate">\(\href{#syntax-instr-numeric}{\mathsf{const}}\)</span> instructions representing the resulting values – then the <span class="math notranslate">\(\href{#syntax-label}{\mathsf{label}}\)</span> instruction is eliminated courtesy of its own <a class="reference internal" href="index.html#exec-label"><span class="std std-ref">reduction rule</span></a>:</p>
<div class="math notranslate">
\[\href{#syntax-label}{\mathsf{label}}_n\{\href{#syntax-instr}{\mathit{instr}}^n\}~\href{#syntax-val}{\mathit{val}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \quad\href{#formal-notation}{\hookrightarrow}\quad \href{#syntax-val}{\mathit{val}}^n\]</div>
<p class="last">This can be interpreted as removing the label from the stack and only leaving the locally accumulated operand values.</p>
</div>
<div class="section" id="block-contexts">
<span id="syntax-ctxt-block"></span><span id="index-14"></span><h5>Block Contexts</h5>
<p>In order to specify the reduction of <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">branches</span></a>, the following syntax of <em>block contexts</em> is defined, indexed by the count <span class="math notranslate">\(k\)</span> of labels surrounding the hole:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(block contexts)} &amp; \href{#syntax-ctxt-block}{B}^0 &amp;::=&amp;
  \href{#syntax-val}{\mathit{val}}^\ast~[\_]~\href{#syntax-instr}{\mathit{instr}}^\ast \\
\def\mathdef1658#1{{}}\mathdef1658{(block contexts)} &amp; \href{#syntax-ctxt-block}{B}^{k+1} &amp;::=&amp;
  \href{#syntax-val}{\mathit{val}}^\ast~\href{#syntax-label}{\mathsf{label}}_n\{\href{#syntax-instr}{\mathit{instr}}^\ast\}~\href{#syntax-ctxt-block}{B}^k~\href{#syntax-instr-control}{\mathsf{end}}~\href{#syntax-instr}{\mathit{instr}}^\ast \\
\end{array}\end{split}\]</div>
<p>This definition allows to index active labels surrounding a <a class="reference internal" href="index.html#syntax-br"><span class="std std-ref">branch</span></a> or <a class="reference internal" href="index.html#syntax-return"><span class="std std-ref">return</span></a> instruction.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For example, the <a class="reference internal" href="index.html#exec-br"><span class="std std-ref">reduction</span></a> of a simple branch can be defined as follows:</p>
<div class="math notranslate">
\[\href{#syntax-label}{\mathsf{label}}_0\{\href{#syntax-instr}{\mathit{instr}}^\ast\}~\href{#syntax-ctxt-block}{B}^l[\href{#syntax-instr-control}{\mathsf{br}}~l]~\href{#syntax-instr-control}{\mathsf{end}} \quad\href{#formal-notation}{\hookrightarrow}\quad \href{#syntax-instr}{\mathit{instr}}^\ast\]</div>
<p class="last">Here, the hole <span class="math notranslate">\([\_]\)</span> of the context is instantiated with a branch instruction.
When a branch occurs,
this rule replaces the targeted label and associated instruction sequence with the label’s continuation.
The selected label is identified through the <a class="reference internal" href="index.html#syntax-labelidx"><span class="std std-ref">label index</span></a> <span class="math notranslate">\(l\)</span>, which corresponds to the number of surrounding <span class="math notranslate">\(\href{#syntax-label}{\mathsf{label}}\)</span> instructions that must be hopped over – which is exactly the count encoded in the index of a block context.</p>
</div>
</div>
<div class="section" id="configurations">
<span id="syntax-config"></span><span id="syntax-thread"></span><span id="index-15"></span><h5>Configurations</h5>
<p>A <em>configuration</em> consists of the current <a class="reference internal" href="#syntax-store"><span class="std std-ref">store</span></a> and an executing <em>thread</em>.</p>
<p>A thread is a computation over <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instructions</span></a>
that operates relative to a current <a class="reference internal" href="#syntax-frame"><span class="std std-ref">frame</span></a> referring to the home <a class="reference internal" href="#syntax-moduleinst"><span class="std std-ref">module instance</span></a> that the computation runs in.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcl}
\def\mathdef1658#1{{}}\mathdef1658{(configuration)} &amp; \href{#syntax-config}{\mathit{config}} &amp;::=&amp;
  \href{#syntax-store}{\mathit{store}}; \href{#syntax-thread}{\mathit{thread}} \\
\def\mathdef1658#1{{}}\mathdef1658{(thread)} &amp; \href{#syntax-thread}{\mathit{thread}} &amp;::=&amp;
  \href{#syntax-frame}{\mathit{frame}}; \href{#syntax-instr}{\mathit{instr}}^\ast \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The current version of WebAssembly is single-threaded,
but configurations with multiple threads may be supported in the future.</p>
</div>
</div>
<div class="section" id="evaluation-contexts">
<span id="syntax-ctxt-eval"></span><span id="index-16"></span><h5>Evaluation Contexts</h5>
<p>Finally, the following definition of <em>evaluation context</em> and associated structural rules enable reduction inside instruction sequences and administrative forms as well as the propagation of traps:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef1658#1{{}}\mathdef1658{(evaluation contexts)} &amp; E &amp;::=&amp;
  [\_] ~|~
  \href{#syntax-val}{\mathit{val}}^\ast~E~\href{#syntax-instr}{\mathit{instr}}^\ast ~|~
  \href{#syntax-label}{\mathsf{label}}_n\{\href{#syntax-instr}{\mathit{instr}}^\ast\}~E~\href{#syntax-instr-control}{\mathsf{end}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{rcl}
S; F; E[\href{#syntax-instr}{\mathit{instr}}^\ast] &amp;\href{#formal-notation}{\hookrightarrow}&amp; S'; F'; E[{\href{#syntax-instr}{\mathit{instr}}'}^\ast] \\
  &amp;&amp; (\mathrel{\mbox{if}} S; F; \href{#syntax-instr}{\mathit{instr}}^\ast \href{#formal-notation}{\hookrightarrow} S'; F'; {\href{#syntax-instr}{\mathit{instr}}'}^\ast) \\
S; F; \href{#syntax-frame}{\mathsf{frame}}_n\{F'\}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; S'; F; \href{#syntax-frame}{\mathsf{frame}}_n\{F''\}~\href{#syntax-instr}{\mathit{instr}}'^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\
  &amp;&amp; (\mathrel{\mbox{if}} S; F'; \href{#syntax-instr}{\mathit{instr}}^\ast \href{#formal-notation}{\hookrightarrow} S'; F''; {\href{#syntax-instr}{\mathit{instr}}'}^\ast) \\[1ex]
S; F; E[\href{#syntax-trap}{\mathsf{trap}}] &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; F; \href{#syntax-trap}{\mathsf{trap}}
  \qquad (\mathrel{\mbox{if}} E \neq [\_]) \\
S; F; \href{#syntax-frame}{\mathsf{frame}}_n\{F'\}~\href{#syntax-trap}{\mathsf{trap}}~\href{#syntax-instr-control}{\mathsf{end}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; F; \href{#syntax-trap}{\mathsf{trap}} \\
\end{array}\end{split}\]</div>
<p>Reduction terminates when a thread’s instruction sequence has been reduced to a <a class="reference internal" href="#syntax-result"><span class="std std-ref">result</span></a>,
that is, either a sequence of <a class="reference internal" href="#syntax-val"><span class="std std-ref">values</span></a> or to a <span class="math notranslate">\(\href{#syntax-trap}{\mathsf{trap}}\)</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The restriction on evaluation contexts rules out contexts like <span class="math notranslate">\([\_]\)</span> and <span class="math notranslate">\(\epsilon~[\_]~\epsilon\)</span> for which <span class="math notranslate">\(E[\href{#syntax-trap}{\mathsf{trap}}] = \href{#syntax-trap}{\mathsf{trap}}\)</span>.</p>
<p>For an example of reduction under evaluation contexts, consider the following instruction sequence.</p>
<div class="math notranslate">
\[(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_1)~(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_2)~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{neg}}~(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_3)~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{add}}~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{mul}}\]</div>
<p>This can be decomposed into <span class="math notranslate">\(E[(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_2)~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{neg}}]\)</span> where</p>
<div class="math notranslate">
\[E = (\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_1)~[\_]~(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~x_3)~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{add}}~\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{mul}}\]</div>
<p class="last">Moreover, this is the <em>only</em> possible choice of evaluation context where the contents of the hole matches the left-hand side of a reduction rule.</p>
</div>
</div>
</div>
</div>
<span id="document-exec/numerics"></span><div class="section" id="numerics">
<span id="exec-numeric"></span><span id="exec-op-partial"></span><span id="index-0"></span><h3>Numerics</h3>
<p>Numeric primitives are defined in a generic manner, by operators indexed over a bit width <span class="math notranslate">\(N\)</span>.</p>
<p>Some operators are <em>non-deterministic</em>, because they can return one of several possible results (such as different <a class="reference internal" href="index.html#syntax-nan"><span class="std std-ref">NaN</span></a> values).
Technically, each operator thus returns a <em>set</em> of allowed values.
For convenience, deterministic results are expressed as plain values, which are assumed to be identified with a respective singleton set.</p>
<p>Some operators are <em>partial</em>, because they are not defined on certain inputs.
Technically, an empty set of results is returned for these inputs.</p>
<p>In formal notation, each operator is defined by equational clauses that apply in decreasing order of precedence.
That is, the first clause that is applicable to the given arguments defines the result.
In some cases, similar clauses are combined into one by using the notation <span class="math notranslate">\(\pm\)</span> or <span class="math notranslate">\(\mp\)</span>.
When several of these placeholders occur in a single clause, then they must be resolved consistently: either the upper sign is chosen for all of them or the lower sign.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For example, the <span class="math notranslate">\(\href{#op-fcopysign}{\mathrm{fcopysign}}\)</span> operator is defined as follows:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fcopysign}{\mathrm{fcopysign}}_N(\pm p_1, \pm p_2) &amp;=&amp; \pm p_1 \\
\href{#op-fcopysign}{\mathrm{fcopysign}}_N(\pm p_1, \mp p_2) &amp;=&amp; \mp p_1 \\
\end{array}\end{split}\]</div>
<p>This definition is to be read as a shorthand for the following expansion of each clause into two separate ones:</p>
<div class="last math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fcopysign}{\mathrm{fcopysign}}_N(+ p_1, + p_2) &amp;=&amp; + p_1 \\
\href{#op-fcopysign}{\mathrm{fcopysign}}_N(- p_1, - p_2) &amp;=&amp; - p_1 \\
\href{#op-fcopysign}{\mathrm{fcopysign}}_N(+ p_1, - p_2) &amp;=&amp; - p_1 \\
\href{#op-fcopysign}{\mathrm{fcopysign}}_N(- p_1, + p_2) &amp;=&amp; + p_1 \\
\end{array}\end{split}\]</div>
</div>
<p id="aux-trunc">Conventions:</p>
<ul>
<li><p class="first">The meta variable <span class="math notranslate">\(d\)</span> is used to range over single bits.</p>
</li>
<li><p class="first">The meta variable <span class="math notranslate">\(p\)</span> is used to range over (signless) <a class="reference internal" href="index.html#syntax-float"><span class="std std-ref">magnitudes</span></a> of floating-point values, including <span class="math notranslate">\(\href{#syntax-float}{\mathsf{nan}}\)</span> and <span class="math notranslate">\(\infty\)</span>.</p>
</li>
<li><p class="first">The meta variable <span class="math notranslate">\(q\)</span> is used to range over (signless) <em>rational</em> <a class="reference internal" href="index.html#syntax-float"><span class="std std-ref">magnitudes</span></a>, excluding <span class="math notranslate">\(\href{#syntax-float}{\mathsf{nan}}\)</span> or <span class="math notranslate">\(\infty\)</span>.</p>
</li>
<li><p class="first">The notation <span class="math notranslate">\(f^{-1}\)</span> denotes the inverse of a bijective function <span class="math notranslate">\(f\)</span>.</p>
</li>
<li><p class="first">Truncation of rational values is written <span class="math notranslate">\(\href{#aux-trunc}{\mathrm{trunc}}(\pm q)\)</span>, with the usual mathematical definition:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#aux-trunc}{\mathrm{trunc}}(\pm q) &amp;=&amp; \pm i &amp; (\mathrel{\mbox{if}} i \in \mathbb{N} \wedge q - 1 &lt; i \leq q) \\
\end{array}\end{split}\]</div>
</li>
</ul>
<div class="section" id="representations">
<span id="aux-bits"></span><span id="index-1"></span><h4>Representations</h4>
<p>Numbers have an underlying binary representation as a sequence of bits:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#aux-bits}{\mathrm{bits}}_{\mathsf{i}N}(i) &amp;=&amp; \href{#aux-ibits}{\mathrm{ibits}}_N(i) \\
\href{#aux-bits}{\mathrm{bits}}_{\mathsf{f}N}(z) &amp;=&amp; \href{#aux-fbits}{\mathrm{fbits}}_N(z) \\
\end{array}\end{split}\]</div>
<p>Each of these functions is a bijection, hence they are invertible.</p>
<div class="section" id="integers">
<span id="aux-ibits"></span><span id="index-2"></span><h5>Integers</h5>
<p><a class="reference internal" href="index.html#syntax-int"><span class="std std-ref">Integers</span></a> are represented as base two unsigned numbers:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#aux-ibits}{\mathrm{ibits}}_N(i) &amp;=&amp; d_{N-1}~\dots~d_0 &amp; (i = 2^{N-1}\cdot d_{N-1} + \dots + 2^0\cdot d_0) \\
\end{array}\end{split}\]</div>
<p>Boolean operators like <span class="math notranslate">\(\wedge\)</span>, <span class="math notranslate">\(\vee\)</span>, or <span class="math notranslate">\(\veebar\)</span> are lifted to bit sequences of equal length by applying them pointwise.</p>
</div>
<div class="section" id="floating-point">
<span id="aux-fbits"></span><span id="aux-fsign"></span><span id="aux-fbias"></span><span id="index-3"></span><h5>Floating-Point</h5>
<p><a class="reference internal" href="index.html#syntax-float"><span class="std std-ref">Floating-point values</span></a> are represented in the respective binary format defined by <a class="reference external" href="http://ieeexplore.ieee.org/document/4610935/">IEEE 754-2008</a> (Section 3.4):</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#aux-fbits}{\mathrm{fbits}}_N(\pm (1+m\cdot 2^{-M})\cdot 2^e) &amp;=&amp; \href{#aux-fsign}{\mathrm{fsign}}({\pm})~\href{#aux-ibits}{\mathrm{ibits}}_E(e+\href{#aux-fbias}{\mathrm{fbias}}_N)~\href{#aux-ibits}{\mathrm{ibits}}_M(m) \\
\href{#aux-fbits}{\mathrm{fbits}}_N(\pm (0+m\cdot 2^{-M})\cdot 2^e) &amp;=&amp; \href{#aux-fsign}{\mathrm{fsign}}({\pm})~(0)^E~\href{#aux-ibits}{\mathrm{ibits}}_M(m) \\
\href{#aux-fbits}{\mathrm{fbits}}_N(\pm \infty) &amp;=&amp; \href{#aux-fsign}{\mathrm{fsign}}({\pm})~(1)^E~(0)^M \\
\href{#aux-fbits}{\mathrm{fbits}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-fsign}{\mathrm{fsign}}({\pm})~(1)^E~\href{#aux-ibits}{\mathrm{ibits}}_M(n) \\[1ex]
\href{#aux-fbias}{\mathrm{fbias}}_N &amp;=&amp; 2^{E-1}-1 \\
\href{#aux-fsign}{\mathrm{fsign}}({+}) &amp;=&amp; 0 \\
\href{#aux-fsign}{\mathrm{fsign}}({-}) &amp;=&amp; 1 \\
\end{array}\end{split}\]</div>
<p>where <span class="math notranslate">\(M = \href{#aux-significand}{\mathrm{signif}}(N)\)</span> and <span class="math notranslate">\(E = \href{#aux-exponent}{\mathrm{expon}}(N)\)</span>.</p>
</div>
<div class="section" id="storage">
<span id="aux-bytes"></span><span id="aux-littleendian"></span><span id="index-4"></span><h5>Storage</h5>
<p>When a number is stored into <a class="reference internal" href="index.html#syntax-mem"><span class="std std-ref">memory</span></a>, it is converted into a sequence of <a class="reference internal" href="index.html#syntax-byte"><span class="std std-ref">bytes</span></a> in <a class="reference external" href="https://en.wikipedia.org/wiki/Endianness#Little-endian">little endian</a> byte order:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#aux-bytes}{\mathrm{bytes}}_t(i) &amp;=&amp; \href{#aux-littleendian}{\mathrm{littleendian}}(\href{#aux-bits}{\mathrm{bits}}_t(i)) \\[1ex]
\href{#aux-littleendian}{\mathrm{littleendian}}(\epsilon) &amp;=&amp; \epsilon \\
\href{#aux-littleendian}{\mathrm{littleendian}}(d_1^8~d_2^{N-8}) &amp;=&amp; \href{#aux-ibits}{\mathrm{ibits}}_8^{-1}(d_1^8)~\href{#aux-littleendian}{\mathrm{littleendian}}(d_2^{N-8}) \\
\end{array}\end{split}\]</div>
<p>Again these functions are invertable bijections.</p>
</div>
</div>
<div class="section" id="integer-operations">
<span id="int-ops"></span><span id="index-5"></span><h4>Integer Operations</h4>
<div class="section" id="sign-interpretation">
<span id="aux-signed"></span><span id="index-6"></span><h5>Sign Interpretation</h5>
<p>Integer operators are defined on <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef1613#1{{\mathit{i}#1}}\mathdef1613{N}}\)</span> values.
Operators that use a signed interpretation convert the value using the following definition, which takes the two’s complement when the value lies in the upper half of the value range (i.e., its most significant bit is <span class="math notranslate">\(1\)</span>):</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#aux-signed}{\mathrm{signed}}_N(i) &amp;=&amp; i &amp; (0 \leq i &lt; 2^{N-1}) \\
\href{#aux-signed}{\mathrm{signed}}_N(i) &amp;=&amp; i - 2^N &amp; (2^{N-1} \leq i &lt; 2^N) \\
\end{array}\end{split}\]</div>
<p>This function is bijective, and hence invertible.</p>
</div>
<div class="section" id="boolean-interpretation">
<span id="aux-bool"></span><span id="index-7"></span><h5>Boolean Interpretation</h5>
<p>The integer result of predicates – i.e., <a class="reference internal" href="index.html#syntax-testop"><span class="std std-ref">tests</span></a> and <a class="reference internal" href="index.html#syntax-relop"><span class="std std-ref">relational</span></a> operators – is defined with the help of the following auxiliary function producing the value <span class="math notranslate">\(1\)</span> or <span class="math notranslate">\(0\)</span> depending on a condition.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#aux-bool}{\mathrm{bool}}(C) &amp;=&amp; 1 &amp; (\mathrel{\mbox{if}} C) \\
\href{#aux-bool}{\mathrm{bool}}(C) &amp;=&amp; 0 &amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-iadd">
<span id="id1"></span><h5><span class="math notranslate">\(\href{#op-iadd}{\mathrm{iadd}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return the result of adding <span class="math notranslate">\(i_1\)</span> and <span class="math notranslate">\(i_2\)</span> modulo <span class="math notranslate">\(2^N\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-iadd}{\mathrm{iadd}}_N(i_1, i_2) &amp;=&amp; (i_1 + i_2) \mathbin{\mathrm{mod}} 2^N
\end{array}\]</div>
</div>
<div class="section" id="op-isub">
<span id="id2"></span><h5><span class="math notranslate">\(\href{#op-isub}{\mathrm{isub}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return the result of subtracting <span class="math notranslate">\(i_2\)</span> from <span class="math notranslate">\(i_1\)</span> modulo <span class="math notranslate">\(2^N\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-isub}{\mathrm{isub}}_N(i_1, i_2) &amp;=&amp; (i_1 - i_2 + 2^N) \mathbin{\mathrm{mod}} 2^N
\end{array}\]</div>
</div>
<div class="section" id="op-imul">
<span id="id3"></span><h5><span class="math notranslate">\(\href{#op-imul}{\mathrm{imul}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return the result of multiplying <span class="math notranslate">\(i_1\)</span> and <span class="math notranslate">\(i_2\)</span> modulo <span class="math notranslate">\(2^N\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-imul}{\mathrm{imul}}_N(i_1, i_2) &amp;=&amp; (i_1 \cdot i_2) \mathbin{\mathrm{mod}} 2^N
\end{array}\]</div>
</div>
<div class="section" id="op-idiv-u">
<span id="id4"></span><h5><span class="math notranslate">\(\href{#op-idiv-u}{\mathrm{idiv\_u}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(i_2\)</span> is <span class="math notranslate">\(0\)</span>, then the result is undefined.</li>
<li>Else, return the result of dividing <span class="math notranslate">\(i_1\)</span> by <span class="math notranslate">\(i_2\)</span>, truncated toward zero.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-idiv-u}{\mathrm{idiv\_u}}_N(i_1, 0) &amp;=&amp; \{\} \\
\href{#op-idiv-u}{\mathrm{idiv\_u}}_N(i_1, i_2) &amp;=&amp; \href{#aux-trunc}{\mathrm{trunc}}(i_1 / i_2) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This operator is <a class="reference internal" href="#exec-op-partial"><span class="std std-ref">partial</span></a>.</p>
</div>
</div>
<div class="section" id="op-idiv-s">
<span id="id5"></span><h5><span class="math notranslate">\(\href{#op-idiv-s}{\mathrm{idiv\_s}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j_1\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_1\)</span>.</li>
<li>Let <span class="math notranslate">\(j_2\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_2\)</span>.</li>
<li>If <span class="math notranslate">\(j_2\)</span> is <span class="math notranslate">\(0\)</span>, then the result is undefined.</li>
<li>Else if <span class="math notranslate">\(j_1\)</span> divided by <span class="math notranslate">\(j_2\)</span> is <span class="math notranslate">\(2^{N-1}\)</span>, then the result is undefined.</li>
<li>Else, return the result of dividing <span class="math notranslate">\(j_1\)</span> by <span class="math notranslate">\(j_2\)</span>, truncated toward zero.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-idiv-s}{\mathrm{idiv\_s}}_N(i_1, 0) &amp;=&amp; \{\} \\
\href{#op-idiv-s}{\mathrm{idiv\_s}}_N(i_1, i_2) &amp;=&amp; \{\} \qquad\qquad (\mathrel{\mbox{if}} \href{#aux-signed}{\mathrm{signed}}_N(i_1) / \href{#aux-signed}{\mathrm{signed}}_N(i_2) = 2^{N-1}) \\
\href{#op-idiv-s}{\mathrm{idiv\_s}}_N(i_1, i_2) &amp;=&amp; \href{#aux-signed}{\mathrm{signed}}_N^{-1}(\href{#aux-trunc}{\mathrm{trunc}}(\href{#aux-signed}{\mathrm{signed}}_N(i_1) / \href{#aux-signed}{\mathrm{signed}}_N(i_2))) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This operator is <a class="reference internal" href="#exec-op-partial"><span class="std std-ref">partial</span></a>.
Besides division by <span class="math notranslate">\(0\)</span>, the result of <span class="math notranslate">\((-2^{N-1})/(-1) = +2^{N-1}\)</span> is not representable as an <span class="math notranslate">\(N\)</span>-bit signed integer.</p>
</div>
</div>
<div class="section" id="op-irem-u">
<span id="id6"></span><h5><span class="math notranslate">\(\href{#op-irem-u}{\mathrm{irem\_u}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(i_2\)</span> is <span class="math notranslate">\(0\)</span>, then the result is undefined.</li>
<li>Else, return the remainder of dividing <span class="math notranslate">\(i_1\)</span> by <span class="math notranslate">\(i_2\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-irem-u}{\mathrm{irem\_u}}_N(i_1, 0) &amp;=&amp; \{\} \\
\href{#op-irem-u}{\mathrm{irem\_u}}_N(i_1, i_2) &amp;=&amp; i_1 - i_2 \cdot \href{#aux-trunc}{\mathrm{trunc}}(i_1 / i_2) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This operator is <a class="reference internal" href="#exec-op-partial"><span class="std std-ref">partial</span></a>.</p>
<p class="last">As long as both operators are defined,
it holds that <span class="math notranslate">\(i_1 = i_2\cdot\href{#op-idiv-u}{\mathrm{idiv\_u}}(i_1, i_2) + \href{#op-irem-u}{\mathrm{irem\_u}}(i_1, i_2)\)</span>.</p>
</div>
</div>
<div class="section" id="op-irem-s">
<span id="id7"></span><h5><span class="math notranslate">\(\href{#op-irem-s}{\mathrm{irem\_s}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j_1\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_1\)</span>.</li>
<li>Let <span class="math notranslate">\(j_2\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_2\)</span>.</li>
<li>If <span class="math notranslate">\(i_2\)</span> is <span class="math notranslate">\(0\)</span>, then the result is undefined.</li>
<li>Else, return the remainder of dividing <span class="math notranslate">\(j_1\)</span> by <span class="math notranslate">\(j_2\)</span>, with the sign of the dividend <span class="math notranslate">\(j_1\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-irem-s}{\mathrm{irem\_s}}_N(i_1, 0) &amp;=&amp; \{\} \\
\href{#op-irem-s}{\mathrm{irem\_s}}_N(i_1, i_2) &amp;=&amp; \href{#aux-signed}{\mathrm{signed}}_N^{-1}(j_1 - j_2 \cdot \href{#aux-trunc}{\mathrm{trunc}}(j_1 / j_2)) \\
  &amp;&amp; (\mathrel{\mbox{where}} j_1 = \href{#aux-signed}{\mathrm{signed}}_N(i_1) \wedge j_2 = \href{#aux-signed}{\mathrm{signed}}_N(i_2)) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This operator is <a class="reference internal" href="#exec-op-partial"><span class="std std-ref">partial</span></a>.</p>
<p class="last">As long as both operators are defined,
it holds that <span class="math notranslate">\(i_1 = i_2\cdot\href{#op-idiv-s}{\mathrm{idiv\_s}}(i_1, i_2) + \href{#op-irem-s}{\mathrm{irem\_s}}(i_1, i_2)\)</span>.</p>
</div>
</div>
<div class="section" id="op-iand">
<span id="id8"></span><h5><span class="math notranslate">\(\href{#op-iand}{\mathrm{iand}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return the bitwise conjunction of <span class="math notranslate">\(i_1\)</span> and <span class="math notranslate">\(i_2\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-iand}{\mathrm{iand}}_N(i_1, i_2) &amp;=&amp; \href{#aux-ibits}{\mathrm{ibits}}_N^{-1}(\href{#aux-ibits}{\mathrm{ibits}}_N(i_1) \wedge \href{#aux-ibits}{\mathrm{ibits}}_N(i_2))
\end{array}\]</div>
</div>
<div class="section" id="op-ior">
<span id="id9"></span><h5><span class="math notranslate">\(\href{#op-ior}{\mathrm{ior}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return the bitwise disjunction of <span class="math notranslate">\(i_1\)</span> and <span class="math notranslate">\(i_2\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ior}{\mathrm{ior}}_N(i_1, i_2) &amp;=&amp; \href{#aux-ibits}{\mathrm{ibits}}_N^{-1}(\href{#aux-ibits}{\mathrm{ibits}}_N(i_1) \vee \href{#aux-ibits}{\mathrm{ibits}}_N(i_2))
\end{array}\]</div>
</div>
<div class="section" id="op-ixor">
<span id="id10"></span><h5><span class="math notranslate">\(\href{#op-ixor}{\mathrm{ixor}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return the bitwise exclusive disjunction of <span class="math notranslate">\(i_1\)</span> and <span class="math notranslate">\(i_2\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ixor}{\mathrm{ixor}}_N(i_1, i_2) &amp;=&amp; \href{#aux-ibits}{\mathrm{ibits}}_N^{-1}(\href{#aux-ibits}{\mathrm{ibits}}_N(i_1) \veebar \href{#aux-ibits}{\mathrm{ibits}}_N(i_2))
\end{array}\]</div>
</div>
<div class="section" id="op-ishl">
<span id="id11"></span><h5><span class="math notranslate">\(\href{#op-ishl}{\mathrm{ishl}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(k\)</span> be <span class="math notranslate">\(i_2\)</span> modulo <span class="math notranslate">\(N\)</span>.</li>
<li>Return the result of shifting <span class="math notranslate">\(i_1\)</span> left by <span class="math notranslate">\(k\)</span> bits, modulo <span class="math notranslate">\(2^N\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ishl}{\mathrm{ishl}}_N(i_1, i_2) &amp;=&amp; \href{#aux-ibits}{\mathrm{ibits}}_N^{-1}(d_2^{N-k}~0^k)
  &amp; (\mathrel{\mbox{if}} \href{#aux-ibits}{\mathrm{ibits}}_N(i_1) = d_1^k~d_2^{N-k} \wedge k = i_2 \mathbin{\mathrm{mod}} N)
\end{array}\]</div>
</div>
<div class="section" id="op-ishr-u">
<span id="id12"></span><h5><span class="math notranslate">\(\href{#op-ishr-u}{\mathrm{ishr\_u}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j_2\)</span> be <span class="math notranslate">\(i_2\)</span> modulo <span class="math notranslate">\(N\)</span>.</li>
<li>Return the result of shifting <span class="math notranslate">\(i_1\)</span> right by <span class="math notranslate">\(j_2\)</span> bits, extended with <span class="math notranslate">\(0\)</span> bits.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ishr-u}{\mathrm{ishr\_u}}_N(i_1, i_2) &amp;=&amp; \href{#aux-ibits}{\mathrm{ibits}}_N^{-1}(0^k~d_1^{N-k})
  &amp; (\mathrel{\mbox{if}} \href{#aux-ibits}{\mathrm{ibits}}_N(i_1) = d_1^{N-k}~d_2^k \wedge k = i_2 \mathbin{\mathrm{mod}} N)
\end{array}\]</div>
</div>
<div class="section" id="op-ishr-s">
<span id="id13"></span><h5><span class="math notranslate">\(\href{#op-ishr-s}{\mathrm{ishr\_s}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j_2\)</span> be <span class="math notranslate">\(i_2\)</span> modulo <span class="math notranslate">\(N\)</span>.</li>
<li>Return the result of shifting <span class="math notranslate">\(i_1\)</span> right by <span class="math notranslate">\(j_2\)</span> bits, extended with the most significant bit of the original value.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ishr-s}{\mathrm{ishr\_s}}_N(i_1, i_2) &amp;=&amp; \href{#aux-ibits}{\mathrm{ibits}}_N^{-1}(d_0^{k+1}~d_1^{N-k-1})
  &amp; (\mathrel{\mbox{if}} \href{#aux-ibits}{\mathrm{ibits}}_N(i_1) = d_0~d_1^{N-k-1}~d_2^k \wedge k = i_2 \mathbin{\mathrm{mod}} N)
\end{array}\]</div>
</div>
<div class="section" id="op-irotl">
<span id="id14"></span><h5><span class="math notranslate">\(\href{#op-irotl}{\mathrm{irotl}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j_2\)</span> be <span class="math notranslate">\(i_2\)</span> modulo <span class="math notranslate">\(N\)</span>.</li>
<li>Return the result of rotating <span class="math notranslate">\(i_1\)</span> left by <span class="math notranslate">\(j_2\)</span> bits.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-irotl}{\mathrm{irotl}}_N(i_1, i_2) &amp;=&amp; \href{#aux-ibits}{\mathrm{ibits}}_N^{-1}(d_2^{N-k}~d_1^k)
  &amp; (\mathrel{\mbox{if}} \href{#aux-ibits}{\mathrm{ibits}}_N(i_1) = d_1^k~d_2^{N-k} \wedge k = i_2 \mathbin{\mathrm{mod}} N)
\end{array}\]</div>
</div>
<div class="section" id="op-irotr">
<span id="id15"></span><h5><span class="math notranslate">\(\href{#op-irotr}{\mathrm{irotr}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j_2\)</span> be <span class="math notranslate">\(i_2\)</span> modulo <span class="math notranslate">\(N\)</span>.</li>
<li>Return the result of rotating <span class="math notranslate">\(i_1\)</span> right by <span class="math notranslate">\(j_2\)</span> bits.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-irotr}{\mathrm{irotr}}_N(i_1, i_2) &amp;=&amp; \href{#aux-ibits}{\mathrm{ibits}}_N^{-1}(d_2^k~d_1^{N-k})
  &amp; (\mathrel{\mbox{if}} \href{#aux-ibits}{\mathrm{ibits}}_N(i_1) = d_1^{N-k}~d_2^k \wedge k = i_2 \mathbin{\mathrm{mod}} N)
\end{array}\]</div>
</div>
<div class="section" id="op-iclz">
<span id="id16"></span><h5><span class="math notranslate">\(\href{#op-iclz}{\mathrm{iclz}}_N(i)\)</span></h5>
<ul class="simple">
<li>Return the count of leading zero bits in <span class="math notranslate">\(i\)</span>; all bits are considered leading zeros if <span class="math notranslate">\(i\)</span> is <span class="math notranslate">\(0\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-iclz}{\mathrm{iclz}}_N(i) &amp;=&amp; k &amp; (\mathrel{\mbox{if}} \href{#aux-ibits}{\mathrm{ibits}}_N(i) = 0^k~(1~d^\ast)^?)
\end{array}\]</div>
</div>
<div class="section" id="op-ictz">
<span id="id17"></span><h5><span class="math notranslate">\(\href{#op-ictz}{\mathrm{ictz}}_N(i)\)</span></h5>
<ul class="simple">
<li>Return the count of trailing zero bits in <span class="math notranslate">\(i\)</span>; all bits are considered trailing zeros if <span class="math notranslate">\(i\)</span> is <span class="math notranslate">\(0\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ictz}{\mathrm{ictz}}_N(i) &amp;=&amp; k &amp; (\mathrel{\mbox{if}} \href{#aux-ibits}{\mathrm{ibits}}_N(i) = (d^\ast~1)^?~0^k)
\end{array}\]</div>
</div>
<div class="section" id="op-ipopcnt">
<span id="id18"></span><h5><span class="math notranslate">\(\href{#op-ipopcnt}{\mathrm{ipopcnt}}_N(i)\)</span></h5>
<ul class="simple">
<li>Return the count of non-zero bits in <span class="math notranslate">\(i\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ipopcnt}{\mathrm{ipopcnt}}_N(i) &amp;=&amp; k &amp; (\mathrel{\mbox{if}} \href{#aux-ibits}{\mathrm{ibits}}_N(i) = (0^\ast~1)^k~0^\ast)
\end{array}\]</div>
</div>
<div class="section" id="op-ieqz">
<span id="id19"></span><h5><span class="math notranslate">\(\href{#op-ieqz}{\mathrm{ieqz}}_N(i)\)</span></h5>
<ul class="simple">
<li>Return <span class="math notranslate">\(1\)</span> if <span class="math notranslate">\(i\)</span> is zero, <span class="math notranslate">\(0\)</span> otherwise.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ieqz}{\mathrm{ieqz}}_N(i) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(i = 0)
\end{array}\]</div>
</div>
<div class="section" id="op-ieq">
<span id="id20"></span><h5><span class="math notranslate">\(\href{#op-ieq}{\mathrm{ieq}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return <span class="math notranslate">\(1\)</span> if <span class="math notranslate">\(i_1\)</span> equals <span class="math notranslate">\(i_2\)</span>, <span class="math notranslate">\(0\)</span> otherwise.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ieq}{\mathrm{ieq}}_N(i_1, i_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(i_1 = i_2)
\end{array}\]</div>
</div>
<div class="section" id="op-ine">
<span id="id21"></span><h5><span class="math notranslate">\(\href{#op-ine}{\mathrm{ine}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return <span class="math notranslate">\(1\)</span> if <span class="math notranslate">\(i_1\)</span> does not equal <span class="math notranslate">\(i_2\)</span>, <span class="math notranslate">\(0\)</span> otherwise.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ine}{\mathrm{ine}}_N(i_1, i_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(i_1 \neq i_2)
\end{array}\]</div>
</div>
<div class="section" id="op-ilt-u">
<span id="id22"></span><h5><span class="math notranslate">\(\href{#op-ilt-u}{\mathrm{ilt\_u}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return <span class="math notranslate">\(1\)</span> if <span class="math notranslate">\(i_1\)</span> is less than <span class="math notranslate">\(i_2\)</span>, <span class="math notranslate">\(0\)</span> otherwise.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ilt-u}{\mathrm{ilt\_u}}_N(i_1, i_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(i_1 &lt; i_2)
\end{array}\]</div>
</div>
<div class="section" id="op-ilt-s">
<span id="id23"></span><h5><span class="math notranslate">\(\href{#op-ilt-s}{\mathrm{ilt\_s}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j_1\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_1\)</span>.</li>
<li>Let <span class="math notranslate">\(j_2\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_2\)</span>.</li>
<li>Return <span class="math notranslate">\(1\)</span> if <span class="math notranslate">\(j_1\)</span> is less than <span class="math notranslate">\(j_2\)</span>, <span class="math notranslate">\(0\)</span> otherwise.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ilt-s}{\mathrm{ilt\_s}}_N(i_1, i_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(\href{#aux-signed}{\mathrm{signed}}_N(i_1) &lt; \href{#aux-signed}{\mathrm{signed}}_N(i_2))
\end{array}\]</div>
</div>
<div class="section" id="op-igt-u">
<span id="id24"></span><h5><span class="math notranslate">\(\href{#op-igt-u}{\mathrm{igt\_u}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return <span class="math notranslate">\(1\)</span> if <span class="math notranslate">\(i_1\)</span> is greater than <span class="math notranslate">\(i_2\)</span>, <span class="math notranslate">\(0\)</span> otherwise.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-igt-u}{\mathrm{igt\_u}}_N(i_1, i_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(i_1 &gt; i_2)
\end{array}\]</div>
</div>
<div class="section" id="op-igt-s">
<span id="id25"></span><h5><span class="math notranslate">\(\href{#op-igt-s}{\mathrm{igt\_s}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j_1\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_1\)</span>.</li>
<li>Let <span class="math notranslate">\(j_2\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_2\)</span>.</li>
<li>Return <span class="math notranslate">\(1\)</span> if <span class="math notranslate">\(j_1\)</span> is greater than <span class="math notranslate">\(j_2\)</span>, <span class="math notranslate">\(0\)</span> otherwise.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-igt-s}{\mathrm{igt\_s}}_N(i_1, i_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(\href{#aux-signed}{\mathrm{signed}}_N(i_1) &gt; \href{#aux-signed}{\mathrm{signed}}_N(i_2))
\end{array}\]</div>
</div>
<div class="section" id="op-ile-u">
<span id="id26"></span><h5><span class="math notranslate">\(\href{#op-ile-u}{\mathrm{ile\_u}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return <span class="math notranslate">\(1\)</span> if <span class="math notranslate">\(i_1\)</span> is less than or equal to <span class="math notranslate">\(i_2\)</span>, <span class="math notranslate">\(0\)</span> otherwise.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ile-u}{\mathrm{ile\_u}}_N(i_1, i_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(i_1 \leq i_2)
\end{array}\]</div>
</div>
<div class="section" id="op-ile-s">
<span id="id27"></span><h5><span class="math notranslate">\(\href{#op-ile-s}{\mathrm{ile\_s}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j_1\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_1\)</span>.</li>
<li>Let <span class="math notranslate">\(j_2\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_2\)</span>.</li>
<li>Return <span class="math notranslate">\(1\)</span> if <span class="math notranslate">\(j_1\)</span> is less than or equal to <span class="math notranslate">\(j_2\)</span>, <span class="math notranslate">\(0\)</span> otherwise.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ile-s}{\mathrm{ile\_s}}_N(i_1, i_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(\href{#aux-signed}{\mathrm{signed}}_N(i_1) \leq \href{#aux-signed}{\mathrm{signed}}_N(i_2))
\end{array}\]</div>
</div>
<div class="section" id="op-ige-u">
<span id="id28"></span><h5><span class="math notranslate">\(\href{#op-ige-u}{\mathrm{ige\_u}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Return <span class="math notranslate">\(1\)</span> if <span class="math notranslate">\(i_1\)</span> is greater than or equal to <span class="math notranslate">\(i_2\)</span>, <span class="math notranslate">\(0\)</span> otherwise.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ige-u}{\mathrm{ige\_u}}_N(i_1, i_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(i_1 \geq i_2)
\end{array}\]</div>
</div>
<div class="section" id="op-ige-s">
<span id="id29"></span><h5><span class="math notranslate">\(\href{#op-ige-s}{\mathrm{ige\_s}}_N(i_1, i_2)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j_1\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_1\)</span>.</li>
<li>Let <span class="math notranslate">\(j_2\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i_2\)</span>.</li>
<li>Return <span class="math notranslate">\(1\)</span> if <span class="math notranslate">\(j_1\)</span> is greater than or equal to <span class="math notranslate">\(j_2\)</span>, <span class="math notranslate">\(0\)</span> otherwise.</li>
</ul>
<div class="math notranslate">
\[\begin{array}{&#64;{}lcll}
\href{#op-ige-s}{\mathrm{ige\_s}}_N(i_1, i_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(\href{#aux-signed}{\mathrm{signed}}_N(i_1) \geq \href{#aux-signed}{\mathrm{signed}}_N(i_2))
\end{array}\]</div>
</div>
</div>
<div class="section" id="floating-point-operations">
<span id="float-ops"></span><span id="index-8"></span><h4>Floating-Point Operations</h4>
<p>Floating-point arithmetic follows the <a class="reference external" href="http://ieeexplore.ieee.org/document/4610935/">IEEE 754-2008</a> standard,
with the following qualifications:</p>
<ul class="simple">
<li>All operators use round-to-nearest ties-to-even, except where otherwise specified.
Non-default directed rounding attributes are not supported.</li>
<li>Following the recommendation that operators propagate <a class="reference internal" href="index.html#syntax-nan"><span class="std std-ref">NaN</span></a> payloads from their operands is permitted but not required.</li>
<li>All operators use “non-stop” mode, and floating-point exceptions are not otherwise observable.
In particular, neither alternate floating-point exception handling attributes nor operators on status flags are supported.
There is no observable difference between quiet and signalling NaNs.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some of these limitations may be lifted in future versions of WebAssembly.</p>
</div>
<div class="section" id="rounding">
<span id="aux-ieee"></span><span id="index-9"></span><h5>Rounding</h5>
<p>Rounding always is round-to-nearest ties-to-even, in correspondance with <a class="reference external" href="http://ieeexplore.ieee.org/document/4610935/">IEEE 754-2008</a> (Section 4.3.1).</p>
<p>An <em>exact</em> floating-point number is a rational number that is exactly representable as a <a class="reference internal" href="index.html#syntax-float"><span class="std std-ref">floating-point number</span></a> of given bit width <span class="math notranslate">\(N\)</span>.</p>
<p>A <em>limit</em> number for a given floating-point bit width <span class="math notranslate">\(N\)</span> is a positive or negative number whose magnitude is the smallest power of <span class="math notranslate">\(2\)</span> that is not exactly representable as a floating-point number of width <span class="math notranslate">\(N\)</span> (that magnitude is <span class="math notranslate">\(2^{128}\)</span> for <span class="math notranslate">\(N = 32\)</span> and <span class="math notranslate">\(2^{1024}\)</span> for <span class="math notranslate">\(N = 64\)</span>).</p>
<p>A <em>candidate</em> number is either an exact floating-point number or a positive or negative limit number for the given bit width <span class="math notranslate">\(N\)</span>.</p>
<p>A <em>candidate pair</em> is a pair <span class="math notranslate">\(z_1,z_2\)</span> of candidate numbers, such that no candidate number exists that lies between the two.</p>
<p>A real number <span class="math notranslate">\(r\)</span> is converted to a floating-point value of bit width <span class="math notranslate">\(N\)</span> as follows:</p>
<ul class="simple">
<li>If <span class="math notranslate">\(r\)</span> is <span class="math notranslate">\(0\)</span>, then return <span class="math notranslate">\(+0\)</span>.</li>
<li>Else if <span class="math notranslate">\(r\)</span> is an exact floating-point number, then return <span class="math notranslate">\(r\)</span>.</li>
<li>Else if <span class="math notranslate">\(r\)</span> greater than or equal to the positive limit, then return <span class="math notranslate">\(+\infty\)</span>.</li>
<li>Else if <span class="math notranslate">\(r\)</span> is less than or equal to the negative limit, then return <span class="math notranslate">\(-\infty\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are a candidate pair such that <span class="math notranslate">\(z_1 &lt; r &lt; z_2\)</span>, then:<ul>
<li>If <span class="math notranslate">\(|r - z_1| &lt; |r - z_2|\)</span>, then let <span class="math notranslate">\(z\)</span> be <span class="math notranslate">\(z_1\)</span>.</li>
<li>Else if <span class="math notranslate">\(|r - z_1| &gt; |r - z_2|\)</span>, then let <span class="math notranslate">\(z\)</span> be <span class="math notranslate">\(z_2\)</span>.</li>
<li>Else if <span class="math notranslate">\(|r - z_1| = |r - z_2|\)</span> and the <a class="reference internal" href="index.html#syntax-float"><span class="std std-ref">significand</span></a> of <span class="math notranslate">\(z_1\)</span> is even, then let <span class="math notranslate">\(z\)</span> be <span class="math notranslate">\(z_1\)</span>.</li>
<li>Else, let <span class="math notranslate">\(z\)</span> be <span class="math notranslate">\(z_2\)</span>.</li>
</ul>
</li>
<li>If <span class="math notranslate">\(z\)</span> is <span class="math notranslate">\(0\)</span>, then:<ul>
<li>If <span class="math notranslate">\(r &lt; 0\)</span>, then return <span class="math notranslate">\(-0\)</span>.</li>
<li>Else, return <span class="math notranslate">\(+0\)</span>.</li>
</ul>
</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a limit number, then:<ul>
<li>If <span class="math notranslate">\(r &lt; 0\)</span>, then return <span class="math notranslate">\(-\infty\)</span>.</li>
<li>Else, return <span class="math notranslate">\(+\infty\)</span>.</li>
</ul>
</li>
<li>Else, return <span class="math notranslate">\(z\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#aux-ieee}{\mathrm{float}}_N(0) &amp;=&amp; +0 \\
\href{#aux-ieee}{\mathrm{float}}_N(r) &amp;=&amp; r &amp; (\mathrel{\mbox{if}} r \in \mathrm{exact}_N) \\
\href{#aux-ieee}{\mathrm{float}}_N(r) &amp;=&amp; +\infty &amp; (\mathrel{\mbox{if}} r \geq +\mathrm{limit}_N) \\
\href{#aux-ieee}{\mathrm{float}}_N(r) &amp;=&amp; -\infty &amp; (\mathrel{\mbox{if}} r \leq -\mathrm{limit}_N) \\
\href{#aux-ieee}{\mathrm{float}}_N(r) &amp;=&amp; \mathrm{closest}_N(r, z_1, z_2) &amp; (\mathrel{\mbox{if}} z_1 &lt; r &lt; z_2 \wedge (z_1,z_2) \in \mathrm{candidatepair}_N) \\[1ex]
\mathrm{closest}_N(r, z_1, z_2) &amp;=&amp; \mathrm{rectify}_N(r, z_1) &amp; (\mathrel{\mbox{if}} |r-z_1|&lt;|r-z_2|) \\
\mathrm{closest}_N(r, z_1, z_2) &amp;=&amp; \mathrm{rectify}_N(r, z_2) &amp; (\mathrel{\mbox{if}} |r-z_1|&gt;|r-z_2|) \\
\mathrm{closest}_N(r, z_1, z_2) &amp;=&amp; \mathrm{rectify}_N(r, z_1) &amp; (\mathrel{\mbox{if}} |r-z_1|=|r-z_2| \wedge \mathrm{even}_N(z_1)) \\
\mathrm{closest}_N(r, z_1, z_2) &amp;=&amp; \mathrm{rectify}_N(r, z_2) &amp; (\mathrel{\mbox{if}} |r-z_1|=|r-z_2| \wedge \mathrm{even}_N(z_2)) \\[1ex]
\mathrm{rectify}_N(r, \pm \mathrm{limit}_N) &amp;=&amp; \pm \infty \\
\mathrm{rectify}_N(r, 0) &amp;=&amp; +0 \qquad (r \geq 0) \\
\mathrm{rectify}_N(r, 0) &amp;=&amp; -0 \qquad (r &lt; 0) \\
\mathrm{rectify}_N(r, z) &amp;=&amp; z \\
\end{array}\end{split}\]</div>
<p>where:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\mathrm{exact}_N &amp;=&amp; \href{#syntax-float}{\def\mathdef1618#1{{\mathit{f}#1}}\mathdef1618{N}} \cap \mathbb{Q} \\
\mathrm{limit}_N &amp;=&amp; 2^{2^{\href{#aux-exponent}{\mathrm{expon}}(N)-1}} \\
\mathrm{candidate}_N &amp;=&amp; \mathrm{exact}_N \cup \{+\mathrm{limit}_N, -\mathrm{limit}_N\} \\
\mathrm{candidatepair}_N &amp;=&amp; \{ (z_1, z_2) \in \mathrm{candidate}_N^2 ~|~ z_1 &lt; z_2 \wedge \forall z \in \mathrm{candidate}_N, z \leq z_1 \vee z \geq z_2\} \\[1ex]
\mathrm{even}_N((d + m\cdot 2^{-M}) \cdot 2^e) &amp;\Leftrightarrow&amp; m \mathbin{\mathrm{mod}} 2 = 0 \\
\mathrm{even}_N(\pm \mathrm{limit}_N) &amp;\Leftrightarrow&amp; \mathrm{true} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="nan-propagation">
<span id="aux-nans"></span><span id="index-10"></span><h5>NaN Propagation</h5>
<p>When the result of a floating-point operator other than <span class="math notranslate">\(\href{#op-fneg}{\mathrm{fneg}}\)</span>, <span class="math notranslate">\(\href{#op-fabs}{\mathrm{fabs}}\)</span>, or <span class="math notranslate">\(\href{#op-fcopysign}{\mathrm{fcopysign}}\)</span> is a <a class="reference internal" href="index.html#syntax-nan"><span class="std std-ref">NaN</span></a>,
then its sign is non-deterministic and the <a class="reference internal" href="index.html#syntax-payload"><span class="std std-ref">payload</span></a> is computed as follows:</p>
<ul class="simple">
<li>If the payload of all NaN inputs to the operator is <a class="reference internal" href="index.html#canonical-nan"><span class="std std-ref">canonical</span></a> (including the case that there are no NaN inputs), then the payload of the output is canonical as well.</li>
<li>Otherwise the payload is picked non-determinsitically among all <a class="reference internal" href="index.html#arithmetic-nan"><span class="std std-ref">arithmetic NaNs</span></a>; that is, its most significant bit is <span class="math notranslate">\(1\)</span> and all others are unspecified.</li>
</ul>
<p>This non-deterministic result is expressed by the following auxiliary function producing a set of allowed outputs from a set of inputs:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#aux-nans}{\mathrm{nans}}_N\{z^\ast\} &amp;=&amp; \{ + \href{#syntax-float}{\mathsf{nan}}(n), - \href{#syntax-float}{\mathsf{nan}}(n) ~|~ n = \href{#aux-canon}{\mathrm{canon}}_N \}
  &amp; (\mathrel{\mbox{if}} \forall \href{#syntax-float}{\mathsf{nan}}(n) \in z^\ast,~ n = \href{#aux-canon}{\mathrm{canon}}_N) \\
\href{#aux-nans}{\mathrm{nans}}_N\{z^\ast\} &amp;=&amp; \{ + \href{#syntax-float}{\mathsf{nan}}(n), - \href{#syntax-float}{\mathsf{nan}}(n) ~|~ n \geq \href{#aux-canon}{\mathrm{canon}}_N \}
  &amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fadd">
<span id="id30"></span><h5><span class="math notranslate">\(\href{#op-fadd}{\mathrm{fadd}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z_1, z_2\}\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are infinities of opposite signs, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z_1, z_2\}\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are infinities of equal sign, then return that infinity.</li>
<li>Else if one of <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is an infinity, then return that infinity.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes of opposite sign, then return positive zero.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes of equal sign, then return that zero.</li>
<li>Else if one of <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a zero, then return the other operand.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are values with the same magnitude but opposite signs, then return positive zero.</li>
<li>Else return the result of adding <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span>, <a class="reference internal" href="#aux-ieee"><span class="std std-ref">rounded</span></a> to the nearest representable value.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fadd}{\mathrm{fadd}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2\} \\
\href{#op-fadd}{\mathrm{fadd}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_1\} \\
\href{#op-fadd}{\mathrm{fadd}}_N(\pm \infty, \mp \infty) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fadd}{\mathrm{fadd}}_N(\pm \infty, \pm \infty) &amp;=&amp; \pm \infty \\
\href{#op-fadd}{\mathrm{fadd}}_N(z_1, \pm \infty) &amp;=&amp; \pm \infty \\
\href{#op-fadd}{\mathrm{fadd}}_N(\pm \infty, z_2) &amp;=&amp; \pm \infty \\
\href{#op-fadd}{\mathrm{fadd}}_N(\pm 0, \mp 0) &amp;=&amp; +0 \\
\href{#op-fadd}{\mathrm{fadd}}_N(\pm 0, \pm 0) &amp;=&amp; \pm 0 \\
\href{#op-fadd}{\mathrm{fadd}}_N(z_1, \pm 0) &amp;=&amp; z_1 \\
\href{#op-fadd}{\mathrm{fadd}}_N(\pm 0, z_2) &amp;=&amp; z_2 \\
\href{#op-fadd}{\mathrm{fadd}}_N(\pm q, \mp q) &amp;=&amp; +0 \\
\href{#op-fadd}{\mathrm{fadd}}_N(z_1, z_2) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(z_1 + z_2) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fsub">
<span id="id31"></span><h5><span class="math notranslate">\(\href{#op-fsub}{\mathrm{fsub}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z_1, z_2\}\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are infinities of equal signs, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z_1, z_2\}\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are infinities of opposite sign, then return <span class="math notranslate">\(z_1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is an infinity, then return that infinity.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is an infinity, then return that infinity negated.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes of equal sign, then return positive zero.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes of opposite sign, then return <span class="math notranslate">\(z_1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is a zero, then return <span class="math notranslate">\(z_1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is a zero, then return <span class="math notranslate">\(z_2\)</span> negated.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are the same value, then return positive zero.</li>
<li>Else return the result of subtracting <span class="math notranslate">\(z_2\)</span> from <span class="math notranslate">\(z_1\)</span>, <a class="reference internal" href="#aux-ieee"><span class="std std-ref">rounded</span></a> to the nearest representable value.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fsub}{\mathrm{fsub}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2\} \\
\href{#op-fsub}{\mathrm{fsub}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_1\} \\
\href{#op-fsub}{\mathrm{fsub}}_N(\pm \infty, \pm \infty) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fsub}{\mathrm{fsub}}_N(\pm \infty, \mp \infty) &amp;=&amp; \pm \infty \\
\href{#op-fsub}{\mathrm{fsub}}_N(z_1, \pm \infty) &amp;=&amp; \mp \infty \\
\href{#op-fsub}{\mathrm{fsub}}_N(\pm \infty, z_2) &amp;=&amp; \pm \infty \\
\href{#op-fsub}{\mathrm{fsub}}_N(\pm 0, \pm 0) &amp;=&amp; +0 \\
\href{#op-fsub}{\mathrm{fsub}}_N(\pm 0, \mp 0) &amp;=&amp; \pm 0 \\
\href{#op-fsub}{\mathrm{fsub}}_N(z_1, \pm 0) &amp;=&amp; z_1 \\
\href{#op-fsub}{\mathrm{fsub}}_N(\pm 0, \pm q_2) &amp;=&amp; \mp q_2 \\
\href{#op-fsub}{\mathrm{fsub}}_N(\pm q, \pm q) &amp;=&amp; +0 \\
\href{#op-fsub}{\mathrm{fsub}}_N(z_1, z_2) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(z_1 - z_2) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Up to the non-determinism regarding NaNs, it always holds that <span class="math notranslate">\(\href{#op-fsub}{\mathrm{fsub}}_N(z_1, z_2) = \href{#op-fadd}{\mathrm{fadd}}_N(z_1, \href{#op-fneg}{\mathrm{fneg}}_N(z_2))\)</span>.</p>
</div>
</div>
<div class="section" id="op-fmul">
<span id="id32"></span><h5><span class="math notranslate">\(\href{#op-fmul}{\mathrm{fmul}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z_1, z_2\}\)</span>.</li>
<li>Else if one of <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> is a zero and the other an infinity, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z_1, z_2\}\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are infinities of equal sign, then return positive infinity.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are infinities of opposite sign, then return negative infinity.</li>
<li>Else if one of <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is an infinity and the other a value with equal sign, then return positive infinity.</li>
<li>Else if one of <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is an infinity and the other a value with opposite sign, then return negative infinity.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes of equal sign, then return positive zero.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes of opposite sign, then return negative zero.</li>
<li>Else return the result of multiplying <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span>, <a class="reference internal" href="#aux-ieee"><span class="std std-ref">rounded</span></a> to the nearest representable value.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fmul}{\mathrm{fmul}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2\} \\
\href{#op-fmul}{\mathrm{fmul}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_1\} \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm \infty, \pm 0) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm \infty, \mp 0) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm 0, \pm \infty) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm 0, \mp \infty) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm \infty, \pm \infty) &amp;=&amp; +\infty \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm \infty, \mp \infty) &amp;=&amp; -\infty \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm q_1, \pm \infty) &amp;=&amp; +\infty \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm q_1, \mp \infty) &amp;=&amp; -\infty \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm \infty, \pm q_2) &amp;=&amp; +\infty \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm \infty, \mp q_2) &amp;=&amp; -\infty \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm 0, \pm 0) &amp;=&amp; + 0 \\
\href{#op-fmul}{\mathrm{fmul}}_N(\pm 0, \mp 0) &amp;=&amp; - 0 \\
\href{#op-fmul}{\mathrm{fmul}}_N(z_1, z_2) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(z_1 \cdot z_2) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fdiv">
<span id="id33"></span><h5><span class="math notranslate">\(\href{#op-fdiv}{\mathrm{fdiv}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z_1, z_2\}\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are infinities, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z_1, z_2\}\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z_1, z_2\}\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is an infinity and <span class="math notranslate">\(z_2\)</span> a value with equal sign, then return positive infinity.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is an infinity and <span class="math notranslate">\(z_2\)</span> a value with opposite sign, then return negative infinity.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is an infinity and <span class="math notranslate">\(z_1\)</span> a value with equal sign, then return positive zero.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is an infinity and <span class="math notranslate">\(z_1\)</span> a value with opposite sign, then return negative zero.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is a zero and <span class="math notranslate">\(z_2\)</span> a value with equal sign, then return positive zero.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is a zero and <span class="math notranslate">\(z_2\)</span> a value with opposite sign, then return negative zero.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is a zero and <span class="math notranslate">\(z_1\)</span> a value with equal sign, then return positive infinity.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is a zero and <span class="math notranslate">\(z_1\)</span> a value with opposite sign, then return negative infinity.</li>
<li>Else return the result of dividing <span class="math notranslate">\(z_1\)</span> by <span class="math notranslate">\(z_2\)</span>, <a class="reference internal" href="#aux-ieee"><span class="std std-ref">rounded</span></a> to the nearest representable value.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2\} \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_1\} \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm \infty, \pm \infty) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm \infty, \mp \infty) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm 0, \pm 0) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm 0, \mp 0) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm \infty, \pm q_2) &amp;=&amp; +\infty \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm \infty, \mp q_2) &amp;=&amp; -\infty \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm q_1, \pm \infty) &amp;=&amp; +0 \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm q_1, \mp \infty) &amp;=&amp; -0 \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm 0, \pm q_2) &amp;=&amp; +0 \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm 0, \mp q_2) &amp;=&amp; -0 \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm q_1, \pm 0) &amp;=&amp; +\infty \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(\pm q_1, \mp 0) &amp;=&amp; -\infty \\
\href{#op-fdiv}{\mathrm{fdiv}}_N(z_1, z_2) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(z_1 / z_2) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fmin">
<span id="id34"></span><h5><span class="math notranslate">\(\href{#op-fmin}{\mathrm{fmin}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z_1, z_2\}\)</span>.</li>
<li>Else if one of <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a negative infinity, then return negative infinity.</li>
<li>Else if one of <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a positive infinity, then return the other value.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes of opposite signs, then return negative zero.</li>
<li>Else return the smaller value of <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fmin}{\mathrm{fmin}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2\} \\
\href{#op-fmin}{\mathrm{fmin}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_1\} \\
\href{#op-fmin}{\mathrm{fmin}}_N(+ \infty, z_2) &amp;=&amp; z_2 \\
\href{#op-fmin}{\mathrm{fmin}}_N(- \infty, z_2) &amp;=&amp; - \infty \\
\href{#op-fmin}{\mathrm{fmin}}_N(z_1, + \infty) &amp;=&amp; z_1 \\
\href{#op-fmin}{\mathrm{fmin}}_N(z_1, - \infty) &amp;=&amp; - \infty \\
\href{#op-fmin}{\mathrm{fmin}}_N(\pm 0, \mp 0) &amp;=&amp; -0 \\
\href{#op-fmin}{\mathrm{fmin}}_N(z_1, z_2) &amp;=&amp; z_1 &amp; (\mathrel{\mbox{if}} z_1 \leq z_2) \\
\href{#op-fmin}{\mathrm{fmin}}_N(z_1, z_2) &amp;=&amp; z_2 &amp; (\mathrel{\mbox{if}} z_2 \leq z_1) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fmax">
<span id="id35"></span><h5><span class="math notranslate">\(\href{#op-fmax}{\mathrm{fmax}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z_1, z_2\}\)</span>.</li>
<li>Else if one of <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a positive infinity, then return positive infinity.</li>
<li>Else if one of <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a negative infinity, then return the other value.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes of opposite signs, then return positive zero.</li>
<li>Else return the larger value of <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fmax}{\mathrm{fmax}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2\} \\
\href{#op-fmax}{\mathrm{fmax}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n), z_1\} \\
\href{#op-fmax}{\mathrm{fmax}}_N(+ \infty, z_2) &amp;=&amp; + \infty \\
\href{#op-fmax}{\mathrm{fmax}}_N(- \infty, z_2) &amp;=&amp; z_2 \\
\href{#op-fmax}{\mathrm{fmax}}_N(z_1, + \infty) &amp;=&amp; + \infty \\
\href{#op-fmax}{\mathrm{fmax}}_N(z_1, - \infty) &amp;=&amp; z_1 \\
\href{#op-fmax}{\mathrm{fmax}}_N(\pm 0, \mp 0) &amp;=&amp; +0 \\
\href{#op-fmax}{\mathrm{fmax}}_N(z_1, z_2) &amp;=&amp; z_1 &amp; (\mathrel{\mbox{if}} z_1 \geq z_2) \\
\href{#op-fmax}{\mathrm{fmax}}_N(z_1, z_2) &amp;=&amp; z_2 &amp; (\mathrel{\mbox{if}} z_2 \geq z_1) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fcopysign">
<span id="id36"></span><h5><span class="math notranslate">\(\href{#op-fcopysign}{\mathrm{fcopysign}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> have the same sign, then return <span class="math notranslate">\(z_1\)</span>.</li>
<li>Else return <span class="math notranslate">\(z_1\)</span> with negated sign.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fcopysign}{\mathrm{fcopysign}}_N(\pm p_1, \pm p_2) &amp;=&amp; \pm p_1 \\
\href{#op-fcopysign}{\mathrm{fcopysign}}_N(\pm p_1, \mp p_2) &amp;=&amp; \mp p_1 \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fabs">
<span id="id37"></span><h5><span class="math notranslate">\(\href{#op-fabs}{\mathrm{fabs}}_N(z)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z\)</span> is a NaN, then return <span class="math notranslate">\(z\)</span> with positive sign.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is an infinity, then return positive infinity.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a zero, then return positive zero.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a positive value, then <span class="math notranslate">\(z\)</span>.</li>
<li>Else return <span class="math notranslate">\(z\)</span> negated.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fabs}{\mathrm{fabs}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; +\href{#syntax-float}{\mathsf{nan}}(n) \\
\href{#op-fabs}{\mathrm{fabs}}_N(\pm \infty) &amp;=&amp; +\infty \\
\href{#op-fabs}{\mathrm{fabs}}_N(\pm 0) &amp;=&amp; +0 \\
\href{#op-fabs}{\mathrm{fabs}}_N(\pm q) &amp;=&amp; +q \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fneg">
<span id="id38"></span><h5><span class="math notranslate">\(\href{#op-fneg}{\mathrm{fneg}}_N(z)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z\)</span> is a NaN, then return <span class="math notranslate">\(z\)</span> with negated sign.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is an infinity, then return that infinity negated.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a zero, then return that zero negated.</li>
<li>Else return <span class="math notranslate">\(z\)</span> negated.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fneg}{\mathrm{fneg}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \mp \href{#syntax-float}{\mathsf{nan}}(n) \\
\href{#op-fneg}{\mathrm{fneg}}_N(\pm \infty) &amp;=&amp; \mp \infty \\
\href{#op-fneg}{\mathrm{fneg}}_N(\pm 0) &amp;=&amp; \mp 0 \\
\href{#op-fneg}{\mathrm{fneg}}_N(\pm q) &amp;=&amp; \mp q \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fsqrt">
<span id="id39"></span><h5><span class="math notranslate">\(\href{#op-fsqrt}{\mathrm{fsqrt}}_N(z)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z\}\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> has a negative sign, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z\}\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is positive infinity, then return positive infinity.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a zero, then return that zero.</li>
<li>Else return the square root of <span class="math notranslate">\(z\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fsqrt}{\mathrm{fsqrt}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n)\} \\
\href{#op-fsqrt}{\mathrm{fsqrt}}_N(- \infty) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fsqrt}{\mathrm{fsqrt}}_N(+ \infty) &amp;=&amp; + \infty \\
\href{#op-fsqrt}{\mathrm{fsqrt}}_N(\pm 0) &amp;=&amp; \pm 0 \\
\href{#op-fsqrt}{\mathrm{fsqrt}}_N(- q) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} \\
\href{#op-fsqrt}{\mathrm{fsqrt}}_N(+ q) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N\left(\sqrt{q}\right) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fceil">
<span id="id40"></span><h5><span class="math notranslate">\(\href{#op-fceil}{\mathrm{fceil}}_N(z)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z\}\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is an infinity, then return <span class="math notranslate">\(z\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a zero, then return <span class="math notranslate">\(z\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is smaller than <span class="math notranslate">\(0\)</span> but greater than <span class="math notranslate">\(-1\)</span>, then return negative zero.</li>
<li>Else return the smallest integral value that is not smaller than <span class="math notranslate">\(z\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fceil}{\mathrm{fceil}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n)\} \\
\href{#op-fceil}{\mathrm{fceil}}_N(\pm \infty) &amp;=&amp; \pm \infty \\
\href{#op-fceil}{\mathrm{fceil}}_N(\pm 0) &amp;=&amp; \pm 0 \\
\href{#op-fceil}{\mathrm{fceil}}_N(- q) &amp;=&amp; -0 &amp; (\mathrel{\mbox{if}} -1 &lt; -q &lt; 0) \\
\href{#op-fceil}{\mathrm{fceil}}_N(\pm q) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(i) &amp; (\mathrel{\mbox{if}} \pm q \leq i &lt; \pm q + 1) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-ffloor">
<span id="id41"></span><h5><span class="math notranslate">\(\href{#op-ffloor}{\mathrm{ffloor}}_N(z)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z\}\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is an infinity, then return <span class="math notranslate">\(z\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a zero, then return <span class="math notranslate">\(z\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is greater than <span class="math notranslate">\(0\)</span> but smaller than <span class="math notranslate">\(1\)</span>, then return positive zero.</li>
<li>Else return the largest integral value that is not larger than <span class="math notranslate">\(z\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-ffloor}{\mathrm{ffloor}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n)\} \\
\href{#op-ffloor}{\mathrm{ffloor}}_N(\pm \infty) &amp;=&amp; \pm \infty \\
\href{#op-ffloor}{\mathrm{ffloor}}_N(\pm 0) &amp;=&amp; \pm 0 \\
\href{#op-ffloor}{\mathrm{ffloor}}_N(+ q) &amp;=&amp; +0 &amp; (\mathrel{\mbox{if}} 0 &lt; +q &lt; 1) \\
\href{#op-ffloor}{\mathrm{ffloor}}_N(\pm q) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(i) &amp; (\mathrel{\mbox{if}} \pm q - 1 &lt; i \leq \pm q) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-ftrunc">
<span id="id42"></span><h5><span class="math notranslate">\(\href{#op-ftrunc}{\mathrm{ftrunc}}_N(z)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z\}\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is an infinity, then return <span class="math notranslate">\(z\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a zero, then return <span class="math notranslate">\(z\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is greater than <span class="math notranslate">\(0\)</span> but smaller than <span class="math notranslate">\(1\)</span>, then return positive zero.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is smaller than <span class="math notranslate">\(0\)</span> but greater than <span class="math notranslate">\(-1\)</span>, then return negative zero.</li>
<li>Else return the integral value with the same sign as <span class="math notranslate">\(z\)</span> and the largest magnitude that is not larger than the magnitude of <span class="math notranslate">\(z\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-ftrunc}{\mathrm{ftrunc}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n)\} \\
\href{#op-ftrunc}{\mathrm{ftrunc}}_N(\pm \infty) &amp;=&amp; \pm \infty \\
\href{#op-ftrunc}{\mathrm{ftrunc}}_N(\pm 0) &amp;=&amp; \pm 0 \\
\href{#op-ftrunc}{\mathrm{ftrunc}}_N(+ q) &amp;=&amp; +0 &amp; (\mathrel{\mbox{if}} 0 &lt; +q &lt; 1) \\
\href{#op-ftrunc}{\mathrm{ftrunc}}_N(- q) &amp;=&amp; -0 &amp; (\mathrel{\mbox{if}} -1 &lt; -q &lt; 0) \\
\href{#op-ftrunc}{\mathrm{ftrunc}}_N(\pm q) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(\pm i) &amp; (\mathrel{\mbox{if}} +q - 1 &lt; i \leq +q) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fnearest">
<span id="id43"></span><h5><span class="math notranslate">\(\href{#op-fnearest}{\mathrm{fnearest}}_N(z)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{z\}\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is an infinity, then return <span class="math notranslate">\(z\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a zero, then return <span class="math notranslate">\(z\)</span>.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is greater than <span class="math notranslate">\(0\)</span> but smaller than or equal to <span class="math notranslate">\(0.5\)</span>, then return positive zero.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is smaller than <span class="math notranslate">\(0\)</span> but greater than or equal to <span class="math notranslate">\(-0.5\)</span>, then return negative zero.</li>
<li>Else return the integral value that is nearest to <span class="math notranslate">\(z\)</span>; if two values are equally near, return the even one.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fnearest}{\mathrm{fnearest}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(n)\} \\
\href{#op-fnearest}{\mathrm{fnearest}}_N(\pm \infty) &amp;=&amp; \pm \infty \\
\href{#op-fnearest}{\mathrm{fnearest}}_N(\pm 0) &amp;=&amp; \pm 0 \\
\href{#op-fnearest}{\mathrm{fnearest}}_N(+ q) &amp;=&amp; +0 &amp; (\mathrel{\mbox{if}} 0 &lt; +q \leq 0.5) \\
\href{#op-fnearest}{\mathrm{fnearest}}_N(- q) &amp;=&amp; -0 &amp; (\mathrel{\mbox{if}} -0.5 \leq -q &lt; 0) \\
\href{#op-fnearest}{\mathrm{fnearest}}_N(\pm q) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(\pm i) &amp; (\mathrel{\mbox{if}} |i - q| &lt; 0.5) \\
\href{#op-fnearest}{\mathrm{fnearest}}_N(\pm q) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(\pm i) &amp; (\mathrel{\mbox{if}} |i - q| = 0.5 \wedge i~\mbox{even}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-feq">
<span id="id44"></span><h5><span class="math notranslate">\(\href{#op-feq}{\mathrm{feq}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are the same value, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else return <span class="math notranslate">\(0\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-feq}{\mathrm{feq}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; 0 \\
\href{#op-feq}{\mathrm{feq}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; 0 \\
\href{#op-feq}{\mathrm{feq}}_N(\pm 0, \mp 0) &amp;=&amp; 1 \\
\href{#op-feq}{\mathrm{feq}}_N(z_1, z_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(z_1 = z_2) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fne">
<span id="id45"></span><h5><span class="math notranslate">\(\href{#op-fne}{\mathrm{fne}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are the same value, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else return <span class="math notranslate">\(1\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fne}{\mathrm{fne}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; 1 \\
\href{#op-fne}{\mathrm{fne}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; 1 \\
\href{#op-fne}{\mathrm{fne}}_N(\pm 0, \mp 0) &amp;=&amp; 0 \\
\href{#op-fne}{\mathrm{fne}}_N(z_1, z_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(z_1 \neq z_2) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-flt">
<span id="id46"></span><h5><span class="math notranslate">\(\href{#op-flt}{\mathrm{flt}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are the same value, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is positive infinity, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is negative infinity, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is positive infinity, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is negative infinity, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is smaller than <span class="math notranslate">\(z_2\)</span>, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else return <span class="math notranslate">\(0\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-flt}{\mathrm{flt}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; 0 \\
\href{#op-flt}{\mathrm{flt}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; 0 \\
\href{#op-flt}{\mathrm{flt}}_N(z, z) &amp;=&amp; 0 \\
\href{#op-flt}{\mathrm{flt}}_N(+ \infty, z_2) &amp;=&amp; 0 \\
\href{#op-flt}{\mathrm{flt}}_N(- \infty, z_2) &amp;=&amp; 1 \\
\href{#op-flt}{\mathrm{flt}}_N(z_1, + \infty) &amp;=&amp; 1 \\
\href{#op-flt}{\mathrm{flt}}_N(z_1, - \infty) &amp;=&amp; 0 \\
\href{#op-flt}{\mathrm{flt}}_N(\pm 0, \mp 0) &amp;=&amp; 0 \\
\href{#op-flt}{\mathrm{flt}}_N(z_1, z_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(z_1 &lt; z_2) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fgt">
<span id="id47"></span><h5><span class="math notranslate">\(\href{#op-fgt}{\mathrm{fgt}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are the same value, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is positive infinity, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is negative infinity, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is positive infinity, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is negative infinity, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is larger than <span class="math notranslate">\(z_2\)</span>, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else return <span class="math notranslate">\(0\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fgt}{\mathrm{fgt}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; 0 \\
\href{#op-fgt}{\mathrm{fgt}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; 0 \\
\href{#op-fgt}{\mathrm{fgt}}_N(z, z) &amp;=&amp; 0 \\
\href{#op-fgt}{\mathrm{fgt}}_N(+ \infty, z_2) &amp;=&amp; 1 \\
\href{#op-fgt}{\mathrm{fgt}}_N(- \infty, z_2) &amp;=&amp; 0 \\
\href{#op-fgt}{\mathrm{fgt}}_N(z_1, + \infty) &amp;=&amp; 0 \\
\href{#op-fgt}{\mathrm{fgt}}_N(z_1, - \infty) &amp;=&amp; 1 \\
\href{#op-fgt}{\mathrm{fgt}}_N(\pm 0, \mp 0) &amp;=&amp; 0 \\
\href{#op-fgt}{\mathrm{fgt}}_N(z_1, z_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(z_1 &gt; z_2) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fle">
<span id="id48"></span><h5><span class="math notranslate">\(\href{#op-fle}{\mathrm{fle}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are the same value, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is positive infinity, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is negative infinity, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is positive infinity, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is negative infinity, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is smaller than or equal to <span class="math notranslate">\(z_2\)</span>, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else return <span class="math notranslate">\(0\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fle}{\mathrm{fle}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; 0 \\
\href{#op-fle}{\mathrm{fle}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; 0 \\
\href{#op-fle}{\mathrm{fle}}_N(z, z) &amp;=&amp; 1 \\
\href{#op-fle}{\mathrm{fle}}_N(+ \infty, z_2) &amp;=&amp; 0 \\
\href{#op-fle}{\mathrm{fle}}_N(- \infty, z_2) &amp;=&amp; 1 \\
\href{#op-fle}{\mathrm{fle}}_N(z_1, + \infty) &amp;=&amp; 1 \\
\href{#op-fle}{\mathrm{fle}}_N(z_1, - \infty) &amp;=&amp; 0 \\
\href{#op-fle}{\mathrm{fle}}_N(\pm 0, \mp 0) &amp;=&amp; 1 \\
\href{#op-fle}{\mathrm{fle}}_N(z_1, z_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(z_1 \leq z_2) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-fge">
<span id="id49"></span><h5><span class="math notranslate">\(\href{#op-fge}{\mathrm{fge}}_N(z_1, z_2)\)</span></h5>
<ul class="simple">
<li>If either <span class="math notranslate">\(z_1\)</span> or <span class="math notranslate">\(z_2\)</span> is a NaN, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are the same value, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is positive infinity, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is negative infinity, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is positive infinity, then return <span class="math notranslate">\(0\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_2\)</span> is negative infinity, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if both <span class="math notranslate">\(z_1\)</span> and <span class="math notranslate">\(z_2\)</span> are zeroes, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else if <span class="math notranslate">\(z_1\)</span> is smaller than or equal to <span class="math notranslate">\(z_2\)</span>, then return <span class="math notranslate">\(1\)</span>.</li>
<li>Else return <span class="math notranslate">\(0\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcll}
\href{#op-fge}{\mathrm{fge}}_N(\pm \href{#syntax-float}{\mathsf{nan}}(n), z_2) &amp;=&amp; 0 \\
\href{#op-fge}{\mathrm{fge}}_N(z_1, \pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; 0 \\
\href{#op-fge}{\mathrm{fge}}_N(z, z) &amp;=&amp; 1 \\
\href{#op-fge}{\mathrm{fge}}_N(+ \infty, z_2) &amp;=&amp; 1 \\
\href{#op-fge}{\mathrm{fge}}_N(- \infty, z_2) &amp;=&amp; 0 \\
\href{#op-fge}{\mathrm{fge}}_N(z_1, + \infty) &amp;=&amp; 0 \\
\href{#op-fge}{\mathrm{fge}}_N(z_1, - \infty) &amp;=&amp; 1 \\
\href{#op-fge}{\mathrm{fge}}_N(\pm 0, \mp 0) &amp;=&amp; 1 \\
\href{#op-fge}{\mathrm{fge}}_N(z_1, z_2) &amp;=&amp; \href{#aux-bool}{\mathrm{bool}}(z_1 \geq z_2) \\
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="conversions">
<span id="convert-ops"></span><h4>Conversions</h4>
<div class="section" id="op-extend-u">
<span id="id50"></span><h5><span class="math notranslate">\(\href{#op-extend-u}{\mathrm{extend}^{\mathsf{u}}}_{M,N}(i)\)</span></h5>
<ul class="simple">
<li>Return <span class="math notranslate">\(i\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#op-extend-u}{\mathrm{extend}^{\mathsf{u}}}_{M,N}(i) &amp;=&amp; i \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the abstract syntax, unsigned extension just reinterprets the same value.</p>
</div>
</div>
<div class="section" id="op-extend-s">
<span id="id51"></span><h5><span class="math notranslate">\(\href{#op-extend-s}{\mathrm{extend}^{\mathsf{s}}}_{M,N}(i)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i\)</span> of size <span class="math notranslate">\(M\)</span>.</li>
<li>Return the two’s complement of <span class="math notranslate">\(j\)</span> relative to size <span class="math notranslate">\(N\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#op-extend-s}{\mathrm{extend}^{\mathsf{s}}}_{M,N}(i) &amp;=&amp; \href{#aux-signed}{\mathrm{signed}}_N^{-1}(\href{#aux-signed}{\mathrm{signed}}_M(i)) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-wrap">
<span id="id52"></span><h5><span class="math notranslate">\(\href{#op-wrap}{\mathrm{wrap}}_{M,N}(i)\)</span></h5>
<ul class="simple">
<li>Return <span class="math notranslate">\(i\)</span> modulo <span class="math notranslate">\(2^N\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#op-wrap}{\mathrm{wrap}}_{M,N}(i) &amp;=&amp; i \mathbin{\mathrm{mod}} 2^N \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-trunc-u">
<span id="id53"></span><h5><span class="math notranslate">\(\href{#op-trunc-u}{\mathrm{trunc}^{\mathsf{u}}}_{M,N}(z)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z\)</span> is a NaN, then the result is undefined.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is an infinity, then the result is undefined.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a number and <span class="math notranslate">\(\href{#aux-trunc}{\mathrm{trunc}}(z)\)</span> is a value within range of the target type, then return that value.</li>
<li>Else the result is undefined.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#op-trunc-u}{\mathrm{trunc}^{\mathsf{u}}}_{M,N}(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \{\} \\
\href{#op-trunc-u}{\mathrm{trunc}^{\mathsf{u}}}_{M,N}(\pm \infty) &amp;=&amp; \{\} \\
\href{#op-trunc-u}{\mathrm{trunc}^{\mathsf{u}}}_{M,N}(\pm q) &amp;=&amp; \href{#aux-trunc}{\mathrm{trunc}}(\pm q) &amp; (\mathrel{\mbox{if}} -1 &lt; \href{#aux-trunc}{\mathrm{trunc}}(\pm q) &lt; 2^N) \\
\href{#op-trunc-u}{\mathrm{trunc}^{\mathsf{u}}}_{M,N}(\pm q) &amp;=&amp; \{\} &amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This operator is <a class="reference internal" href="#exec-op-partial"><span class="std std-ref">partial</span></a>.
It is not defined for NaNs, infinities, or values for which the result is out of range.</p>
</div>
</div>
<div class="section" id="op-trunc-s">
<span id="id54"></span><h5><span class="math notranslate">\(\href{#op-trunc-s}{\mathrm{trunc}^{\mathsf{s}}}_{M,N}(z)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z\)</span> is a NaN, then the result is undefined.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is an infinity, then the result is undefined.</li>
<li>If <span class="math notranslate">\(z\)</span> is a number and <span class="math notranslate">\(\href{#aux-trunc}{\mathrm{trunc}}(z)\)</span> is a value within range of the target type, then return that value.</li>
<li>Else the result is undefined.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#op-trunc-s}{\mathrm{trunc}^{\mathsf{s}}}_{M,N}(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \{\} \\
\href{#op-trunc-s}{\mathrm{trunc}^{\mathsf{s}}}_{M,N}(\pm \infty) &amp;=&amp; \{\} \\
\href{#op-trunc-s}{\mathrm{trunc}^{\mathsf{s}}}_{M,N}(\pm q) &amp;=&amp; \href{#aux-trunc}{\mathrm{trunc}}(\pm q) &amp; (\mathrel{\mbox{if}} -2^{N-1} - 1 &lt; \href{#aux-trunc}{\mathrm{trunc}}(\pm q) &lt; 2^{N-1}) \\
\href{#op-trunc-s}{\mathrm{trunc}^{\mathsf{s}}}_{M,N}(\pm q) &amp;=&amp; \{\} &amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This operator is <a class="reference internal" href="#exec-op-partial"><span class="std std-ref">partial</span></a>.
It is not defined for NaNs, infinities, or values for which the result is out of range.</p>
</div>
</div>
<div class="section" id="op-promote">
<span id="id55"></span><h5><span class="math notranslate">\(\href{#op-promote}{\mathrm{promote}}_{M,N}(z)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z\)</span> is a <a class="reference internal" href="index.html#canonical-nan"><span class="std std-ref">canonical NaN</span></a>, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{\}\)</span> (i.e., a canonical NaN of size <span class="math notranslate">\(N\)</span>).</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(1)\}\)</span> (i.e., any NaN of size <span class="math notranslate">\(N\)</span>).</li>
<li>Else, return <span class="math notranslate">\(z\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#op-promote}{\mathrm{promote}}_{M,N}(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} &amp; (\mathrel{\mbox{if}} n = \href{#aux-canon}{\mathrm{canon}}_N) \\
\href{#op-promote}{\mathrm{promote}}_{M,N}(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{+ \href{#syntax-float}{\mathsf{nan}}(1)\} &amp; (\mathrel{\mbox{otherwise}}) \\
\href{#op-promote}{\mathrm{promote}}_{M,N}(z) &amp;=&amp; z \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-demote">
<span id="id56"></span><h5><span class="math notranslate">\(\href{#op-demote}{\mathrm{demote}}_{M,N}(z)\)</span></h5>
<ul class="simple">
<li>If <span class="math notranslate">\(z\)</span> is a <a class="reference internal" href="index.html#canonical-nan"><span class="std std-ref">canonical NaN</span></a>, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{\}\)</span> (i.e., a canonical NaN of size <span class="math notranslate">\(N\)</span>).</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a NaN, then return an element of <span class="math notranslate">\(\href{#aux-nans}{\mathrm{nans}}_N\{\pm \href{#syntax-float}{\mathsf{nan}}(1)\}\)</span> (i.e., any NaN of size <span class="math notranslate">\(N\)</span>).</li>
<li>Else if <span class="math notranslate">\(z\)</span> is an infinity, then return that infinity.</li>
<li>Else if <span class="math notranslate">\(z\)</span> is a zero, then return that zero.</li>
<li>Else, return <span class="math notranslate">\(\href{#aux-ieee}{\mathrm{float}}_N(z)\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#op-demote}{\mathrm{demote}}_{M,N}(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{\} &amp; (\mathrel{\mbox{if}} n = \href{#aux-canon}{\mathrm{canon}}_N) \\
\href{#op-demote}{\mathrm{demote}}_{M,N}(\pm \href{#syntax-float}{\mathsf{nan}}(n)) &amp;=&amp; \href{#aux-nans}{\mathrm{nans}}_N\{+ \href{#syntax-float}{\mathsf{nan}}(1)\} &amp; (\mathrel{\mbox{otherwise}}) \\
\href{#op-demote}{\mathrm{demote}}_{M,N}(\pm \infty) &amp;=&amp; \pm \infty \\
\href{#op-demote}{\mathrm{demote}}_{M,N}(\pm 0) &amp;=&amp; \pm 0 \\
\href{#op-demote}{\mathrm{demote}}_{M,N}(\pm q) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(\pm q) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-convert-u">
<span id="id57"></span><h5><span class="math notranslate">\(\href{#op-convert-u}{\mathrm{convert}^{\mathsf{u}}}_{M,N}(i)\)</span></h5>
<ul class="simple">
<li>Return <span class="math notranslate">\(\href{#aux-ieee}{\mathrm{float}}_N(i)\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#op-convert-u}{\mathrm{convert}^{\mathsf{u}}}_{M,N}(i) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(i) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-convert-s">
<span id="id58"></span><h5><span class="math notranslate">\(\href{#op-convert-s}{\mathrm{convert}^{\mathsf{s}}}_{M,N}(i)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(j\)</span> be the <a class="reference internal" href="#aux-signed"><span class="std std-ref">signed interpretation</span></a> of <span class="math notranslate">\(i\)</span>.</li>
<li>Return <span class="math notranslate">\(\href{#aux-ieee}{\mathrm{float}}_N(j)\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#op-convert-u}{\mathrm{convert}^{\mathsf{u}}}_{M,N}(i) &amp;=&amp; \href{#aux-ieee}{\mathrm{float}}_N(\href{#aux-signed}{\mathrm{signed}}_M(i)) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="op-reinterpret">
<span id="id59"></span><h5><span class="math notranslate">\(\href{#op-reinterpret}{\mathrm{reinterpret}}_{t_1,t_2}(c)\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(d^\ast\)</span> be the bit sequence <span class="math notranslate">\(\href{#aux-bits}{\mathrm{bits}}_{t_1}(c)\)</span>.</li>
<li>Return the constant <span class="math notranslate">\(c'\)</span> for which <span class="math notranslate">\(\href{#aux-bits}{\mathrm{bits}}_{t_2}(c') = d^\ast\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\href{#op-reinterpret}{\mathrm{reinterpret}}_{t_1,t_2}(c) &amp;=&amp; \href{#aux-bits}{\mathrm{bits}}_{t_2}^{-1}(\href{#aux-bits}{\mathrm{bits}}_{t_1}(c)) \\
\end{array}\end{split}\]</div>
</div>
</div>
</div>
<span id="document-exec/instructions"></span><div class="section" id="instructions">
<span id="exec-instr"></span><span id="index-0"></span><h3>Instructions</h3>
<p>WebAssembly computation is performed by executing individual <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instructions</span></a>.</p>
<div class="section" id="numeric-instructions">
<span id="exec-instr-numeric"></span><span id="index-1"></span><h4>Numeric Instructions</h4>
<p>Numeric instructions are defined in terms of the basic <a class="reference internal" href="index.html#exec-numeric"><span class="std std-ref">numeric operators</span></a>.
The mapping of numeric instructions to their underlying operators is expressed by the following definition:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\mathit{op}_{\mathsf{i}N}(n_1,\dots,n_k) &amp;=&amp; \mathrm{i}\mathit{op}_N(n_1,\dots,n_k) \\
\mathit{op}_{\mathsf{f}N}(z_1,\dots,z_k) &amp;=&amp; \mathrm{f}\mathit{op}_N(z_1,\dots,z_k) \\
\end{array}\end{split}\]</div>
<p>And for <a class="reference internal" href="#exec-cvtop"><span class="std std-ref">conversion operators</span></a>:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll&#64;{\qquad}l}
\mathit{cvtop}^{\href{#syntax-sx}{\mathit{sx}}^?}_{t_1,t_2}(c) &amp;=&amp; \mathit{cvtop}^{\href{#syntax-sx}{\mathit{sx}}^?}_{|t_1|,|t_2|}(c) \\
\end{array}\end{split}\]</div>
<p>Where the underlying operators are partial, the corresponding instruction will <a class="reference internal" href="index.html#trap"><span class="std std-ref">trap</span></a> when the result is not defined.
Where the underlying operators are non-deterministic, because they may return one of multiple possible <a class="reference internal" href="index.html#syntax-nan"><span class="std std-ref">NaN</span></a> values, so are the corresponding instructions.</p>
<div class="section" id="exec-const">
<span id="id1"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span></h5>
<ol class="arabic simple">
<li>Push the value <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span> to the stack.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">No formal reduction rule is required for this instruction, since <span class="math notranslate">\(\href{#syntax-instr-numeric}{\mathsf{const}}\)</span> instructions coincide with <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a>.</p>
</div>
</div>
<div class="section" id="exec-unop">
<span id="id2"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-unop}{\mathit{unop}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a>, a value of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c_1\)</span> from the stack.</li>
<li>If <span class="math notranslate">\(\href{#syntax-unop}{\mathit{unop}}_t(c_1)\)</span> is defined, then:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(c\)</span> be a possible result of computing <span class="math notranslate">\(\href{#syntax-unop}{\mathit{unop}}_t(c_1)\)</span>.</li>
<li>Push the value <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span> to the stack.</li>
</ol>
</li>
<li>Else:<ol class="loweralpha">
<li>Trap.</li>
</ol>
</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lcl&#64;{\qquad}l}
(t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_1)~t\mathsf{.}\href{#syntax-unop}{\mathit{unop}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; (t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c)
  &amp; (\mathrel{\mbox{if}} c \in \href{#syntax-unop}{\mathit{unop}}_t(c_1)) \\
(t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_1)~t\mathsf{.}\href{#syntax-unop}{\mathit{unop}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; \href{#syntax-trap}{\mathsf{trap}}
  &amp; (\mathrel{\mbox{if}} \href{#syntax-unop}{\mathit{unop}}_{t}(c_1) = \{\})
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-binop">
<span id="id3"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-binop}{\mathit{binop}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a>, two values of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span> are on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c_2\)</span> from the stack.</li>
<li>Pop the value <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c_1\)</span> from the stack.</li>
<li>If <span class="math notranslate">\(\href{#syntax-binop}{\mathit{binop}}_t(c_1, c_2)\)</span> is defined, then:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(c\)</span> be a possible result of computing <span class="math notranslate">\(\href{#syntax-binop}{\mathit{binop}}_t(c_1, c_2)\)</span>.</li>
<li>Push the value <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span> to the stack.</li>
</ol>
</li>
<li>Else:<ol class="loweralpha">
<li>Trap.</li>
</ol>
</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lcl&#64;{\qquad}l}
(t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_1)~(t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_2)~t\mathsf{.}\href{#syntax-binop}{\mathit{binop}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; (t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c)
  &amp; (\mathrel{\mbox{if}} c \in \href{#syntax-binop}{\mathit{binop}}_t(c_1,c_2)) \\
(t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_1)~(t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_2)~t\mathsf{.}\href{#syntax-binop}{\mathit{binop}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; \href{#syntax-trap}{\mathsf{trap}}
  &amp; (\mathrel{\mbox{if}} \href{#syntax-binop}{\mathit{binop}}_{t}(c_1,c2) = \{\})
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-testop">
<span id="id4"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-testop}{\mathit{testop}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-testop"><span class="std std-ref">validation</span></a>, a value of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c_1\)</span> from the stack.</li>
<li>Let <span class="math notranslate">\(c\)</span> be the result of computing <span class="math notranslate">\(\href{#syntax-testop}{\mathit{testop}}_t(c_1)\)</span>.</li>
<li>Push the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span> to the stack.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lcl&#64;{\qquad}l}
(t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_1)~t\mathsf{.}\href{#syntax-testop}{\mathit{testop}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; (\href{#syntax-valtype}{\mathsf{i32}}\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c)
  &amp; (\mathrel{\mbox{if}} c = \href{#syntax-testop}{\mathit{testop}}_t(c_1)) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-relop">
<span id="id5"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-relop}{\mathit{relop}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a>, two values of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span> are on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c_2\)</span> from the stack.</li>
<li>Pop the value <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c_1\)</span> from the stack.</li>
<li>Let <span class="math notranslate">\(c\)</span> be the result of computing <span class="math notranslate">\(\href{#syntax-relop}{\mathit{relop}}_t(c_1, c_2)\)</span>.</li>
<li>Push the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span> to the stack.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lcl&#64;{\qquad}l}
(t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_1)~(t\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_2)~t\mathsf{.}\href{#syntax-relop}{\mathit{relop}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; (\href{#syntax-valtype}{\mathsf{i32}}\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c)
  &amp; (\mathrel{\mbox{if}} c = \href{#syntax-relop}{\mathit{relop}}_t(c_1,c_2)) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-cvtop">
<span id="id6"></span><h5><span class="math notranslate">\(t_2\mathsf{.}\href{#syntax-cvtop}{\mathit{cvtop}}\mathsf{\_}t_1\mathsf{\_}\href{#syntax-sx}{\mathit{sx}}^?\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a>, a value of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t_1\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(t_1.\href{#syntax-instr-numeric}{\mathsf{const}}~c_1\)</span> from the stack.</li>
<li>If <span class="math notranslate">\(\href{#syntax-cvtop}{\mathit{cvtop}}^{\href{#syntax-sx}{\mathit{sx}}^?}_{t_1,t_2}(c_1)\)</span> is defined:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(c_2\)</span> be a possible result of computing <span class="math notranslate">\(\href{#syntax-cvtop}{\mathit{cvtop}}^{\href{#syntax-sx}{\mathit{sx}}^?}_{t_1,t_2}(c_1)\)</span>.</li>
<li>Push the value <span class="math notranslate">\(t_2.\href{#syntax-instr-numeric}{\mathsf{const}}~c_2\)</span> to the stack.</li>
</ol>
</li>
<li>Else:<ol class="loweralpha">
<li>Trap.</li>
</ol>
</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lcl&#64;{\qquad}l}
(t_1\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_1)~t_2\mathsf{.}\href{#syntax-cvtop}{\mathit{cvtop}}\mathsf{\_}t_1\mathsf{\_}\href{#syntax-sx}{\mathit{sx}}^? &amp;\href{#formal-notation}{\hookrightarrow}&amp; (t_2\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_2)
  &amp; (\mathrel{\mbox{if}} c_2 \in \href{#syntax-cvtop}{\mathit{cvtop}}^{\href{#syntax-sx}{\mathit{sx}}^?}_{t_1,t_2}(c_1)) \\
(t_1\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c_1)~t_2\mathsf{.}\href{#syntax-cvtop}{\mathit{cvtop}}\mathsf{\_}t_1\mathsf{\_}\href{#syntax-sx}{\mathit{sx}}^? &amp;\href{#formal-notation}{\hookrightarrow}&amp; \href{#syntax-trap}{\mathsf{trap}}
  &amp; (\mathrel{\mbox{if}} \href{#syntax-cvtop}{\mathit{cvtop}}^{\href{#syntax-sx}{\mathit{sx}}^?}_{t_1,t_2}(c_1) = \{\})
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="parametric-instructions">
<span id="exec-instr-parametric"></span><span id="index-2"></span><h4>Parametric Instructions</h4>
<div class="section" id="exec-drop">
<span id="id7"></span><h5><span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{drop}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-drop"><span class="std std-ref">validation</span></a>, a value is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> from the stack.</li>
</ol>
<div class="math notranslate">
\[\begin{array}{lcl&#64;{\qquad}l}
\href{#syntax-val}{\mathit{val}}~~\href{#syntax-instr-parametric}{\mathsf{drop}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; \epsilon
\end{array}\]</div>
</div>
<div class="section" id="exec-select">
<span id="id8"></span><h5><span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{select}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-select"><span class="std std-ref">validation</span></a>, a value of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span> from the stack.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-select"><span class="std std-ref">validation</span></a>, two more values (of the same <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a>) are on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_2\)</span> from the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_1\)</span> from the stack.</li>
<li>If <span class="math notranslate">\(c\)</span> is not <span class="math notranslate">\(0\)</span>, then:<ol class="loweralpha">
<li>Push the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_1\)</span> back to the stack.</li>
</ol>
</li>
<li>Else:<ol class="loweralpha">
<li>Push the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_2\)</span> back to the stack.</li>
</ol>
</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lcl&#64;{\qquad}l}
\href{#syntax-val}{\mathit{val}}_1~\href{#syntax-val}{\mathit{val}}_2~(\href{#syntax-valtype}{\mathsf{i32}}\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c)~\href{#syntax-instr-parametric}{\mathsf{select}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; \href{#syntax-val}{\mathit{val}}_1
  &amp; (\mathrel{\mbox{if}} c \neq 0) \\
\href{#syntax-val}{\mathit{val}}_1~\href{#syntax-val}{\mathit{val}}_2~(\href{#syntax-valtype}{\mathsf{i32}}\mathsf{.}\href{#syntax-instr-numeric}{\mathsf{const}}~c)~\href{#syntax-instr-parametric}{\mathsf{select}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; \href{#syntax-val}{\mathit{val}}_2
  &amp; (\mathrel{\mbox{if}} c = 0) \\
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="variable-instructions">
<span id="exec-instr-variable"></span><span id="index-3"></span><h4>Variable Instructions</h4>
<div class="section" id="exec-local-get">
<span id="id9"></span><h5><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.get}}~x\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-local-get"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{locals}}[x]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> be the value <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{locals}}[x]\)</span>.</li>
<li>Push the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> to the stack.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lcl&#64;{\qquad}l}
F; (\href{#syntax-instr-variable}{\mathsf{local.get}}~x) &amp;\href{#formal-notation}{\hookrightarrow}&amp; F; \href{#syntax-val}{\mathit{val}}
  &amp; (\mathrel{\mbox{if}} F.\href{#syntax-frame}{\mathsf{locals}}[x] = \href{#syntax-val}{\mathit{val}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-local-set">
<span id="id10"></span><h5><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.set}}~x\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-local-set"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{locals}}[x]\)</span> exists.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-local-set"><span class="std std-ref">validation</span></a>, a value is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> from the stack.</li>
<li>Replace <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{locals}}[x]\)</span> with the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lcl&#64;{\qquad}l}
F; \href{#syntax-val}{\mathit{val}}~(\href{#syntax-instr-variable}{\mathsf{local.set}}~x) &amp;\href{#formal-notation}{\hookrightarrow}&amp; F'; \epsilon
  &amp; (\mathrel{\mbox{if}} F' = F \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-frame}{\mathsf{locals}}[x] = \href{#syntax-val}{\mathit{val}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-local-tee">
<span id="id11"></span><h5><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.tee}}~x\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-local-tee"><span class="std std-ref">validation</span></a>, a value is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> from the stack.</li>
<li>Push the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> to the stack.</li>
<li>Push the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> to the stack.</li>
<li><a class="reference internal" href="#exec-local-set"><span class="std std-ref">Execute</span></a> the instruction <span class="math notranslate">\((\href{#syntax-instr-variable}{\mathsf{local.set}}~x)\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{array}{lcl&#64;{\qquad}l}
\href{#syntax-val}{\mathit{val}}~(\href{#syntax-instr-variable}{\mathsf{local.tee}}~x) &amp;\href{#formal-notation}{\hookrightarrow}&amp; \href{#syntax-val}{\mathit{val}}~\href{#syntax-val}{\mathit{val}}~(\href{#syntax-instr-variable}{\mathsf{local.set}}~x)
\end{array}\]</div>
</div>
<div class="section" id="exec-global-get">
<span id="id12"></span><h5><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{global.get}}~x\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-global-get"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{globaladdrs}}[x]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the <a class="reference internal" href="index.html#syntax-globaladdr"><span class="std std-ref">global address</span></a> <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{globaladdrs}}[x]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-global-get"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{globals}}[a]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{glob}\)</span> be the <a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">global instance</span></a> <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{globals}}[a]\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> be the value <span class="math notranslate">\(\mathit{glob}.\href{#syntax-globalinst}{\mathsf{value}}\)</span>.</li>
<li>Push the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> to the stack.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{l}
\begin{array}{lcl&#64;{\qquad}l}
S; F; (\href{#syntax-instr-variable}{\mathsf{global.get}}~x) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; F; \href{#syntax-val}{\mathit{val}}
\end{array}
\\ \qquad
  (\mathrel{\mbox{if}} S.\href{#syntax-store}{\mathsf{globals}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{globaladdrs}}[x]].\href{#syntax-globalinst}{\mathsf{value}} = \href{#syntax-val}{\mathit{val}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-global-set">
<span id="id13"></span><h5><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{global.set}}~x\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-global-set"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{globaladdrs}}[x]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the <a class="reference internal" href="index.html#syntax-globaladdr"><span class="std std-ref">global address</span></a> <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{globaladdrs}}[x]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-global-set"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{globals}}[a]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{glob}\)</span> be the <a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">global instance</span></a> <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{globals}}[a]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-global-set"><span class="std std-ref">validation</span></a>, a value is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> from the stack.</li>
<li>Replace <span class="math notranslate">\(\mathit{glob}.\href{#syntax-globalinst}{\mathsf{value}}\)</span> with the value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{l}
\begin{array}{lcl&#64;{\qquad}l}
S; F; \href{#syntax-val}{\mathit{val}}~(\href{#syntax-instr-variable}{\mathsf{global.set}}~x) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S'; F; \epsilon
\end{array}
\\ \qquad
(\mathrel{\mbox{if}} S' = S \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-store}{\mathsf{globals}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{globaladdrs}}[x]].\href{#syntax-globalinst}{\mathsf{value}} = \href{#syntax-val}{\mathit{val}}) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="index.html#valid-global-set"><span class="std std-ref">Validation</span></a> ensures that the global is, in fact, marked as mutable.</p>
</div>
</div>
</div>
<div class="section" id="memory-instructions">
<span id="exec-instr-memory"></span><span id="exec-memarg"></span><span id="index-4"></span><h4>Memory Instructions</h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The alignment <span class="math notranslate">\(\href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{align}}\)</span> in load and store instructions does not affect the semantics.
It is an indication that the offset <span class="math notranslate">\(\mathit{ea}\)</span> at which the memory is accessed is intended to satisfy the property <span class="math notranslate">\(\mathit{ea} \mathbin{\mathrm{mod}} 2^{\href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{align}}} = 0\)</span>.
A WebAssembly implementation can use this hint to optimize for the intended use.
Unaligned access violating that property is still allowed and must succeed regardless of the annotation.
However, it may be substantially slower on some hardware.</p>
</div>
<div class="section" id="and">
<span id="exec-loadn"></span><span id="exec-load"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-instr-memory}{\mathsf{load}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span> and <span class="math notranslate">\(t\mathsf{.}\href{#syntax-instr-memory}{\mathsf{load}}{N}\mathsf{\_}\href{#syntax-sx}{\mathit{sx}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the <a class="reference internal" href="index.html#syntax-memaddr"><span class="std std-ref">memory address</span></a> <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}[a]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{mem}\)</span> be the <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}[a]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a>, a value of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i\)</span> from the stack.</li>
<li>Let <span class="math notranslate">\(\mathit{ea}\)</span> be the integer <span class="math notranslate">\(i + \href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{offset}}\)</span>.</li>
<li>If <span class="math notranslate">\(N\)</span> is not part of the instruction, then:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(N\)</span> be the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">bit width</span></a> <span class="math notranslate">\(|t|\)</span> of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span>.</li>
</ol>
</li>
<li>If <span class="math notranslate">\(\mathit{ea} + N/8\)</span> is larger than the length of <span class="math notranslate">\(\mathit{mem}.\href{#syntax-meminst}{\mathsf{data}}\)</span>, then:<ol class="loweralpha">
<li>Trap.</li>
</ol>
</li>
<li>Let <span class="math notranslate">\(b^\ast\)</span> be the byte sequence <span class="math notranslate">\(\mathit{mem}.\href{#syntax-meminst}{\mathsf{data}}[\mathit{ea} \href{#notation-slice}{\mathrel{\mathbf{:}}} N/8]\)</span>.</li>
<li>If <span class="math notranslate">\(N\)</span> and <span class="math notranslate">\(\href{#syntax-sx}{\mathit{sx}}\)</span> are part of the instruction, then:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(n\)</span> be the integer for which <span class="math notranslate">\(\href{#aux-bytes}{\mathrm{bytes}}_{\href{#syntax-int}{\def\mathdef1491#1{{\mathit{i}#1}}\mathdef1491{N}}}(n) = b^\ast\)</span>.</li>
<li>Let <span class="math notranslate">\(c\)</span> be the result of computing <span class="math notranslate">\(\href{#op-extend-u}{\mathrm{extend}}\mathrm{\_}\href{#syntax-sx}{\mathit{sx}}_{N,|t|}(n)\)</span>.</li>
</ol>
</li>
<li>Else:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(c\)</span> be the constant for which <span class="math notranslate">\(\href{#aux-bytes}{\mathrm{bytes}}_t(c) = b^\ast\)</span>.</li>
</ol>
</li>
<li>Push the value <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span> to the stack.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{l}
\begin{array}{lcl&#64;{\qquad}l}
S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i)~(t.\href{#syntax-instr-memory}{\mathsf{load}}~\href{#syntax-memarg}{\mathit{memarg}}) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; F; (t.\href{#syntax-instr-numeric}{\mathsf{const}}~c)
\end{array}
\\ \qquad
  \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
  (\mathrel{\mbox{if}} &amp; \mathit{ea} = i + \href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{offset}} \\
  \wedge &amp; \mathit{ea} + |t|/8 \leq |S.\href{#syntax-store}{\mathsf{mems}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]].\href{#syntax-meminst}{\mathsf{data}}| \\
  \wedge &amp; \href{#aux-bytes}{\mathrm{bytes}}_t(c) = S.\href{#syntax-store}{\mathsf{mems}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]].\href{#syntax-meminst}{\mathsf{data}}[\mathit{ea} \href{#notation-slice}{\mathrel{\mathbf{:}}} |t|/8])
  \end{array}
\\[1ex]
\begin{array}{lcl&#64;{\qquad}l}
S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i)~(t.\href{#syntax-instr-memory}{\mathsf{load}}{N}\mathsf{\_}\href{#syntax-sx}{\mathit{sx}}~\href{#syntax-memarg}{\mathit{memarg}}) &amp;\href{#formal-notation}{\hookrightarrow}&amp;
  S; F; (t.\href{#syntax-instr-numeric}{\mathsf{const}}~\href{#op-extend-u}{\mathrm{extend}}\mathrm{\_}\href{#syntax-sx}{\mathit{sx}}_{N,|t|}(n))
\end{array}
\\ \qquad
  \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
  (\mathrel{\mbox{if}} &amp; \mathit{ea} = i + \href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{offset}} \\
  \wedge &amp; \mathit{ea} + N/8 \leq |S.\href{#syntax-store}{\mathsf{mems}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]].\href{#syntax-meminst}{\mathsf{data}}| \\
  \wedge &amp; \href{#aux-bytes}{\mathrm{bytes}}_{\href{#syntax-int}{\def\mathdef1491#1{{\mathit{i}#1}}\mathdef1491{N}}}(n) = S.\href{#syntax-store}{\mathsf{mems}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]].\href{#syntax-meminst}{\mathsf{data}}[\mathit{ea} \href{#notation-slice}{\mathrel{\mathbf{:}}} N/8])
  \end{array}
\\[1ex]
\begin{array}{lcl&#64;{\qquad}l}
S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~k)~(t.\href{#syntax-instr-memory}{\mathsf{load}}({N}\mathsf{\_}\href{#syntax-sx}{\mathit{sx}})^?~\href{#syntax-memarg}{\mathit{memarg}}) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; F; \href{#syntax-trap}{\mathsf{trap}}
\end{array}
\\ \qquad
  (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-storen">
<span id="exec-store"></span><span id="id14"></span><h5><span class="math notranslate">\(t\mathsf{.}\href{#syntax-instr-memory}{\mathsf{store}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span> and <span class="math notranslate">\(t\mathsf{.}\href{#syntax-instr-memory}{\mathsf{store}}{N}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-storen"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the <a class="reference internal" href="index.html#syntax-memaddr"><span class="std std-ref">memory address</span></a> <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-storen"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}[a]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{mem}\)</span> be the <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}[a]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-storen"><span class="std std-ref">validation</span></a>, a value of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span> from the stack.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-storen"><span class="std std-ref">validation</span></a>, a value of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i\)</span> from the stack.</li>
<li>Let <span class="math notranslate">\(\mathit{ea}\)</span> be the integer <span class="math notranslate">\(i + \href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{offset}}\)</span>.</li>
<li>If <span class="math notranslate">\(N\)</span> is not part of the instruction, then:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(N\)</span> be the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">bit width</span></a> <span class="math notranslate">\(|t|\)</span> of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span>.</li>
</ol>
</li>
<li>If <span class="math notranslate">\(\mathit{ea} + N/8\)</span> is larger than the length of <span class="math notranslate">\(\mathit{mem}.\href{#syntax-meminst}{\mathsf{data}}\)</span>, then:<ol class="loweralpha">
<li>Trap.</li>
</ol>
</li>
<li>If <span class="math notranslate">\(N\)</span> is part of the instruction, then:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(n\)</span> be the result of computing <span class="math notranslate">\(\href{#op-wrap}{\mathrm{wrap}}_{|t|,N}(c)\)</span>.</li>
<li>Let <span class="math notranslate">\(b^\ast\)</span> be the byte sequence <span class="math notranslate">\(\href{#aux-bytes}{\mathrm{bytes}}_{\href{#syntax-int}{\def\mathdef1491#1{{\mathit{i}#1}}\mathdef1491{N}}}(n)\)</span>.</li>
</ol>
</li>
<li>Else:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(b^\ast\)</span> be the byte sequence <span class="math notranslate">\(\href{#aux-bytes}{\mathrm{bytes}}_t(c)\)</span>.</li>
</ol>
</li>
<li>Replace the bytes <span class="math notranslate">\(\mathit{mem}.\href{#syntax-meminst}{\mathsf{data}}[\mathit{ea} \href{#notation-slice}{\mathrel{\mathbf{:}}} N/8]\)</span> with <span class="math notranslate">\(b^\ast\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{l}
\begin{array}{lcl&#64;{\qquad}l}
S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i)~(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c)~(t.\href{#syntax-instr-memory}{\mathsf{store}}~\href{#syntax-memarg}{\mathit{memarg}}) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S'; F; \epsilon
\end{array}
\\ \qquad
  \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
  (\mathrel{\mbox{if}} &amp; \mathit{ea} = i + \href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{offset}} \\
  \wedge &amp; \mathit{ea} + |t|/8 \leq |S.\href{#syntax-store}{\mathsf{mems}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]].\href{#syntax-meminst}{\mathsf{data}}| \\
  \wedge &amp; S' = S \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-store}{\mathsf{mems}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]].\href{#syntax-meminst}{\mathsf{data}}[\mathit{ea} \href{#notation-slice}{\mathrel{\mathbf{:}}} |t|/8] = \href{#aux-bytes}{\mathrm{bytes}}_t(c)
  \end{array}
\\[1ex]
\begin{array}{lcl&#64;{\qquad}l}
S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i)~(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c)~(t.\href{#syntax-instr-memory}{\mathsf{store}}{N}~\href{#syntax-memarg}{\mathit{memarg}}) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S'; F; \epsilon
\end{array}
\\ \qquad
  \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
  (\mathrel{\mbox{if}} &amp; \mathit{ea} = i + \href{#syntax-memarg}{\mathit{memarg}}.\href{#syntax-instr-memory}{\mathsf{offset}} \\
  \wedge &amp; \mathit{ea} + N/8 \leq |S.\href{#syntax-store}{\mathsf{mems}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]].\href{#syntax-meminst}{\mathsf{data}}| \\
  \wedge &amp; S' = S \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-store}{\mathsf{mems}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]].\href{#syntax-meminst}{\mathsf{data}}[\mathit{ea} \href{#notation-slice}{\mathrel{\mathbf{:}}} N/8] = \href{#aux-bytes}{\mathrm{bytes}}_{\href{#syntax-int}{\def\mathdef1491#1{{\mathit{i}#1}}\mathdef1491{N}}}(\href{#op-wrap}{\mathrm{wrap}}_{|t|,N}(c))
  \end{array}
\\[1ex]
\begin{array}{lcl&#64;{\qquad}l}
S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~k)~(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c)~(t.\href{#syntax-instr-memory}{\mathsf{store}}{N}^?~\href{#syntax-memarg}{\mathit{memarg}}) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; F; \href{#syntax-trap}{\mathsf{trap}}
\end{array}
\\ \qquad
  (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-memory-size">
<span id="id15"></span><h5><span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{memory.size}}\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-memory-size"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the <a class="reference internal" href="index.html#syntax-memaddr"><span class="std std-ref">memory address</span></a> <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-memory-size"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}[a]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{mem}\)</span> be the <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}[a]\)</span>.</li>
<li>Let <span class="math notranslate">\(\mathit{sz}\)</span> be the length of <span class="math notranslate">\(\mathit{mem}.\href{#syntax-meminst}{\mathsf{data}}\)</span> divided by the <a class="reference internal" href="index.html#page-size"><span class="std std-ref">page size</span></a>.</li>
<li>Push the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\mathit{sz}\)</span> to the stack.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{l}
\begin{array}{lcl&#64;{\qquad}l}
S; F; \href{#syntax-instr-memory}{\mathsf{memory.size}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\mathit{sz})
\end{array}
\\ \qquad
  (\mathrel{\mbox{if}} |S.\href{#syntax-store}{\mathsf{mems}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]].\href{#syntax-meminst}{\mathsf{data}}| = \mathit{sz}\cdot64\,\mathrm{Ki}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-memory-grow">
<span id="id16"></span><h5><span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{memory.grow}}\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-memory-grow"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the <a class="reference internal" href="index.html#syntax-memaddr"><span class="std std-ref">memory address</span></a> <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-memory-grow"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}[a]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{mem}\)</span> be the <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}[a]\)</span>.</li>
<li>Let <span class="math notranslate">\(\mathit{sz}\)</span> be the length of <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}[a]\)</span> divided by the <a class="reference internal" href="index.html#page-size"><span class="std std-ref">page size</span></a>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-memory-grow"><span class="std std-ref">validation</span></a>, a value of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~n\)</span> from the stack.</li>
<li>Either, try <a class="reference internal" href="index.html#grow-mem"><span class="std std-ref">growing</span></a> <span class="math notranslate">\(\mathit{mem}\)</span> by <span class="math notranslate">\(n\)</span> <a class="reference internal" href="index.html#page-size"><span class="std std-ref">pages</span></a>:<ol class="loweralpha">
<li>If it succeeds, push the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\mathit{sz}\)</span> to the stack.</li>
<li>Else, push the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~(-1)\)</span> to the stack.</li>
</ol>
</li>
<li>Or, push the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~(-1)\)</span> to the stack.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{l}
\begin{array}{lcl&#64;{\qquad}l}
S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~n)~\href{#syntax-instr-memory}{\mathsf{memory.grow}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; S'; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\mathit{sz})
\end{array}
\\ \qquad
  \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
  (\mathrel{\mbox{if}} &amp; F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[0] = a \\
  \wedge &amp; \mathit{sz} = |S.\href{#syntax-store}{\mathsf{mems}}[a].\href{#syntax-meminst}{\mathsf{data}}|/64\,\mathrm{Ki} \\
  \wedge &amp; S' = S \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-store}{\mathsf{mems}}[a] = \href{#grow-mem}{\mathrm{growmem}}(S.\href{#syntax-store}{\mathsf{mems}}[a], n)) \\
  \end{array}
\\[1ex]
\begin{array}{lcl&#64;{\qquad}l}
S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~n)~\href{#syntax-instr-memory}{\mathsf{memory.grow}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~{-1})
\end{array}
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{memory.grow}}\)</span> instruction is non-deterministic.
It may either succeed, returning the old memory size <span class="math notranslate">\(\mathit{sz}\)</span>,
or fail, returning <span class="math notranslate">\({-1}\)</span>.
Failure <em>must</em> occur if the referenced memory instance has a maximum size defined that would be exceeded.
However, failure <em>can</em> occur in other cases as well.
In practice, the choice depends on the <a class="reference internal" href="index.html#impl-exec"><span class="std std-ref">resources</span></a> available to the <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a>.</p>
</div>
</div>
</div>
<div class="section" id="control-instructions">
<span id="exec-instr-control"></span><span id="exec-label"></span><span id="index-5"></span><h4>Control Instructions</h4>
<div class="section" id="exec-nop">
<span id="id17"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{nop}}\)</span></h5>
<ol class="arabic simple">
<li>Do nothing.</li>
</ol>
<div class="math notranslate">
\[\begin{array}{lcl&#64;{\qquad}l}
\href{#syntax-instr-control}{\mathsf{nop}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; \epsilon
\end{array}\]</div>
</div>
<div class="section" id="exec-unreachable">
<span id="id18"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{unreachable}}\)</span></h5>
<ol class="arabic simple">
<li>Trap.</li>
</ol>
<div class="math notranslate">
\[\begin{array}{lcl&#64;{\qquad}l}
\href{#syntax-instr-control}{\mathsf{unreachable}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; \href{#syntax-trap}{\mathsf{trap}}
\end{array}\]</div>
</div>
<div class="section" id="exec-block">
<span id="id19"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{block}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-blocktype"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(\href{#syntax-frame}{\mathrm{expand}}_F(\href{#syntax-blocktype}{\mathit{blocktype}})\)</span> is defined.</li>
<li>Let <span class="math notranslate">\([t_1^m] \href{#syntax-functype}{\rightarrow} [t_2^n]\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\href{#syntax-frame}{\mathrm{expand}}_F(\href{#syntax-blocktype}{\mathit{blocktype}})\)</span>.</li>
<li>Let <span class="math notranslate">\(L\)</span> be the label whose arity is <span class="math notranslate">\(n\)</span> and whose continuation is the end of the block.</li>
<li><a class="reference internal" href="#exec-instr-seq-enter"><span class="std std-ref">Enter</span></a> the block <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> with label <span class="math notranslate">\(L\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{lcl&#64;{\qquad}l}
F; \href{#syntax-instr-control}{\mathsf{block}}~\mathit{bt}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} &amp;\href{#formal-notation}{\hookrightarrow}&amp;
  F; \href{#syntax-label}{\mathsf{label}}_n\{\epsilon\}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}
  &amp; (\mathrel{\mbox{if}} \href{#syntax-frame}{\mathrm{expand}}_F(\mathit{bt}) = [t_1^m] \href{#syntax-functype}{\rightarrow} [t_2^n])
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-loop">
<span id="id20"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{loop}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-blocktype"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(\href{#syntax-frame}{\mathrm{expand}}_F(\href{#syntax-blocktype}{\mathit{blocktype}})\)</span> is defined.</li>
<li>Let <span class="math notranslate">\([t_1^m] \href{#syntax-functype}{\rightarrow} [t_2^n]\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\href{#syntax-frame}{\mathrm{expand}}_F(\href{#syntax-blocktype}{\mathit{blocktype}})\)</span>.</li>
<li>Let <span class="math notranslate">\(L\)</span> be the label whose arity is <span class="math notranslate">\(m\)</span> and whose continuation is the start of the loop.</li>
<li><a class="reference internal" href="#exec-instr-seq-enter"><span class="std std-ref">Enter</span></a> the block <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> with label <span class="math notranslate">\(L\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{lcl&#64;{\qquad}l}
F; \href{#syntax-instr-control}{\mathsf{loop}}~\mathit{bt}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} &amp;\href{#formal-notation}{\hookrightarrow}&amp;
  F; \href{#syntax-label}{\mathsf{label}}_m\{\href{#syntax-instr-control}{\mathsf{loop}}~\mathit{bt}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}\}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}
  &amp; (\mathrel{\mbox{if}} \href{#syntax-frame}{\mathrm{expand}}_F(\mathit{bt}) = [t_1^m] \href{#syntax-functype}{\rightarrow} [t_2^n])
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-if">
<span id="id21"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{if}}~\href{#syntax-blocktype}{\mathit{blocktype}}~\href{#syntax-instr}{\mathit{instr}}_1^\ast~\href{#syntax-instr-control}{\mathsf{else}}~\href{#syntax-instr}{\mathit{instr}}_2^\ast~\href{#syntax-instr-control}{\mathsf{end}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-blocktype"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(\href{#syntax-frame}{\mathrm{expand}}_F(\href{#syntax-blocktype}{\mathit{blocktype}})\)</span> is defined.</li>
<li>Let <span class="math notranslate">\([t_1^m] \href{#syntax-functype}{\rightarrow} [t_2^n]\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\href{#syntax-frame}{\mathrm{expand}}_F(\href{#syntax-blocktype}{\mathit{blocktype}})\)</span>.</li>
<li>Let <span class="math notranslate">\(L\)</span> be the label whose arity is <span class="math notranslate">\(n\)</span> and whose continuation is the end of the <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{if}}\)</span> instruction.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-if"><span class="std std-ref">validation</span></a>, a value of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span> from the stack.</li>
<li>If <span class="math notranslate">\(c\)</span> is non-zero, then:<ol class="loweralpha">
<li><a class="reference internal" href="#exec-instr-seq-enter"><span class="std std-ref">Enter</span></a> the block <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}_1^\ast\)</span> with label <span class="math notranslate">\(L\)</span>.</li>
</ol>
</li>
<li>Else:<ol class="loweralpha">
<li><a class="reference internal" href="#exec-instr-seq-enter"><span class="std std-ref">Enter</span></a> the block <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}_2^\ast\)</span> with label <span class="math notranslate">\(L\)</span>.</li>
</ol>
</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{lcl&#64;{\qquad}l}
F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~c)~\href{#syntax-instr-control}{\mathsf{if}}~\mathit{bt}~\href{#syntax-instr}{\mathit{instr}}_1^\ast~\href{#syntax-instr-control}{\mathsf{else}}~\href{#syntax-instr}{\mathit{instr}}_2^\ast~\href{#syntax-instr-control}{\mathsf{end}} &amp;\href{#formal-notation}{\hookrightarrow}&amp;
  F; \href{#syntax-label}{\mathsf{label}}_n\{\epsilon\}~\href{#syntax-instr}{\mathit{instr}}_1^\ast~\href{#syntax-instr-control}{\mathsf{end}}
  &amp; (\mathrel{\mbox{if}} c \neq 0 \wedge \href{#syntax-frame}{\mathrm{expand}}_F(\mathit{bt}) = [t_1^m] \href{#syntax-functype}{\rightarrow} [t_2^n]) \\
F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~c)~\href{#syntax-instr-control}{\mathsf{if}}~\mathit{bt}~\href{#syntax-instr}{\mathit{instr}}_1^\ast~\href{#syntax-instr-control}{\mathsf{else}}~\href{#syntax-instr}{\mathit{instr}}_2^\ast~\href{#syntax-instr-control}{\mathsf{end}} &amp;\href{#formal-notation}{\hookrightarrow}&amp;
  F; \href{#syntax-label}{\mathsf{label}}_n\{\epsilon\}~\href{#syntax-instr}{\mathit{instr}}_2^\ast~\href{#syntax-instr-control}{\mathsf{end}}
  &amp; (\mathrel{\mbox{if}} c = 0 \wedge \href{#syntax-frame}{\mathrm{expand}}_F(\mathit{bt}) = [t_1^m] \href{#syntax-functype}{\rightarrow} [t_2^n]) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-br">
<span id="id22"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br}}~l\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-br"><span class="std std-ref">validation</span></a>, the stack contains at least <span class="math notranslate">\(l+1\)</span> labels.</li>
<li>Let <span class="math notranslate">\(L\)</span> be the <span class="math notranslate">\(l\)</span>-th label appearing on the stack, starting from the top and counting from zero.</li>
<li>Let <span class="math notranslate">\(n\)</span> be the arity of <span class="math notranslate">\(L\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-br"><span class="std std-ref">validation</span></a>, there are at least <span class="math notranslate">\(n\)</span> values on the top of the stack.</li>
<li>Pop the values <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^n\)</span> from the stack.</li>
<li>Repeat <span class="math notranslate">\(l+1\)</span> times:<ol class="loweralpha">
<li>While the top of the stack is a value, do:<ol class="lowerroman">
<li>Pop the value from the stack.</li>
</ol>
</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-br"><span class="std std-ref">validation</span></a>, the top of the stack now is a label.</li>
<li>Pop the label from the stack.</li>
</ol>
</li>
<li>Push the values <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^n\)</span> to the stack.</li>
<li>Jump to the continuation of <span class="math notranslate">\(L\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{lcl&#64;{\qquad}l}
\href{#syntax-label}{\mathsf{label}}_n\{\href{#syntax-instr}{\mathit{instr}}^\ast\}~\href{#syntax-ctxt-block}{B}^l[\href{#syntax-val}{\mathit{val}}^n~(\href{#syntax-instr-control}{\mathsf{br}}~l)]~\href{#syntax-instr-control}{\mathsf{end}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; \href{#syntax-val}{\mathit{val}}^n~\href{#syntax-instr}{\mathit{instr}}^\ast
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-br-if">
<span id="id23"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br\_if}}~l\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-br-if"><span class="std std-ref">validation</span></a>, a value of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span> from the stack.</li>
<li>If <span class="math notranslate">\(c\)</span> is non-zero, then:<ol class="loweralpha">
<li><a class="reference internal" href="#exec-br"><span class="std std-ref">Execute</span></a> the instruction <span class="math notranslate">\((\href{#syntax-instr-control}{\mathsf{br}}~l)\)</span>.</li>
</ol>
</li>
<li>Else:<ol class="loweralpha">
<li>Do nothing.</li>
</ol>
</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{lcl&#64;{\qquad}l}
(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~c)~(\href{#syntax-instr-control}{\mathsf{br\_if}}~l) &amp;\href{#formal-notation}{\hookrightarrow}&amp; (\href{#syntax-instr-control}{\mathsf{br}}~l)
  &amp; (\mathrel{\mbox{if}} c \neq 0) \\
(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~c)~(\href{#syntax-instr-control}{\mathsf{br\_if}}~l) &amp;\href{#formal-notation}{\hookrightarrow}&amp; \epsilon
  &amp; (\mathrel{\mbox{if}} c = 0) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-br-table">
<span id="id24"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br\_table}}~l^\ast~l_N\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-if"><span class="std std-ref">validation</span></a>, a value of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i\)</span> from the stack.</li>
<li>If <span class="math notranslate">\(i\)</span> is smaller than the length of <span class="math notranslate">\(l^\ast\)</span>, then:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(l_i\)</span> be the label <span class="math notranslate">\(l^\ast[i]\)</span>.</li>
<li><a class="reference internal" href="#exec-br"><span class="std std-ref">Execute</span></a> the instruction <span class="math notranslate">\((\href{#syntax-instr-control}{\mathsf{br}}~l_i)\)</span>.</li>
</ol>
</li>
<li>Else:<ol class="loweralpha">
<li><a class="reference internal" href="#exec-br"><span class="std std-ref">Execute</span></a> the instruction <span class="math notranslate">\((\href{#syntax-instr-control}{\mathsf{br}}~l_N)\)</span>.</li>
</ol>
</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{lcl&#64;{\qquad}l}
(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i)~(\href{#syntax-instr-control}{\mathsf{br\_table}}~l^\ast~l_N) &amp;\href{#formal-notation}{\hookrightarrow}&amp; (\href{#syntax-instr-control}{\mathsf{br}}~l_i)
  &amp; (\mathrel{\mbox{if}} l^\ast[i] = l_i) \\
(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i)~(\href{#syntax-instr-control}{\mathsf{br\_table}}~l^\ast~l_N) &amp;\href{#formal-notation}{\hookrightarrow}&amp; (\href{#syntax-instr-control}{\mathsf{br}}~l_N)
  &amp; (\mathrel{\mbox{if}} |l^\ast| \leq i) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-return">
<span id="id25"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{return}}\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Let <span class="math notranslate">\(n\)</span> be the arity of <span class="math notranslate">\(F\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-return"><span class="std std-ref">validation</span></a>, there are at least <span class="math notranslate">\(n\)</span> values on the top of the stack.</li>
<li>Pop the results <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^n\)</span> from the stack.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-return"><span class="std std-ref">validation</span></a>, the stack contains at least one <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>While the top of the stack is not a frame, do:<ol class="loweralpha">
<li>Pop the top element from the stack.</li>
</ol>
</li>
<li>Assert: the top of the stack is the frame <span class="math notranslate">\(F\)</span>.</li>
<li>Pop the frame from the stack.</li>
<li>Push <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^n\)</span> to the stack.</li>
<li>Jump to the instruction after the original call that pushed the frame.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{lcl&#64;{\qquad}l}
\href{#syntax-frame}{\mathsf{frame}}_n\{F\}~\href{#syntax-ctxt-block}{B}^k[\href{#syntax-val}{\mathit{val}}^n~\href{#syntax-instr-control}{\mathsf{return}}]~\href{#syntax-instr-control}{\mathsf{end}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; \href{#syntax-val}{\mathit{val}}^n
\end{array}\end{split}\]</div>
</div>
<div class="section" id="exec-call">
<span id="id26"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{call}}~x\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-call"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{funcaddrs}}[x]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{funcaddrs}}[x]\)</span>.</li>
<li><a class="reference internal" href="#exec-invoke"><span class="std std-ref">Invoke</span></a> the function instance at address <span class="math notranslate">\(a\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{array}{lcl&#64;{\qquad}l}
F; (\href{#syntax-instr-control}{\mathsf{call}}~x) &amp;\href{#formal-notation}{\hookrightarrow}&amp; F; (\href{#syntax-invoke}{\mathsf{invoke}}~a)
  &amp; (\mathrel{\mbox{if}} F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{funcaddrs}}[x] = a)
\end{array}\]</div>
</div>
<div class="section" id="exec-call-indirect">
<span id="id27"></span><h5><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{call\_indirect}}~x\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-call-indirect"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{tableaddrs}}[0]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{ta}\)</span> be the <a class="reference internal" href="index.html#syntax-tableaddr"><span class="std std-ref">table address</span></a> <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{tableaddrs}}[0]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-call-indirect"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{tables}}[\mathit{ta}]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{tab}\)</span> be the <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instance</span></a> <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{tables}}[\mathit{ta}]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-call-indirect"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{types}}[x]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{ft}_{\mathrm{expect}}\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{types}}[x]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-call-indirect"><span class="std std-ref">validation</span></a>, a value with <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span> is on the top of the stack.</li>
<li>Pop the value <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i\)</span> from the stack.</li>
<li>If <span class="math notranslate">\(i\)</span> is not smaller than the length of <span class="math notranslate">\(\mathit{tab}.\href{#syntax-tableinst}{\mathsf{elem}}\)</span>, then:<ol class="loweralpha">
<li>Trap.</li>
</ol>
</li>
<li>If <span class="math notranslate">\(\mathit{tab}.\href{#syntax-tableinst}{\mathsf{elem}}[i]\)</span> is uninitialized, then:<ol class="loweralpha">
<li>Trap.</li>
</ol>
</li>
<li>Let <span class="math notranslate">\(a\)</span> be the <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> <span class="math notranslate">\(\mathit{tab}.\href{#syntax-tableinst}{\mathsf{elem}}[i]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-call-indirect"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{funcs}}[a]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{f}\)</span> be the <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">function instance</span></a> <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{funcs}}[a]\)</span>.</li>
<li>Let <span class="math notranslate">\(\mathit{ft}_{\mathrm{actual}}\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\mathit{f}.\href{#syntax-funcinst}{\mathsf{type}}\)</span>.</li>
<li>If <span class="math notranslate">\(\mathit{ft}_{\mathrm{actual}}\)</span> and <span class="math notranslate">\(\mathit{ft}_{\mathrm{expect}}\)</span> differ, then:<ol class="loweralpha">
<li>Trap.</li>
</ol>
</li>
<li><a class="reference internal" href="#exec-invoke"><span class="std std-ref">Invoke</span></a> the function instance at address <span class="math notranslate">\(a\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{l}
\begin{array}{lcl&#64;{\qquad}l}
S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i)~(\href{#syntax-instr-control}{\mathsf{call\_indirect}}~x) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; F; (\href{#syntax-invoke}{\mathsf{invoke}}~a)
\end{array}
\\ \qquad
  \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
  (\mathrel{\mbox{if}} &amp; S.\href{#syntax-store}{\mathsf{tables}}[F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{tableaddrs}}[0]].\href{#syntax-tableinst}{\mathsf{elem}}[i] = a \\
  \wedge &amp; S.\href{#syntax-store}{\mathsf{funcs}}[a] = f \\
  \wedge &amp; F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{types}}[x] = f.\href{#syntax-funcinst}{\mathsf{type}})
  \end{array}
\\[1ex]
\begin{array}{lcl&#64;{\qquad}l}
S; F; (\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~i)~(\href{#syntax-instr-control}{\mathsf{call\_indirect}}~x) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; F; \href{#syntax-trap}{\mathsf{trap}}
\end{array}
\\ \qquad
  (\mathrel{\mbox{otherwise}})
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="blocks">
<span id="exec-instr-seq"></span><span id="index-6"></span><h4>Blocks</h4>
<p>The following auxiliary rules define the semantics of executing an <a class="reference internal" href="index.html#syntax-instr-seq"><span class="std std-ref">instruction sequence</span></a>
that forms a <a class="reference internal" href="#exec-instr-control"><span class="std std-ref">block</span></a>.</p>
<div class="section" id="entering-with-label">
<span id="exec-instr-seq-enter"></span><h5>Entering <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> with label <span class="math notranslate">\(L\)</span></h5>
<ol class="arabic simple">
<li>Push <span class="math notranslate">\(L\)</span> to the stack.</li>
<li>Jump to the start of the instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span>.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">No formal reduction rule is needed for entering an instruction sequence,
because the label <span class="math notranslate">\(L\)</span> is embedded in the <a class="reference internal" href="index.html#syntax-instr-admin"><span class="std std-ref">administrative instruction</span></a> that structured control instructions reduce to directly.</p>
</div>
</div>
<div class="section" id="exiting-with-label">
<span id="exec-instr-seq-exit"></span><h5>Exiting <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> with label <span class="math notranslate">\(L\)</span></h5>
<p>When the end of a block is reached without a jump or trap aborting it, then the following steps are performed.</p>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(m\)</span> be the number of values on the top of the stack.</li>
<li>Pop the values <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^m\)</span> from the stack.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-instr-seq"><span class="std std-ref">validation</span></a>, the label <span class="math notranslate">\(L\)</span> is now on the top of the stack.</li>
<li>Pop the label from the stack.</li>
<li>Push <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^m\)</span> back to the stack.</li>
<li>Jump to the position after the <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{end}}\)</span> of the <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">structured control instruction</span></a> associated with the label <span class="math notranslate">\(L\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{lcl&#64;{\qquad}l}
\href{#syntax-label}{\mathsf{label}}_n\{\href{#syntax-instr}{\mathit{instr}}^\ast\}~\href{#syntax-val}{\mathit{val}}^m~\href{#syntax-instr-control}{\mathsf{end}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; \href{#syntax-val}{\mathit{val}}^m
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This semantics also applies to the instruction sequence contained in a <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{loop}}\)</span> instruction.
Therefore, execution of a loop falls off the end, unless a backwards branch is performed explicitly.</p>
</div>
</div>
</div>
<div class="section" id="function-calls">
<span id="index-7"></span><h4>Function Calls</h4>
<p>The following auxiliary rules define the semantics of invoking a <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">function instance</span></a>
through one of the <a class="reference internal" href="#exec-instr-control"><span class="std std-ref">call instructions</span></a>
and returning from it.</p>
<div class="section" id="invocation-of-function-address">
<span id="exec-invoke"></span><h5>Invocation of <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> <span class="math notranslate">\(a\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-call"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{funcs}}[a]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(f\)</span> be the <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">function instance</span></a>, <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{funcs}}[a]\)</span>.</li>
<li>Let <span class="math notranslate">\([t_1^n] \href{#syntax-functype}{\rightarrow} [t_2^m]\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(f.\href{#syntax-funcinst}{\mathsf{type}}\)</span>.</li>
<li>Let <span class="math notranslate">\(t^\ast\)</span> be the list of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(f.\href{#syntax-funcinst}{\mathsf{code}}.\href{#syntax-func}{\mathsf{locals}}\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}\)</span> be the <a class="reference internal" href="index.html#syntax-expr"><span class="std std-ref">expression</span></a> <span class="math notranslate">\(f.\href{#syntax-funcinst}{\mathsf{code}}.\href{#syntax-func}{\mathsf{body}}\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-call"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(n\)</span> values are on the top of the stack.</li>
<li>Pop the values <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^n\)</span> from the stack.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_0^\ast\)</span> be the list of zero values of types <span class="math notranslate">\(t^\ast\)</span>.</li>
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a> <span class="math notranslate">\(\{ \href{#syntax-frame}{\mathsf{module}}~f.\href{#syntax-funcinst}{\mathsf{module}}, \href{#syntax-frame}{\mathsf{locals}}~\href{#syntax-val}{\mathit{val}}^n~\href{#syntax-val}{\mathit{val}}_0^\ast \}\)</span>.</li>
<li>Push the activation of <span class="math notranslate">\(F\)</span> with arity <span class="math notranslate">\(m\)</span> to the stack.</li>
<li>Let <span class="math notranslate">\(L\)</span> be the <a class="reference internal" href="index.html#syntax-label"><span class="std std-ref">label</span></a> whose arity is <span class="math notranslate">\(m\)</span> and whose continuation is the end of the function.</li>
<li><a class="reference internal" href="#exec-instr-seq-enter"><span class="std std-ref">Enter</span></a> the instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> with label <span class="math notranslate">\(L\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{l}
\begin{array}{lcl&#64;{\qquad}l}
S; \href{#syntax-val}{\mathit{val}}^n~(\href{#syntax-invoke}{\mathsf{invoke}}~a) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; \href{#syntax-frame}{\mathsf{frame}}_m\{F\}~\href{#syntax-label}{\mathsf{label}}_m\{\}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}~\href{#syntax-instr-control}{\mathsf{end}}
\end{array}
\\ \qquad
  \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
  (\mathrel{\mbox{if}} &amp; S.\href{#syntax-store}{\mathsf{funcs}}[a] = f \\
  \wedge &amp; f.\href{#syntax-funcinst}{\mathsf{type}} = [t_1^n] \href{#syntax-functype}{\rightarrow} [t_2^m] \\
  \wedge &amp; f.\href{#syntax-funcinst}{\mathsf{code}} = \{ \href{#syntax-func}{\mathsf{type}}~x, \href{#syntax-func}{\mathsf{locals}}~t^k, \href{#syntax-func}{\mathsf{body}}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \} \\
  \wedge &amp; F = \{ \href{#syntax-frame}{\mathsf{module}}~f.\href{#syntax-funcinst}{\mathsf{module}}, ~\href{#syntax-frame}{\mathsf{locals}}~\href{#syntax-val}{\mathit{val}}^n~(t.\href{#syntax-instr-numeric}{\mathsf{const}}~0)^k \})
  \end{array} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="returning-from-a-function">
<span id="exec-invoke-exit"></span><h5>Returning from a function</h5>
<p>When the end of a function is reached without a jump (i.e., <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{return}}\)</span>) or trap aborting it, then the following steps are performed.</p>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a>.</li>
<li>Let <span class="math notranslate">\(n\)</span> be the arity of the activation of <span class="math notranslate">\(F\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-instr-seq"><span class="std std-ref">validation</span></a>, there are <span class="math notranslate">\(n\)</span> values on the top of the stack.</li>
<li>Pop the results <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^n\)</span> from the stack.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-func"><span class="std std-ref">validation</span></a>, the frame <span class="math notranslate">\(F\)</span> is now on the top of the stack.</li>
<li>Pop the frame from the stack.</li>
<li>Push <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^n\)</span> back to the stack.</li>
<li>Jump to the instruction after the original call.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{lcl&#64;{\qquad}l}
\href{#syntax-frame}{\mathsf{frame}}_n\{F\}~\href{#syntax-val}{\mathit{val}}^n~\href{#syntax-instr-control}{\mathsf{end}} &amp;\href{#formal-notation}{\hookrightarrow}&amp; \href{#syntax-val}{\mathit{val}}^n
\end{array}\end{split}\]</div>
</div>
<div class="section" id="host-functions">
<span id="exec-invoke-host"></span><span id="index-8"></span><h5>Host Functions</h5>
<p>Invoking a <a class="reference internal" href="index.html#syntax-hostfunc"><span class="std std-ref">host function</span></a> has non-deterministic behavior.
It may either terminate with a <a class="reference internal" href="index.html#trap"><span class="std std-ref">trap</span></a> or return regularly.
However, in the latter case, it must consume and produce the right number and types of WebAssembly <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> on the stack,
according to its <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a>.</p>
<p>A host function may also modify the <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a>.
However, all store modifications must result in an <a class="reference internal" href="index.html#extend-store"><span class="std std-ref">extension</span></a> of the original store, i.e., they must only modify mutable contents and must not have instances removed.
Furthermore, the resulting store must be <a class="reference internal" href="index.html#valid-store"><span class="std std-ref">valid</span></a>, i.e., all data and code in it is well-typed.</p>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{l}
\begin{array}{lcl&#64;{\qquad}l}
S; \href{#syntax-val}{\mathit{val}}^n~(\href{#syntax-invoke}{\mathsf{invoke}}~a) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S'; \href{#syntax-result}{\mathit{result}}
\end{array}
\\ \qquad
  \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
  (\mathrel{\mbox{if}} &amp; S.\href{#syntax-store}{\mathsf{funcs}}[a] = \{ \href{#syntax-funcinst}{\mathsf{type}}~[t_1^n] \href{#syntax-functype}{\rightarrow} [t_2^m], \href{#syntax-funcinst}{\mathsf{hostcode}}~\mathit{hf} \} \\
  \wedge &amp; (S'; \href{#syntax-result}{\mathit{result}}) \in \mathit{hf}(S; \href{#syntax-val}{\mathit{val}}^n)) \\
  \end{array} \\
\begin{array}{lcl&#64;{\qquad}l}
S; \href{#syntax-val}{\mathit{val}}^n~(\href{#syntax-invoke}{\mathsf{invoke}}~a) &amp;\href{#formal-notation}{\hookrightarrow}&amp; S; \href{#syntax-val}{\mathit{val}}^n~(\href{#syntax-invoke}{\mathsf{invoke}}~a)
\end{array}
\\ \qquad
  \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
  (\mathrel{\mbox{if}} &amp; S.\href{#syntax-store}{\mathsf{funcs}}[a] = \{ \href{#syntax-funcinst}{\mathsf{type}}~[t_1^n] \href{#syntax-functype}{\rightarrow} [t_2^m], \href{#syntax-funcinst}{\mathsf{hostcode}}~\mathit{hf} \} \\
  \wedge &amp; \bot \in \mathit{hf}(S; \href{#syntax-val}{\mathit{val}}^n)) \\
  \end{array} \\
\end{array}\end{split}\]</div>
<p>Here, <span class="math notranslate">\(\mathit{hf}(S; \href{#syntax-val}{\mathit{val}}^n)\)</span> denotes the implementation-defined execution of host function <span class="math notranslate">\(\mathit{hf}\)</span> in current store <span class="math notranslate">\(S\)</span> with arguments <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^n\)</span>.
It yields a set of possible outcomes, where each element is either a pair of a modified store <span class="math notranslate">\(S'\)</span> and a <a class="reference internal" href="index.html#syntax-result"><span class="std std-ref">result</span></a>
or the special value <span class="math notranslate">\(\bot\)</span> indicating divergence.
A host function is non-deterministic if there is at least one argument for which the set of outcomes is not singular.</p>
<p>For a WebAssembly implementation to be <a class="reference internal" href="index.html#soundness"><span class="std std-ref">sound</span></a> in the presence of host functions,
every <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">host function instance</span></a> must be <a class="reference internal" href="index.html#valid-hostfuncinst"><span class="std std-ref">valid</span></a>,
which means that it adheres to suitable pre- and post-conditions:
under a <a class="reference internal" href="index.html#valid-store"><span class="std std-ref">valid store</span></a> <span class="math notranslate">\(S\)</span>, and given arguments <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^n\)</span> matching the ascribed parameter types <span class="math notranslate">\(t_1^n\)</span>,
executing the host function must yield a non-empty set of possible outcomes each of which is either divergence or consists of a valid store <span class="math notranslate">\(S'\)</span> that is an <a class="reference internal" href="index.html#extend-store"><span class="std std-ref">extension</span></a> of <span class="math notranslate">\(S\)</span> and a result matching the ascribed return types <span class="math notranslate">\(t_2^m\)</span>.
All these notions are made precise in the <a class="reference internal" href="index.html#soundness"><span class="std std-ref">Appendix</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A host function can call back into WebAssembly by <a class="reference internal" href="index.html#exec-invocation"><span class="std std-ref">invoking</span></a> a function <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">exported</span></a> from a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.
However, the effects of any such call are subsumed by the non-deterministic behavior allowed for the host function.</p>
</div>
</div>
</div>
<div class="section" id="expressions">
<span id="exec-expr"></span><span id="index-9"></span><h4>Expressions</h4>
<p>An <a class="reference internal" href="index.html#syntax-expr"><span class="std std-ref">expression</span></a> is <em>evaluated</em> relative to a <a class="reference internal" href="index.html#exec-notation-textual"><span class="std std-ref">current</span></a> <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a> pointing to its containing <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module instance</span></a>.</p>
<ol class="arabic simple">
<li>Jump to the start of the instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> of the expression.</li>
<li>Execute the instruction sequence.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-expr"><span class="std std-ref">validation</span></a>, the top of the stack contains a <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">value</span></a>.</li>
<li>Pop the <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">value</span></a> <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> from the stack.</li>
</ol>
<p>The value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> is the result of the evaluation.</p>
<div class="math notranslate">
\[\frac{
  S; F; \href{#syntax-instr}{\mathit{instr}}^\ast \href{#formal-notation}{\hookrightarrow} S'; F'; \href{#syntax-instr}{\mathit{instr}}'^\ast
}{
  S; F; \href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \href{#formal-notation}{\hookrightarrow} S'; F'; \href{#syntax-instr}{\mathit{instr}}'^\ast~\href{#syntax-instr-control}{\mathsf{end}}
}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Evaluation iterates this reduction rule until reaching a value.
Expressions constituting <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a> bodies are executed during function <a class="reference internal" href="#exec-invoke"><span class="std std-ref">invocation</span></a>.</p>
</div>
</div>
</div>
<span id="document-exec/modules"></span><div class="section" id="modules">
<h3>Modules</h3>
<p>For modules, the execution semantics primarily defines <a class="reference internal" href="#exec-instantiation"><span class="std std-ref">instantiation</span></a>, which <a class="reference internal" href="#alloc"><span class="std std-ref">allocates</span></a> instances for a module and its contained definitions, inititializes <a class="reference internal" href="index.html#syntax-table"><span class="std std-ref">tables</span></a> and <a class="reference internal" href="index.html#syntax-mem"><span class="std std-ref">memories</span></a> from contained <a class="reference internal" href="index.html#syntax-elem"><span class="std std-ref">element</span></a> and <a class="reference internal" href="index.html#syntax-data"><span class="std std-ref">data</span></a> segments, and invokes the <a class="reference internal" href="index.html#syntax-start"><span class="std std-ref">start function</span></a> if present. It also includes <a class="reference internal" href="#exec-invocation"><span class="std std-ref">invocation</span></a> of exported functions.</p>
<p>Instantiation depends on a number of auxiliary notions for <a class="reference internal" href="#exec-import"><span class="std std-ref">type-checking imports</span></a> and <a class="reference internal" href="#alloc"><span class="std std-ref">allocating</span></a> instances.</p>
<div class="section" id="external-typing">
<span id="valid-externval"></span><span id="index-0"></span><h4>External Typing</h4>
<p>For the purpose of checking <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external values</span></a> against <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">imports</span></a>,
such values are classified by <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a>.
The following auxiliary typing rules specify this typing relation relative to a <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a> <span class="math notranslate">\(S\)</span> in which the referenced instances live.</p>
<div class="section" id="valid-externval-func">
<span id="index-1"></span><span id="id1"></span><h5><span class="math notranslate">\(\href{#syntax-externval}{\mathsf{func}}~a\)</span></h5>
<ul class="simple">
<li>The store entry <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{funcs}}[a]\)</span> must be a <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">function instance</span></a> <span class="math notranslate">\(\{\href{#syntax-funcinst}{\mathsf{type}}~\href{#syntax-functype}{\mathit{functype}}, \dots\}\)</span>.</li>
<li>Then <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{func}}~a\)</span> is valid with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S.\href{#syntax-store}{\mathsf{funcs}}[a] = \{\href{#syntax-funcinst}{\mathsf{type}}~\href{#syntax-functype}{\mathit{functype}}, \dots\}
}{
  S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{func}}~a : \href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}}
}\]</div>
</div>
<div class="section" id="valid-externval-table">
<span id="index-2"></span><span id="id2"></span><h5><span class="math notranslate">\(\href{#syntax-externval}{\mathsf{table}}~a\)</span></h5>
<ul class="simple">
<li>The store entry <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{tables}}[a]\)</span> must be a <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instance</span></a> <span class="math notranslate">\(\{\href{#syntax-tableinst}{\mathsf{elem}}~(\mathit{fa}^?)^n, \href{#syntax-tableinst}{\mathsf{max}}~m^?\}\)</span>.</li>
<li>Then <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{table}}~a\)</span> is valid with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{table}}~(\{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}~\href{#syntax-elemtype}{\mathsf{funcref}})\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S.\href{#syntax-store}{\mathsf{tables}}[a] = \{ \href{#syntax-tableinst}{\mathsf{elem}}~(\mathit{fa}^?)^n, \href{#syntax-tableinst}{\mathsf{max}}~m^? \}
}{
  S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{table}}~a : \href{#syntax-externtype}{\mathsf{table}}~(\{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}~\href{#syntax-elemtype}{\mathsf{funcref}})
}\]</div>
</div>
<div class="section" id="valid-externval-mem">
<span id="index-3"></span><span id="id3"></span><h5><span class="math notranslate">\(\href{#syntax-externval}{\mathsf{mem}}~a\)</span></h5>
<ul class="simple">
<li>The store entry <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}[a]\)</span> must be a <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(\{\href{#syntax-meminst}{\mathsf{data}}~b^{n\cdot64\,\mathrm{Ki}}, \href{#syntax-meminst}{\mathsf{max}}~m^?\}\)</span>, for some <span class="math notranslate">\(n\)</span>.</li>
<li>Then <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{mem}}~a\)</span> is valid with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{mem}}~(\{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\})\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S.\href{#syntax-store}{\mathsf{mems}}[a] = \{ \href{#syntax-meminst}{\mathsf{data}}~b^{n\cdot64\,\mathrm{Ki}}, \href{#syntax-meminst}{\mathsf{max}}~m^? \}
}{
  S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{mem}}~a : \href{#syntax-externtype}{\mathsf{mem}}~\{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}
}\]</div>
</div>
<div class="section" id="valid-externval-global">
<span id="index-4"></span><span id="id4"></span><h5><span class="math notranslate">\(\href{#syntax-externval}{\mathsf{global}}~a\)</span></h5>
<ul class="simple">
<li>The store entry <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{globals}}[a]\)</span> must be a <a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">global instance</span></a> <span class="math notranslate">\(\{\href{#syntax-globalinst}{\mathsf{value}}~(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c), \href{#syntax-globalinst}{\mathsf{mut}}~\href{#syntax-mut}{\mathit{mut}}\}\)</span>.</li>
<li>Then <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{global}}~a\)</span> is valid with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{global}}~(\href{#syntax-mut}{\mathit{mut}}~t)\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S.\href{#syntax-store}{\mathsf{globals}}[a] = \{ \href{#syntax-globalinst}{\mathsf{value}}~(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c), \href{#syntax-globalinst}{\mathsf{mut}}~\href{#syntax-mut}{\mathit{mut}} \}
}{
  S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{global}}~a : \href{#syntax-externtype}{\mathsf{global}}~(\href{#syntax-mut}{\mathit{mut}}~t)
}\]</div>
</div>
</div>
<div class="section" id="import-matching">
<span id="match"></span><span id="exec-import"></span><span id="index-5"></span><h4>Import Matching</h4>
<p>When <a class="reference internal" href="#exec-module"><span class="std std-ref">instantiating</span></a> a module,
<a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external values</span></a> must be provided whose <a class="reference internal" href="#valid-externval"><span class="std std-ref">types</span></a> are <em>matched</em> against the respective <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a> classifying each import.
In some cases, this allows for a simple form of subtyping, as defined below.</p>
<div class="section" id="limits">
<span id="match-limits"></span><span id="index-6"></span><h5>Limits</h5>
<p><a class="reference internal" href="index.html#syntax-limits"><span class="std std-ref">Limits</span></a> <span class="math notranslate">\(\{ \href{#syntax-limits}{\mathsf{min}}~n_1, \href{#syntax-limits}{\mathsf{max}}~m_1^? \}\)</span> match limits <span class="math notranslate">\(\{ \href{#syntax-limits}{\mathsf{min}}~n_2, \href{#syntax-limits}{\mathsf{max}}~m_2^? \}\)</span> if and only if:</p>
<ul class="simple">
<li><span class="math notranslate">\(n_1\)</span> is larger than or equal to <span class="math notranslate">\(n_2\)</span>.</li>
<li>Either:<ul>
<li><span class="math notranslate">\(m_2^?\)</span> is empty.</li>
</ul>
</li>
<li>Or:<ul>
<li>Both <span class="math notranslate">\(m_1^?\)</span> and <span class="math notranslate">\(m_2^?\)</span> are non-empty.</li>
<li><span class="math notranslate">\(m_1\)</span> is smaller than or equal to <span class="math notranslate">\(m_2\)</span>.</li>
</ul>
</li>
</ul>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\frac{
  n_1 \geq n_2
}{
  \href{#match-limits}{\vdash} \{ \href{#syntax-limits}{\mathsf{min}}~n_1, \href{#syntax-limits}{\mathsf{max}}~m_1^? \} \href{#match}{\leq} \{ \href{#syntax-limits}{\mathsf{min}}~n_2, \href{#syntax-limits}{\mathsf{max}}~\epsilon \}
}
\quad
\frac{
  n_1 \geq n_2
  \qquad
  m_1 \leq m_2
}{
  \href{#match-limits}{\vdash} \{ \href{#syntax-limits}{\mathsf{min}}~n_1, \href{#syntax-limits}{\mathsf{max}}~m_1 \} \href{#match}{\leq} \{ \href{#syntax-limits}{\mathsf{min}}~n_2, \href{#syntax-limits}{\mathsf{max}}~m_2 \}
}\end{split}\]</div>
<span class="target" id="match-externtype"></span></div>
<div class="section" id="functions">
<span id="match-functype"></span><span id="index-7"></span><h5>Functions</h5>
<p>An <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}}_1\)</span> matches <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}}_2\)</span> if and only if:</p>
<ul class="simple">
<li>Both <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}_1\)</span> and <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}_2\)</span> are the same.</li>
</ul>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\frac{
}{
  \href{#match-externtype}{\vdash} \href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}} \href{#match}{\leq} \href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}}
}\end{split}\]</div>
</div>
<div class="section" id="tables">
<span id="match-tabletype"></span><span id="index-8"></span><h5>Tables</h5>
<p>An <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{table}}~(\href{#syntax-limits}{\mathit{limits}}_1~\href{#syntax-elemtype}{\mathit{elemtype}}_1)\)</span> matches <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{table}}~(\href{#syntax-limits}{\mathit{limits}}_2~\href{#syntax-elemtype}{\mathit{elemtype}}_2)\)</span> if and only if:</p>
<ul class="simple">
<li>Limits <span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}_1\)</span> <a class="reference internal" href="#match-limits"><span class="std std-ref">match</span></a> <span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}_2\)</span>.</li>
<li>Both <span class="math notranslate">\(\href{#syntax-elemtype}{\mathit{elemtype}}_1\)</span> and <span class="math notranslate">\(\href{#syntax-elemtype}{\mathit{elemtype}}_2\)</span> are the same.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#match-limits}{\vdash} \href{#syntax-limits}{\mathit{limits}}_1 \href{#match}{\leq} \href{#syntax-limits}{\mathit{limits}}_2
}{
  \href{#match-externtype}{\vdash} \href{#syntax-externtype}{\mathsf{table}}~(\href{#syntax-limits}{\mathit{limits}}_1~\href{#syntax-elemtype}{\mathit{elemtype}}) \href{#match}{\leq} \href{#syntax-externtype}{\mathsf{table}}~(\href{#syntax-limits}{\mathit{limits}}_2~\href{#syntax-elemtype}{\mathit{elemtype}})
}\]</div>
</div>
<div class="section" id="memories">
<span id="match-memtype"></span><span id="index-9"></span><h5>Memories</h5>
<p>An <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-limits}{\mathit{limits}}_1\)</span> matches <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-limits}{\mathit{limits}}_2\)</span> if and only if:</p>
<ul class="simple">
<li>Limits <span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}_1\)</span> <a class="reference internal" href="#match-limits"><span class="std std-ref">match</span></a> <span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}_2\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#match-limits}{\vdash} \href{#syntax-limits}{\mathit{limits}}_1 \href{#match}{\leq} \href{#syntax-limits}{\mathit{limits}}_2
}{
  \href{#match-externtype}{\vdash} \href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-limits}{\mathit{limits}}_1 \href{#match}{\leq} \href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-limits}{\mathit{limits}}_2
}\]</div>
</div>
<div class="section" id="globals">
<span id="match-globaltype"></span><span id="index-10"></span><h5>Globals</h5>
<p>An <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}}_1\)</span> matches <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}}_2\)</span> if and only if:</p>
<ul class="simple">
<li>Both <span class="math notranslate">\(\href{#syntax-globaltype}{\mathit{globaltype}}_1\)</span> and <span class="math notranslate">\(\href{#syntax-globaltype}{\mathit{globaltype}}_2\)</span> are the same.</li>
</ul>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\frac{
}{
  \href{#match-externtype}{\vdash} \href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}} \href{#match}{\leq} \href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}}
}\end{split}\]</div>
</div>
</div>
<div class="section" id="allocation">
<span id="alloc"></span><span id="index-11"></span><h4>Allocation</h4>
<p>New instances of <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">functions</span></a>, <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">tables</span></a>, <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memories</span></a>, and <a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">globals</span></a> are <em>allocated</em> in a <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a> <span class="math notranslate">\(S\)</span>, as defined by the following auxiliary functions.</p>
<div class="section" id="alloc-func">
<span id="index-12"></span><span id="id5"></span><h5><a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">Functions</span></a></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(\href{#syntax-func}{\mathit{func}}\)</span> be the <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a> to allocate and <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span> its <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module instance</span></a>.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the first free <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> in <span class="math notranslate">\(S\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{types}}[\href{#syntax-func}{\mathit{func}}.\href{#syntax-func}{\mathsf{type}}]\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-funcinst}{\mathit{funcinst}}\)</span> be the <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">function instance</span></a> <span class="math notranslate">\(\{ \href{#syntax-funcinst}{\mathsf{type}}~\href{#syntax-functype}{\mathit{functype}}, \href{#syntax-funcinst}{\mathsf{module}}~\href{#syntax-moduleinst}{\mathit{moduleinst}}, \href{#syntax-funcinst}{\mathsf{code}}~\href{#syntax-func}{\mathit{func}} \}\)</span>.</li>
<li>Append <span class="math notranslate">\(\href{#syntax-funcinst}{\mathit{funcinst}}\)</span> to the <span class="math notranslate">\(\href{#syntax-store}{\mathsf{funcs}}\)</span> of <span class="math notranslate">\(S\)</span>.</li>
<li>Return <span class="math notranslate">\(a\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{rlll}
\href{#alloc-func}{\mathrm{allocfunc}}(S, \href{#syntax-func}{\mathit{func}}, \href{#syntax-moduleinst}{\mathit{moduleinst}}) &amp;=&amp; S', \href{#syntax-funcaddr}{\mathit{funcaddr}} \\[1ex]
\mbox{where:} \hfill \\
\href{#syntax-funcaddr}{\mathit{funcaddr}} &amp;=&amp; |S.\href{#syntax-store}{\mathsf{funcs}}| \\
\href{#syntax-functype}{\mathit{functype}} &amp;=&amp; \href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{types}}[\href{#syntax-func}{\mathit{func}}.\href{#syntax-func}{\mathsf{type}}] \\
\href{#syntax-funcinst}{\mathit{funcinst}} &amp;=&amp; \{ \href{#syntax-funcinst}{\mathsf{type}}~\href{#syntax-functype}{\mathit{functype}}, \href{#syntax-funcinst}{\mathsf{module}}~\href{#syntax-moduleinst}{\mathit{moduleinst}}, \href{#syntax-funcinst}{\mathsf{code}}~\href{#syntax-func}{\mathit{func}} \} \\
S' &amp;=&amp; S \href{#notation-compose}{\oplus} \{\href{#syntax-store}{\mathsf{funcs}}~\href{#syntax-funcinst}{\mathit{funcinst}}\} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="host-functions">
<span id="alloc-hostfunc"></span><span id="index-13"></span><h5><a class="reference internal" href="index.html#syntax-hostfunc"><span class="std std-ref">Host Functions</span></a></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(\href{#syntax-hostfunc}{\mathit{hostfunc}}\)</span> be the <a class="reference internal" href="index.html#syntax-hostfunc"><span class="std std-ref">host function</span></a> to allocate and <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}\)</span> its <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a>.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the first free <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> in <span class="math notranslate">\(S\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-funcinst}{\mathit{funcinst}}\)</span> be the <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">function instance</span></a> <span class="math notranslate">\(\{ \href{#syntax-funcinst}{\mathsf{type}}~\href{#syntax-functype}{\mathit{functype}}, \href{#syntax-funcinst}{\mathsf{hostcode}}~\href{#syntax-hostfunc}{\mathit{hostfunc}} \}\)</span>.</li>
<li>Append <span class="math notranslate">\(\href{#syntax-funcinst}{\mathit{funcinst}}\)</span> to the <span class="math notranslate">\(\href{#syntax-store}{\mathsf{funcs}}\)</span> of <span class="math notranslate">\(S\)</span>.</li>
<li>Return <span class="math notranslate">\(a\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{rlll}
\href{#alloc-hostfunc}{\mathrm{allochostfunc}}(S, \href{#syntax-functype}{\mathit{functype}}, \href{#syntax-hostfunc}{\mathit{hostfunc}}) &amp;=&amp; S', \href{#syntax-funcaddr}{\mathit{funcaddr}} \\[1ex]
\mbox{where:} \hfill \\
\href{#syntax-funcaddr}{\mathit{funcaddr}} &amp;=&amp; |S.\href{#syntax-store}{\mathsf{funcs}}| \\
\href{#syntax-funcinst}{\mathit{funcinst}} &amp;=&amp; \{ \href{#syntax-funcinst}{\mathsf{type}}~\href{#syntax-functype}{\mathit{functype}}, \href{#syntax-funcinst}{\mathsf{hostcode}}~\href{#syntax-hostfunc}{\mathit{hostfunc}} \} \\
S' &amp;=&amp; S \href{#notation-compose}{\oplus} \{\href{#syntax-store}{\mathsf{funcs}}~\href{#syntax-funcinst}{\mathit{funcinst}}\} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Host functions are never allocated by the WebAssembly semantics itself,
but may be allocated by the <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a>.</p>
</div>
</div>
<div class="section" id="alloc-table">
<span id="index-14"></span><span id="id6"></span><h5><a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">Tables</span></a></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(\href{#syntax-tabletype}{\mathit{tabletype}}\)</span> be the <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table type</span></a> to allocate.</li>
<li>Let <span class="math notranslate">\((\{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}~\href{#syntax-elemtype}{\mathit{elemtype}})\)</span> be the structure of <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate">\(\href{#syntax-tabletype}{\mathit{tabletype}}\)</span>.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the first free <a class="reference internal" href="index.html#syntax-tableaddr"><span class="std std-ref">table address</span></a> in <span class="math notranslate">\(S\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}\)</span> be the <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instance</span></a> <span class="math notranslate">\(\{ \href{#syntax-tableinst}{\mathsf{elem}}~(\epsilon)^n, \href{#syntax-tableinst}{\mathsf{max}}~m^? \}\)</span> with <span class="math notranslate">\(n\)</span> empty elements.</li>
<li>Append <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}\)</span> to the <span class="math notranslate">\(\href{#syntax-store}{\mathsf{tables}}\)</span> of <span class="math notranslate">\(S\)</span>.</li>
<li>Return <span class="math notranslate">\(a\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{rlll}
\href{#alloc-table}{\mathrm{alloctable}}(S, \href{#syntax-tabletype}{\mathit{tabletype}}) &amp;=&amp; S', \href{#syntax-tableaddr}{\mathit{tableaddr}} \\[1ex]
\mbox{where:} \hfill \\
\href{#syntax-tabletype}{\mathit{tabletype}} &amp;=&amp; \{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}~\href{#syntax-elemtype}{\mathit{elemtype}} \\
\href{#syntax-tableaddr}{\mathit{tableaddr}} &amp;=&amp; |S.\href{#syntax-store}{\mathsf{tables}}| \\
\href{#syntax-tableinst}{\mathit{tableinst}} &amp;=&amp; \{ \href{#syntax-tableinst}{\mathsf{elem}}~(\epsilon)^n, \href{#syntax-tableinst}{\mathsf{max}}~m^? \} \\
S' &amp;=&amp; S \href{#notation-compose}{\oplus} \{\href{#syntax-store}{\mathsf{tables}}~\href{#syntax-tableinst}{\mathit{tableinst}}\} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="alloc-mem">
<span id="index-15"></span><span id="id7"></span><h5><a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">Memories</span></a></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(\href{#syntax-memtype}{\mathit{memtype}}\)</span> be the <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory type</span></a> to allocate.</li>
<li>Let <span class="math notranslate">\(\{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}\)</span> be the structure of <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory type</span></a> <span class="math notranslate">\(\href{#syntax-memtype}{\mathit{memtype}}\)</span>.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the first free <a class="reference internal" href="index.html#syntax-memaddr"><span class="std std-ref">memory address</span></a> in <span class="math notranslate">\(S\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}\)</span> be the <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(\{ \href{#syntax-meminst}{\mathsf{data}}~(\def\mathdef1595#1{\mathtt{0x#1}}\mathdef1595{00})^{n \cdot 64\,\mathrm{Ki}}, \href{#syntax-meminst}{\mathsf{max}}~m^? \}\)</span> that contains <span class="math notranslate">\(n\)</span> pages of zeroed <a class="reference internal" href="index.html#syntax-byte"><span class="std std-ref">bytes</span></a>.</li>
<li>Append <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}\)</span> to the <span class="math notranslate">\(\href{#syntax-store}{\mathsf{mems}}\)</span> of <span class="math notranslate">\(S\)</span>.</li>
<li>Return <span class="math notranslate">\(a\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{rlll}
\href{#alloc-mem}{\mathrm{allocmem}}(S, \href{#syntax-memtype}{\mathit{memtype}}) &amp;=&amp; S', \href{#syntax-memaddr}{\mathit{memaddr}} \\[1ex]
\mbox{where:} \hfill \\
\href{#syntax-memtype}{\mathit{memtype}} &amp;=&amp; \{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\} \\
\href{#syntax-memaddr}{\mathit{memaddr}} &amp;=&amp; |S.\href{#syntax-store}{\mathsf{mems}}| \\
\href{#syntax-meminst}{\mathit{meminst}} &amp;=&amp; \{ \href{#syntax-meminst}{\mathsf{data}}~(\def\mathdef1596#1{\mathtt{0x#1}}\mathdef1596{00})^{n \cdot 64\,\mathrm{Ki}}, \href{#syntax-meminst}{\mathsf{max}}~m^? \} \\
S' &amp;=&amp; S \href{#notation-compose}{\oplus} \{\href{#syntax-store}{\mathsf{mems}}~\href{#syntax-meminst}{\mathit{meminst}}\} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="alloc-global">
<span id="index-16"></span><span id="id8"></span><h5><a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">Globals</span></a></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(\href{#syntax-globaltype}{\mathit{globaltype}}\)</span> be the <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a> to allocate and <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span> the <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">value</span></a> to initialize the global with.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-mut}{\mathit{mut}}~t\)</span> be the structure of <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate">\(\href{#syntax-globaltype}{\mathit{globaltype}}\)</span>.</li>
<li>Let <span class="math notranslate">\(a\)</span> be the first free <a class="reference internal" href="index.html#syntax-globaladdr"><span class="std std-ref">global address</span></a> in <span class="math notranslate">\(S\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-globalinst}{\mathit{globalinst}}\)</span> be the <a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">global instance</span></a> <span class="math notranslate">\(\{ \href{#syntax-globalinst}{\mathsf{value}}~\href{#syntax-val}{\mathit{val}}, \href{#syntax-globalinst}{\mathsf{mut}}~\href{#syntax-mut}{\mathit{mut}} \}\)</span>.</li>
<li>Append <span class="math notranslate">\(\href{#syntax-globalinst}{\mathit{globalinst}}\)</span> to the <span class="math notranslate">\(\href{#syntax-store}{\mathsf{globals}}\)</span> of <span class="math notranslate">\(S\)</span>.</li>
<li>Return <span class="math notranslate">\(a\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{rlll}
\href{#alloc-global}{\mathrm{allocglobal}}(S, \href{#syntax-globaltype}{\mathit{globaltype}}, \href{#syntax-val}{\mathit{val}}) &amp;=&amp; S', \href{#syntax-globaladdr}{\mathit{globaladdr}} \\[1ex]
\mbox{where:} \hfill \\
\href{#syntax-globaltype}{\mathit{globaltype}} &amp;=&amp; \href{#syntax-mut}{\mathit{mut}}~t \\
\href{#syntax-globaladdr}{\mathit{globaladdr}} &amp;=&amp; |S.\href{#syntax-store}{\mathsf{globals}}| \\
\href{#syntax-globalinst}{\mathit{globalinst}} &amp;=&amp; \{ \href{#syntax-globalinst}{\mathsf{value}}~\href{#syntax-val}{\mathit{val}}, \href{#syntax-globalinst}{\mathsf{mut}}~\href{#syntax-mut}{\mathit{mut}} \} \\
S' &amp;=&amp; S \href{#notation-compose}{\oplus} \{\href{#syntax-store}{\mathsf{globals}}~\href{#syntax-globalinst}{\mathit{globalinst}}\} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="growing-tables">
<span id="grow-table"></span><span id="index-17"></span><h5>Growing <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">tables</span></a></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}\)</span> be the <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instance</span></a> to grow and <span class="math notranslate">\(n\)</span> the number of elements by which to grow it.</li>
<li>Let <span class="math notranslate">\(\mathit{len}\)</span> be <span class="math notranslate">\(n\)</span> added to the length of <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}.\href{#syntax-tableinst}{\mathsf{elem}}\)</span>.</li>
<li>If <span class="math notranslate">\(\mathit{len}\)</span> is larger than <span class="math notranslate">\(2^{32}\)</span>, then fail.</li>
<li>If <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}.\href{#syntax-tableinst}{\mathsf{max}}\)</span> is not empty and smaller than <span class="math notranslate">\(\mathit{len}\)</span>, then fail.</li>
<li>Append <span class="math notranslate">\(n\)</span> empty elements to <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}.\href{#syntax-tableinst}{\mathsf{elem}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{rllll}
\href{#grow-table}{\mathrm{growtable}}(\href{#syntax-tableinst}{\mathit{tableinst}}, n) &amp;=&amp; \href{#syntax-tableinst}{\mathit{tableinst}} \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-tableinst}{\mathsf{elem}} = \href{#syntax-tableinst}{\mathit{tableinst}}.\href{#syntax-tableinst}{\mathsf{elem}}~(\epsilon)^n \\
  &amp;&amp; (
    \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
    \mathrel{\mbox{if}} &amp; \mathit{len} = n + |\href{#syntax-tableinst}{\mathit{tableinst}}.\href{#syntax-tableinst}{\mathsf{elem}}| \\
    \wedge &amp; \mathit{len} \leq 2^{32} \\
    \wedge &amp; (\href{#syntax-tableinst}{\mathit{tableinst}}.\href{#syntax-tableinst}{\mathsf{max}} = \epsilon \vee \mathit{len} \leq \href{#syntax-tableinst}{\mathit{tableinst}}.\href{#syntax-tableinst}{\mathsf{max}})) \\
    \end{array} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="growing-memories">
<span id="grow-mem"></span><span id="index-18"></span><h5>Growing <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memories</span></a></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}\)</span> be the <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> to grow and <span class="math notranslate">\(n\)</span> the number of <a class="reference internal" href="index.html#page-size"><span class="std std-ref">pages</span></a> by which to grow it.</li>
<li>Assert: The length of <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}.\href{#syntax-meminst}{\mathsf{data}}\)</span> is divisible by the <a class="reference internal" href="index.html#page-size"><span class="std std-ref">page size</span></a> <span class="math notranslate">\(64\,\mathrm{Ki}\)</span>.</li>
<li>Let <span class="math notranslate">\(\mathit{len}\)</span> be <span class="math notranslate">\(n\)</span> added to the length of <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}.\href{#syntax-meminst}{\mathsf{data}}\)</span> divided by the <a class="reference internal" href="index.html#page-size"><span class="std std-ref">page size</span></a> <span class="math notranslate">\(64\,\mathrm{Ki}\)</span>.</li>
<li>If <span class="math notranslate">\(\mathit{len}\)</span> is larger than <span class="math notranslate">\(2^{16}\)</span>, then fail.</li>
<li>If <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}.\href{#syntax-meminst}{\mathsf{max}}\)</span> is not empty and its value is smaller than <span class="math notranslate">\(\mathit{len}\)</span>, then fail.</li>
<li>Append <span class="math notranslate">\(n\)</span> times <span class="math notranslate">\(64\,\mathrm{Ki}\)</span> <a class="reference internal" href="index.html#syntax-byte"><span class="std std-ref">bytes</span></a> with value <span class="math notranslate">\(\def\mathdef1597#1{\mathtt{0x#1}}\mathdef1597{00}\)</span> to <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}.\href{#syntax-meminst}{\mathsf{data}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{rllll}
\href{#grow-mem}{\mathrm{growmem}}(\href{#syntax-meminst}{\mathit{meminst}}, n) &amp;=&amp; \href{#syntax-meminst}{\mathit{meminst}} \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-meminst}{\mathsf{data}} = \href{#syntax-meminst}{\mathit{meminst}}.\href{#syntax-meminst}{\mathsf{data}}~(\def\mathdef1598#1{\mathtt{0x#1}}\mathdef1598{00})^{n \cdot 64\,\mathrm{Ki}} \\
  &amp;&amp; (
    \begin{array}[t]{&#64;{}r&#64;{~}l&#64;{}}
    \mathrel{\mbox{if}} &amp; \mathit{len} = n + |\href{#syntax-meminst}{\mathit{meminst}}.\href{#syntax-meminst}{\mathsf{data}}| / 64\,\mathrm{Ki} \\
    \wedge &amp; \mathit{len} \leq 2^{16} \\
    \wedge &amp; (\href{#syntax-meminst}{\mathit{meminst}}.\href{#syntax-meminst}{\mathsf{max}} = \epsilon \vee \mathit{len} \leq \href{#syntax-meminst}{\mathit{meminst}}.\href{#syntax-meminst}{\mathsf{max}})) \\
    \end{array} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="alloc-module">
<span id="index-19"></span><span id="id9"></span><h5><a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">Modules</span></a></h5>
<p>The allocation function for <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">modules</span></a> requires a suitable list of <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external values</span></a> that are assumed to <a class="reference internal" href="#match-externtype"><span class="std std-ref">match</span></a> the <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">import</span></a> vector of the module,
and a list of initialization <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> for the module’s <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">globals</span></a>.</p>
<p>1. Let <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}\)</span> be the <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a> to allocate and <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{im}}^\ast\)</span> the vector of <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external values</span></a> providing the module’s imports,
and <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span> the initialization <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> of the module’s <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">globals</span></a>.</p>
<ol class="arabic simple" start="2">
<li>For each <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a> <span class="math notranslate">\(\href{#syntax-func}{\mathit{func}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{funcs}}\)</span>, do:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> resulting from <a class="reference internal" href="#alloc-func"><span class="std std-ref">allocating</span></a> <span class="math notranslate">\(\href{#syntax-func}{\mathit{func}}_i\)</span> for the <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module instance</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span> defined below.</li>
</ol>
</li>
<li>For each <a class="reference internal" href="index.html#syntax-table"><span class="std std-ref">table</span></a> <span class="math notranslate">\(\href{#syntax-table}{\mathit{table}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{tables}}\)</span>, do:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(\href{#syntax-tableaddr}{\mathit{tableaddr}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-tableaddr"><span class="std std-ref">table address</span></a> resulting from <a class="reference internal" href="#alloc-table"><span class="std std-ref">allocating</span></a> <span class="math notranslate">\(\href{#syntax-table}{\mathit{table}}_i.\href{#syntax-table}{\mathsf{type}}\)</span>.</li>
</ol>
</li>
<li>For each <a class="reference internal" href="index.html#syntax-mem"><span class="std std-ref">memory</span></a> <span class="math notranslate">\(\href{#syntax-mem}{\mathit{mem}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{mems}}\)</span>, do:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(\href{#syntax-memaddr}{\mathit{memaddr}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-memaddr"><span class="std std-ref">memory address</span></a> resulting from <a class="reference internal" href="#alloc-mem"><span class="std std-ref">allocating</span></a> <span class="math notranslate">\(\href{#syntax-mem}{\mathit{mem}}_i.\href{#syntax-mem}{\mathsf{type}}\)</span>.</li>
</ol>
</li>
<li>For each <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">global</span></a> <span class="math notranslate">\(\href{#syntax-global}{\mathit{global}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{globals}}\)</span>, do:<ol class="loweralpha">
<li>Let <span class="math notranslate">\(\href{#syntax-globaladdr}{\mathit{globaladdr}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-globaladdr"><span class="std std-ref">global address</span></a> resulting from <a class="reference internal" href="#alloc-global"><span class="std std-ref">allocating</span></a> <span class="math notranslate">\(\href{#syntax-global}{\mathit{global}}_i.\href{#syntax-global}{\mathsf{type}}\)</span> with initializer value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast[i]\)</span>.</li>
</ol>
</li>
<li>Let <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}^\ast\)</span> be the the concatenation of the <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function addresses</span></a> <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}_i\)</span> in index order.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-tableaddr}{\mathit{tableaddr}}^\ast\)</span> be the the concatenation of the <a class="reference internal" href="index.html#syntax-tableaddr"><span class="std std-ref">table addresses</span></a> <span class="math notranslate">\(\href{#syntax-tableaddr}{\mathit{tableaddr}}_i\)</span> in index order.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-memaddr}{\mathit{memaddr}}^\ast\)</span> be the the concatenation of the <a class="reference internal" href="index.html#syntax-memaddr"><span class="std std-ref">memory addresses</span></a> <span class="math notranslate">\(\href{#syntax-memaddr}{\mathit{memaddr}}_i\)</span> in index order.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-globaladdr}{\mathit{globaladdr}}^\ast\)</span> be the the concatenation of the <a class="reference internal" href="index.html#syntax-globaladdr"><span class="std std-ref">global addresses</span></a> <span class="math notranslate">\(\href{#syntax-globaladdr}{\mathit{globaladdr}}_i\)</span> in index order.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}_{\mathrm{mod}}^\ast\)</span> be the list of <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function addresses</span></a> extracted from <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{im}}^\ast\)</span>, concatenated with <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}^\ast\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-tableaddr}{\mathit{tableaddr}}_{\mathrm{mod}}^\ast\)</span> be the list of <a class="reference internal" href="index.html#syntax-tableaddr"><span class="std std-ref">table addresses</span></a> extracted from <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{im}}^\ast\)</span>, concatenated with <span class="math notranslate">\(\href{#syntax-tableaddr}{\mathit{tableaddr}}^\ast\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-memaddr}{\mathit{memaddr}}_{\mathrm{mod}}^\ast\)</span> be the list of <a class="reference internal" href="index.html#syntax-memaddr"><span class="std std-ref">memory addresses</span></a> extracted from <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{im}}^\ast\)</span>, concatenated with <span class="math notranslate">\(\href{#syntax-memaddr}{\mathit{memaddr}}^\ast\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-globaladdr}{\mathit{globaladdr}}_{\mathrm{mod}}^\ast\)</span> be the list of <a class="reference internal" href="index.html#syntax-globaladdr"><span class="std std-ref">global addresses</span></a> extracted from <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{im}}^\ast\)</span>, concatenated with <span class="math notranslate">\(\href{#syntax-globaladdr}{\mathit{globaladdr}}^\ast\)</span>.</li>
<li>For each <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">export</span></a> <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{exports}}\)</span>, do:<ol class="loweralpha">
<li>If <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}_i\)</span> is a function export for <a class="reference internal" href="index.html#syntax-funcidx"><span class="std std-ref">function index</span></a> <span class="math notranslate">\(x\)</span>, then let <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{func}}~(\href{#syntax-funcaddr}{\mathit{funcaddr}}_{\mathrm{mod}}^\ast[x])\)</span>.</li>
<li>Else, if <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}_i\)</span> is a table export for <a class="reference internal" href="index.html#syntax-tableidx"><span class="std std-ref">table index</span></a> <span class="math notranslate">\(x\)</span>, then let <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{table}}~(\href{#syntax-tableaddr}{\mathit{tableaddr}}_{\mathrm{mod}}^\ast[x])\)</span>.</li>
<li>Else, if <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}_i\)</span> is a memory export for <a class="reference internal" href="index.html#syntax-memidx"><span class="std std-ref">memory index</span></a> <span class="math notranslate">\(x\)</span>, then let <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{mem}}~(\href{#syntax-memaddr}{\mathit{memaddr}}_{\mathrm{mod}}^\ast[x])\)</span>.</li>
<li>Else, if <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}_i\)</span> is a global export for <a class="reference internal" href="index.html#syntax-globalidx"><span class="std std-ref">global index</span></a> <span class="math notranslate">\(x\)</span>, then let <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{global}}~(\href{#syntax-globaladdr}{\mathit{globaladdr}}_{\mathrm{mod}}^\ast[x])\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-exportinst}{\mathit{exportinst}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-exportinst"><span class="std std-ref">export instance</span></a> <span class="math notranslate">\(\{\href{#syntax-exportinst}{\mathsf{name}}~(\href{#syntax-export}{\mathit{export}}_i.\href{#syntax-export}{\mathsf{name}}), \href{#syntax-exportinst}{\mathsf{value}}~\href{#syntax-externval}{\mathit{externval}}_i\}\)</span>.</li>
</ol>
</li>
<li>Let <span class="math notranslate">\(\href{#syntax-exportinst}{\mathit{exportinst}}^\ast\)</span> be the the concatenation of the <a class="reference internal" href="index.html#syntax-exportinst"><span class="std std-ref">export instances</span></a> <span class="math notranslate">\(\href{#syntax-exportinst}{\mathit{exportinst}}_i\)</span> in index order.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span> be the <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module instance</span></a> <span class="math notranslate">\(\{\href{#syntax-moduleinst}{\mathsf{types}}~(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{types}}),\)</span> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathsf{funcaddrs}}~\href{#syntax-funcaddr}{\mathit{funcaddr}}_{\mathrm{mod}}^\ast,\)</span> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathsf{tableaddrs}}~\href{#syntax-tableaddr}{\mathit{tableaddr}}_{\mathrm{mod}}^\ast,\)</span> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathsf{memaddrs}}~\href{#syntax-memaddr}{\mathit{memaddr}}_{\mathrm{mod}}^\ast,\)</span> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathsf{globaladdrs}}~\href{#syntax-globaladdr}{\mathit{globaladdr}}_{\mathrm{mod}}^\ast,\)</span> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathsf{exports}}~\href{#syntax-exportinst}{\mathit{exportinst}}^\ast\}\)</span>.</li>
<li>Return <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\
\begin{array}{rlll}
\href{#alloc-module}{\mathrm{allocmodule}}(S, \href{#syntax-module}{\mathit{module}}, \href{#syntax-externval}{\mathit{externval}}_{\mathrm{im}}^\ast, \href{#syntax-val}{\mathit{val}}^\ast) &amp;=&amp; S', \href{#syntax-moduleinst}{\mathit{moduleinst}}    \end{array}\end{split}\]</div>
<p>where:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{rlll}
\href{#syntax-moduleinst}{\mathit{moduleinst}} &amp;=&amp; \{~
  \begin{array}[t]{&#64;{}l&#64;{}}
  \href{#syntax-moduleinst}{\mathsf{types}}~\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{types}}, \\
  \href{#syntax-moduleinst}{\mathsf{funcaddrs}}~\href{#syntax-externval}{\mathrm{funcs}}(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{im}}^\ast)~\href{#syntax-funcaddr}{\mathit{funcaddr}}^\ast, \\
  \href{#syntax-moduleinst}{\mathsf{tableaddrs}}~\href{#syntax-externval}{\mathrm{tables}}(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{im}}^\ast)~\href{#syntax-tableaddr}{\mathit{tableaddr}}^\ast, \\
  \href{#syntax-moduleinst}{\mathsf{memaddrs}}~\href{#syntax-externval}{\mathrm{mems}}(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{im}}^\ast)~\href{#syntax-memaddr}{\mathit{memaddr}}^\ast, \\
  \href{#syntax-moduleinst}{\mathsf{globaladdrs}}~\href{#syntax-externval}{\mathrm{globals}}(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{im}}^\ast)~\href{#syntax-globaladdr}{\mathit{globaladdr}}^\ast, \\
  \href{#syntax-moduleinst}{\mathsf{exports}}~\href{#syntax-exportinst}{\mathit{exportinst}}^\ast ~\}
  \end{array} \\[1ex]
S_1, \href{#syntax-funcaddr}{\mathit{funcaddr}}^\ast &amp;=&amp; \href{#alloc-func}{\mathrm{allocfunc}}^\ast(S, \href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{funcs}}, \href{#syntax-moduleinst}{\mathit{moduleinst}}) \\
S_2, \href{#syntax-tableaddr}{\mathit{tableaddr}}^\ast &amp;=&amp; \href{#alloc-table}{\mathrm{alloctable}}^\ast(S_1, (\href{#syntax-table}{\mathit{table}}.\href{#syntax-table}{\mathsf{type}})^\ast)
  \qquad\qquad\qquad~ (\mathrel{\mbox{where}} \href{#syntax-table}{\mathit{table}}^\ast = \href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{tables}}) \\
S_3, \href{#syntax-memaddr}{\mathit{memaddr}}^\ast &amp;=&amp; \href{#alloc-mem}{\mathrm{allocmem}}^\ast(S_2, (\href{#syntax-mem}{\mathit{mem}}.\href{#syntax-mem}{\mathsf{type}})^\ast)
  \qquad\qquad\qquad~ (\mathrel{\mbox{where}} \href{#syntax-mem}{\mathit{mem}}^\ast = \href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{mems}}) \\
S', \href{#syntax-globaladdr}{\mathit{globaladdr}}^\ast &amp;=&amp; \href{#alloc-global}{\mathrm{allocglobal}}^\ast(S_3, (\href{#syntax-global}{\mathit{global}}.\href{#syntax-global}{\mathsf{type}})^\ast, \href{#syntax-val}{\mathit{val}}^\ast)
  \qquad\quad~ (\mathrel{\mbox{where}} \href{#syntax-global}{\mathit{global}}^\ast = \href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{globals}}) \\
\href{#syntax-exportinst}{\mathit{exportinst}}^\ast &amp;=&amp; \{ \href{#syntax-exportinst}{\mathsf{name}}~(\href{#syntax-export}{\mathit{export}}.\href{#syntax-export}{\mathsf{name}}), \href{#syntax-exportinst}{\mathsf{value}}~\href{#syntax-externval}{\mathit{externval}}_{\mathrm{ex}} \}^\ast
  \quad (\mathrel{\mbox{where}} \href{#syntax-export}{\mathit{export}}^\ast = \href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{exports}}) \\[1ex]
\href{#syntax-externval}{\mathrm{funcs}}(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{ex}}^\ast) &amp;=&amp; (\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{funcaddrs}}[x])^\ast
  \qquad~ (\mathrel{\mbox{where}} x^\ast = \href{#syntax-exportdesc}{\mathrm{funcs}}(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{exports}})) \\
\href{#syntax-externval}{\mathrm{tables}}(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{ex}}^\ast) &amp;=&amp; (\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{tableaddrs}}[x])^\ast
  \qquad (\mathrel{\mbox{where}} x^\ast = \href{#syntax-exportdesc}{\mathrm{tables}}(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{exports}})) \\
\href{#syntax-externval}{\mathrm{mems}}(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{ex}}^\ast) &amp;=&amp; (\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[x])^\ast
  \qquad (\mathrel{\mbox{where}} x^\ast = \href{#syntax-exportdesc}{\mathrm{mems}}(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{exports}})) \\
\href{#syntax-externval}{\mathrm{globals}}(\href{#syntax-externval}{\mathit{externval}}_{\mathrm{ex}}^\ast) &amp;=&amp; (\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{globaladdrs}}[x])^\ast
  \qquad\!\!\! (\mathrel{\mbox{where}} x^\ast = \href{#syntax-exportdesc}{\mathrm{globals}}(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{exports}})) \\
\end{array}\end{split}\]</div>
<p>Here, the notation <span class="math notranslate">\(\mathrm{allocx}^\ast\)</span> is shorthand for multiple <a class="reference internal" href="#alloc"><span class="std std-ref">allocations</span></a> of object kind <span class="math notranslate">\(X\)</span>, defined as follows:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{rlll}
\mathrm{allocx}^\ast(S_0, X^n, \dots) &amp;=&amp; S_n, a^n \\[1ex]
\mbox{where for all $i &lt; n$:} \hfill \\
S_{i+1}, a^n[i] &amp;=&amp; \mathrm{allocx}(S_i, X^n[i], \dots)
\end{array}\end{split}\]</div>
<p>Moreover, if the dots <span class="math notranslate">\(\dots\)</span> are a sequence <span class="math notranslate">\(A^n\)</span> (as for globals), then the elements of this sequence are passed to the allocation function pointwise.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The definition of module allocation is mutually recursive with the allocation of its associated functions, because the resulting module instance <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span> is passed to the function allocator as an argument, in order to form the necessary closures.
In an implementation, this recursion is easily unraveled by mutating one or the other in a secondary step.</p>
</div>
</div>
</div>
<div class="section" id="instantiation">
<span id="exec-instantiation"></span><span id="exec-module"></span><span id="index-20"></span><h4>Instantiation</h4>
<p>Given a <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a> <span class="math notranslate">\(S\)</span>, a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a> <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}\)</span> is instantiated with a list of <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external values</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}^n\)</span> supplying the required imports as follows.</p>
<p>Instantiation checks that the module is <a class="reference internal" href="index.html#valid"><span class="std std-ref">valid</span></a> and the provided imports <a class="reference internal" href="#match-externtype"><span class="std std-ref">match</span></a> the declared types,
and may <em>fail</em> with an error otherwise.
Instantiation can also result in a <a class="reference internal" href="index.html#trap"><span class="std std-ref">trap</span></a> from executing the start function.
It is up to the <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a> to define how such conditions are reported.</p>
<ol class="arabic simple">
<li>If <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}\)</span> is not <a class="reference internal" href="index.html#valid-module"><span class="std std-ref">valid</span></a>, then:<ol class="loweralpha">
<li>Fail.</li>
</ol>
</li>
<li>Assert: <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}\)</span> is <a class="reference internal" href="index.html#valid-module"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external types</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}_{\mathrm{im}}^m\)</span> classifying its <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">imports</span></a>.</li>
<li>If the number <span class="math notranslate">\(m\)</span> of <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">imports</span></a> is not equal to the number <span class="math notranslate">\(n\)</span> of provided <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external values</span></a>, then:<ol class="loweralpha">
<li>Fail.</li>
</ol>
</li>
<li>For each <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}^n\)</span> and <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}'_i\)</span> in <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}_{\mathrm{im}}^n\)</span>, do:<ol class="loweralpha">
<li>If <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}_i\)</span> is not <a class="reference internal" href="#valid-externval"><span class="std std-ref">valid</span></a> with an <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}_i\)</span> in store <span class="math notranslate">\(S\)</span>, then:<ol class="lowerroman">
<li>Fail.</li>
</ol>
</li>
<li>If <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}_i\)</span> does not <a class="reference internal" href="#match-externtype"><span class="std std-ref">match</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}'_i\)</span>, then:<ol class="lowerroman">
<li>Fail.</li>
</ol>
</li>
</ol>
</li>
</ol>
<ol class="arabic" id="exec-initvals" start="5">
<li><p class="first">Let <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span> be the vector of <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">global</span></a> initialization <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> determined by <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}\)</span> and <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}^n\)</span>. These may be calculated as follows.</p>
<ol class="loweralpha simple">
<li>Let <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}_{\mathrm{im}}\)</span> be the auxiliary module <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">instance</span></a> <span class="math notranslate">\(\{\href{#syntax-moduleinst}{\mathsf{globaladdrs}}~\href{#syntax-externval}{\mathrm{globals}}(\href{#syntax-externval}{\mathit{externval}}^n)\}\)</span> that only consists of the imported globals.</li>
<li>Let <span class="math notranslate">\(F_{\mathrm{im}}\)</span> be the auxiliary <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a> <span class="math notranslate">\(\{ \href{#syntax-frame}{\mathsf{module}}~\href{#syntax-moduleinst}{\mathit{moduleinst}}_{\mathrm{im}}, \href{#syntax-frame}{\mathsf{locals}}~\epsilon \}\)</span>.</li>
<li>Push the frame <span class="math notranslate">\(F_{\mathrm{im}}\)</span> to the stack.</li>
<li>For each <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">global</span></a> <span class="math notranslate">\(\href{#syntax-global}{\mathit{global}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{globals}}\)</span>, do:<ol class="lowerroman">
<li>Let <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_i\)</span> be the result of <a class="reference internal" href="index.html#exec-expr"><span class="std std-ref">evaluating</span></a> the initializer expression <span class="math notranslate">\(\href{#syntax-global}{\mathit{global}}_i.\href{#syntax-global}{\mathsf{init}}\)</span>.</li>
</ol>
</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-module"><span class="std std-ref">validation</span></a>, the frame <span class="math notranslate">\(F_{\mathrm{im}}\)</span> is now on the top of the stack.</li>
<li>Pop the frame <span class="math notranslate">\(F_{\mathrm{im}}\)</span> from the stack.</li>
</ol>
</li>
<li><p class="first">Let <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span> be a new module instance <a class="reference internal" href="#alloc-module"><span class="std std-ref">allocated</span></a> from <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}\)</span> in store <span class="math notranslate">\(S\)</span> with imports <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}^n\)</span> and global initializer values <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span>, and let <span class="math notranslate">\(S'\)</span> be the extended store produced by module allocation.</p>
</li>
<li><p class="first">Let <span class="math notranslate">\(F\)</span> be the <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a> <span class="math notranslate">\(\{ \href{#syntax-frame}{\mathsf{module}}~\href{#syntax-moduleinst}{\mathit{moduleinst}}, \href{#syntax-frame}{\mathsf{locals}}~\epsilon \}\)</span>.</p>
</li>
<li><p class="first">Push the frame <span class="math notranslate">\(F\)</span> to the stack.</p>
</li>
<li><p class="first">For each <a class="reference internal" href="index.html#syntax-elem"><span class="std std-ref">element segment</span></a> <span class="math notranslate">\(\href{#syntax-elem}{\mathit{elem}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{elem}}\)</span>, do:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>Let <span class="math notranslate">\(\mathit{eoval}_i\)</span> be the result of <a class="reference internal" href="index.html#exec-expr"><span class="std std-ref">evaluating</span></a> the expression <span class="math notranslate">\(\href{#syntax-elem}{\mathit{elem}}_i.\href{#syntax-elem}{\mathsf{offset}}\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-elem"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(\mathit{eoval}_i\)</span> is of the form <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\mathit{eo}_i\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-tableidx}{\mathit{tableidx}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-tableidx"><span class="std std-ref">table index</span></a> <span class="math notranslate">\(\href{#syntax-elem}{\mathit{elem}}_i.\href{#syntax-elem}{\mathsf{table}}\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-elem"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{tableaddrs}}[\href{#syntax-tableidx}{\mathit{tableidx}}_i]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-tableaddr}{\mathit{tableaddr}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-tableaddr"><span class="std std-ref">table address</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{tableaddrs}}[\href{#syntax-tableidx}{\mathit{tableidx}}_i]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-elem"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(S'.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}_i]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instance</span></a> <span class="math notranslate">\(S'.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}_i]\)</span>.</li>
<li>Let <span class="math notranslate">\(\mathit{eend}_i\)</span> be <span class="math notranslate">\(\mathit{eo}_i\)</span> plus the length of <span class="math notranslate">\(\href{#syntax-elem}{\mathit{elem}}_i.\href{#syntax-elem}{\mathsf{init}}\)</span>.</li>
<li>If <span class="math notranslate">\(\mathit{eend}_i\)</span> is larger than the length of <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}_i.\href{#syntax-tableinst}{\mathsf{elem}}\)</span>, then:<ol class="lowerroman">
<li>Fail.</li>
</ol>
</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">For each <a class="reference internal" href="index.html#syntax-data"><span class="std std-ref">data segment</span></a> <span class="math notranslate">\(\href{#syntax-data}{\mathit{data}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{data}}\)</span>, do:</p>
<ol class="loweralpha simple">
<li>Let <span class="math notranslate">\(\mathit{doval}_i\)</span> be the result of <a class="reference internal" href="index.html#exec-expr"><span class="std std-ref">evaluating</span></a> the expression <span class="math notranslate">\(\href{#syntax-data}{\mathit{data}}_i.\href{#syntax-data}{\mathsf{offset}}\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-data"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(\mathit{doval}_i\)</span> is of the form <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\mathit{do}_i\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-memidx}{\mathit{memidx}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-memidx"><span class="std std-ref">memory index</span></a> <span class="math notranslate">\(\href{#syntax-data}{\mathit{data}}_i.\href{#syntax-data}{\mathsf{data}}\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-data"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[\href{#syntax-memidx}{\mathit{memidx}}_i]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-memaddr}{\mathit{memaddr}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-memaddr"><span class="std std-ref">memory address</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[\href{#syntax-memidx}{\mathit{memidx}}_i]\)</span>.</li>
<li>Assert: due to <a class="reference internal" href="index.html#valid-data"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(S'.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}_i]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}_i\)</span> be the <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(S'.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}_i]\)</span>.</li>
<li>Let <span class="math notranslate">\(\mathit{dend}_i\)</span> be <span class="math notranslate">\(\mathit{do}_i\)</span> plus the length of <span class="math notranslate">\(\href{#syntax-data}{\mathit{data}}_i.\href{#syntax-data}{\mathsf{init}}\)</span>.</li>
<li>If <span class="math notranslate">\(\mathit{dend}_i\)</span> is larger than the length of <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}_i.\href{#syntax-meminst}{\mathsf{data}}\)</span>, then:<ol class="lowerroman">
<li>Fail.</li>
</ol>
</li>
</ol>
</li>
<li><p class="first">Assert: due to <a class="reference internal" href="index.html#valid-module"><span class="std std-ref">validation</span></a>, the frame <span class="math notranslate">\(F\)</span> is now on the top of the stack.</p>
</li>
<li><p class="first">Pop the frame from the stack.</p>
</li>
<li><p class="first">For each <a class="reference internal" href="index.html#syntax-elem"><span class="std std-ref">element segment</span></a> <span class="math notranslate">\(\href{#syntax-elem}{\mathit{elem}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{elem}}\)</span>, do:</p>
<ol class="loweralpha simple">
<li>For each <a class="reference internal" href="index.html#syntax-funcidx"><span class="std std-ref">function index</span></a> <span class="math notranslate">\(\href{#syntax-funcidx}{\mathit{funcidx}}_{ij}\)</span> in <span class="math notranslate">\(\href{#syntax-elem}{\mathit{elem}}_i.\href{#syntax-elem}{\mathsf{init}}\)</span> (starting with <span class="math notranslate">\(j = 0\)</span>), do:<ol class="lowerroman">
<li>Assert: due to <a class="reference internal" href="index.html#valid-elem"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{funcaddrs}}[\href{#syntax-funcidx}{\mathit{funcidx}}_{ij}]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}_{ij}\)</span> be the <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{funcaddrs}}[\href{#syntax-funcidx}{\mathit{funcidx}}_{ij}]\)</span>.</li>
<li>Replace <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}_i.\href{#syntax-tableinst}{\mathsf{elem}}[\mathit{eo}_i + j]\)</span> with <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}_{ij}\)</span>.</li>
</ol>
</li>
</ol>
</li>
<li><p class="first">For each <a class="reference internal" href="index.html#syntax-data"><span class="std std-ref">data segment</span></a> <span class="math notranslate">\(\href{#syntax-data}{\mathit{data}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{data}}\)</span>, do:</p>
<ol class="loweralpha simple">
<li>For each <a class="reference internal" href="index.html#syntax-byte"><span class="std std-ref">byte</span></a> <span class="math notranslate">\(b_{ij}\)</span> in <span class="math notranslate">\(\href{#syntax-data}{\mathit{data}}_i.\href{#syntax-data}{\mathsf{init}}\)</span> (starting with <span class="math notranslate">\(j = 0\)</span>), do:<ol class="lowerroman">
<li>Replace <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}_i.\href{#syntax-meminst}{\mathsf{data}}[\mathit{do}_i + j]\)</span> with <span class="math notranslate">\(b_{ij}\)</span>.</li>
</ol>
</li>
</ol>
</li>
<li><p class="first">If the <a class="reference internal" href="index.html#syntax-start"><span class="std std-ref">start function</span></a> <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{start}}\)</span> is not empty, then:</p>
<ol class="loweralpha simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-start"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{funcaddrs}}[\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{start}}.\href{#syntax-start}{\mathsf{func}}]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}\)</span> be the <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{funcaddrs}}[\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{start}}.\href{#syntax-start}{\mathsf{func}}]\)</span>.</li>
<li><a class="reference internal" href="index.html#exec-invoke"><span class="std std-ref">Invoke</span></a> the function instance at <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}\)</span>.</li>
</ol>
</li>
</ol>
<div class="math notranslate">
\[\begin{split}~\\
\begin{array}{&#64;{}rcll}
\href{#exec-instantiation}{\mathrm{instantiate}}(S, \href{#syntax-module}{\mathit{module}}, \href{#syntax-externval}{\mathit{externval}}^n) &amp;=&amp; S'; F;
  \begin{array}[t]{&#64;{}l&#64;{}}
  (\href{#syntax-init-elem}{\mathsf{init\_elem}}~\href{#syntax-tableaddr}{\mathit{tableaddr}}~\mathit{eo}~\href{#syntax-elem}{\mathit{elem}}.\href{#syntax-elem}{\mathsf{init}})^\ast \\
  (\href{#syntax-init-data}{\mathsf{init\_data}}~\href{#syntax-memaddr}{\mathit{memaddr}}~\mathit{do}~\href{#syntax-data}{\mathit{data}}.\href{#syntax-data}{\mathsf{init}})^\ast \\
  (\href{#syntax-invoke}{\mathsf{invoke}}~\href{#syntax-funcaddr}{\mathit{funcaddr}})^? \\
  \end{array} \\
&amp;(\mathrel{\mbox{if}}
  &amp; \href{#valid-module}{\vdash} \href{#syntax-module}{\mathit{module}} : \href{#syntax-externtype}{\mathit{externtype}}_{\mathrm{im}}^n \href{#syntax-functype}{\rightarrow} \href{#syntax-externtype}{\mathit{externtype}}_{\mathrm{ex}}^\ast \\
  &amp;\wedge&amp; (S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathit{externval}} : \href{#syntax-externtype}{\mathit{externtype}})^n \\
  &amp;\wedge&amp; (\href{#match-externtype}{\vdash} \href{#syntax-externtype}{\mathit{externtype}} \href{#match}{\leq} \href{#syntax-externtype}{\mathit{externtype}}_{\mathrm{im}})^n \\[1ex]
  &amp;\wedge&amp; \href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{globals}} = \href{#syntax-global}{\mathit{global}}^\ast \\
  &amp;\wedge&amp; \href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{elem}} = \href{#syntax-elem}{\mathit{elem}}^\ast \\
  &amp;\wedge&amp; \href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{data}} = \href{#syntax-data}{\mathit{data}}^\ast \\
  &amp;\wedge&amp; \href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{start}} = \href{#syntax-start}{\mathit{start}}^? \\[1ex]
  &amp;\wedge&amp; S', \href{#syntax-moduleinst}{\mathit{moduleinst}} = \href{#alloc-module}{\mathrm{allocmodule}}(S, \href{#syntax-module}{\mathit{module}}, \href{#syntax-externval}{\mathit{externval}}^n, \href{#syntax-val}{\mathit{val}}^\ast) \\
  &amp;\wedge&amp; F = \{ \href{#syntax-frame}{\mathsf{module}}~\href{#syntax-moduleinst}{\mathit{moduleinst}}, \href{#syntax-frame}{\mathsf{locals}}~\epsilon \} \\[1ex]
  &amp;\wedge&amp; (S'; F; \href{#syntax-global}{\mathit{global}}.\href{#syntax-global}{\mathsf{init}} \href{#formal-notation}{\hookrightarrow}^\ast S'; F; \href{#syntax-val}{\mathit{val}}~\href{#syntax-instr-control}{\mathsf{end}})^\ast \\
  &amp;\wedge&amp; (S'; F; \href{#syntax-elem}{\mathit{elem}}.\href{#syntax-elem}{\mathsf{offset}} \href{#formal-notation}{\hookrightarrow}^\ast S'; F; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\mathit{eo}~\href{#syntax-instr-control}{\mathsf{end}})^\ast \\
  &amp;\wedge&amp; (S'; F; \href{#syntax-data}{\mathit{data}}.\href{#syntax-data}{\mathsf{offset}} \href{#formal-notation}{\hookrightarrow}^\ast S'; F; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\mathit{do}~\href{#syntax-instr-control}{\mathsf{end}})^\ast \\[1ex]
  &amp;\wedge&amp; (\mathit{eo} + |\href{#syntax-elem}{\mathit{elem}}.\href{#syntax-elem}{\mathsf{init}}| \leq |S'.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}].\href{#syntax-tableinst}{\mathsf{elem}}|)^\ast \\
  &amp;\wedge&amp; (\mathit{do} + |\href{#syntax-data}{\mathit{data}}.\href{#syntax-data}{\mathsf{init}}| \leq |S'.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}].\href{#syntax-meminst}{\mathsf{data}}|)^\ast
\\[1ex]
  &amp;\wedge&amp; (\href{#syntax-tableaddr}{\mathit{tableaddr}} = \href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{tableaddrs}}[\href{#syntax-elem}{\mathit{elem}}.\href{#syntax-elem}{\mathsf{table}}])^\ast \\
  &amp;\wedge&amp; (\href{#syntax-memaddr}{\mathit{memaddr}} = \href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}[\href{#syntax-data}{\mathit{data}}.\href{#syntax-data}{\mathsf{data}}])^\ast \\
  &amp;\wedge&amp; (\href{#syntax-funcaddr}{\mathit{funcaddr}} = \href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{funcaddrs}}[\href{#syntax-start}{\mathit{start}}.\href{#syntax-start}{\mathsf{func}}])^?)
\\[2ex]
S; F; \href{#syntax-init-elem}{\mathsf{init\_elem}}~a~i~\epsilon &amp;\href{#formal-notation}{\hookrightarrow}&amp;
  S; F; \epsilon \\
S; F; \href{#syntax-init-elem}{\mathsf{init\_elem}}~a~i~(x_0~x^\ast) &amp;\href{#formal-notation}{\hookrightarrow}&amp;
  S'; F; \href{#syntax-init-elem}{\mathsf{init\_elem}}~a~(i+1)~x^\ast \\ &amp;&amp;
  (\mathrel{\mbox{if}} S' = S \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-store}{\mathsf{tables}}[a].\href{#syntax-tableinst}{\mathsf{elem}}[i] = F.\href{#syntax-frame}{\mathsf{module}}.\href{#syntax-moduleinst}{\mathsf{funcaddrs}}[x_0])
\\[1ex]
S; F; \href{#syntax-init-data}{\mathsf{init\_data}}~a~i~\epsilon &amp;\href{#formal-notation}{\hookrightarrow}&amp;
  S; F; \epsilon \\
S; F; \href{#syntax-init-data}{\mathsf{init\_data}}~a~i~(b_0~b^\ast) &amp;\href{#formal-notation}{\hookrightarrow}&amp;
  S'; F; \href{#syntax-init-data}{\mathsf{init\_data}}~a~(i+1)~b^\ast \\ &amp;&amp;
  (\mathrel{\mbox{if}} S' = S \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-store}{\mathsf{mems}}[a].\href{#syntax-meminst}{\mathsf{data}}[i] = b_0)
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Module <a class="reference internal" href="#alloc-module"><span class="std std-ref">allocation</span></a> and the <a class="reference internal" href="index.html#exec-expr"><span class="std std-ref">evaluation</span></a> of <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">global</span></a> initializers are mutually recursive because the global initialization <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span> are passed to the module allocator but depend on the store <span class="math notranslate">\(S'\)</span> and module instance <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span> returned by allocation.
However, this recursion is just a specification device.
Due to <a class="reference internal" href="index.html#valid-module"><span class="std std-ref">validation</span></a>, the initialization values can easily <a class="reference internal" href="#exec-initvals"><span class="std std-ref">be determined</span></a> from a simple pre-pass that evaluates global initializers in the initial store.</p>
<p>All failure conditions are checked before any observable mutation of the store takes place.
Store mutation is not atomic;
it happens in individual steps that may be interleaved with other threads.</p>
<p class="last"><a class="reference internal" href="index.html#exec-expr"><span class="std std-ref">Evaluation</span></a> of <a class="reference internal" href="index.html#valid-constant"><span class="std std-ref">constant expressions</span></a> does not affect the store.</p>
</div>
</div>
<div class="section" id="invocation">
<span id="exec-invocation"></span><span id="index-21"></span><h4>Invocation</h4>
<p>Once a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a> has been <a class="reference internal" href="#exec-instantiation"><span class="std std-ref">instantiated</span></a>, any exported function can be <em>invoked</em> externally via its <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}\)</span> in the <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a> <span class="math notranslate">\(S\)</span> and an appropriate list <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span> of argument <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a>.</p>
<p>Invocation may <em>fail</em> with an error if the arguments do not fit the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a>.
Invocation can also result in a <a class="reference internal" href="index.html#trap"><span class="std std-ref">trap</span></a>.
It is up to the <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a> to define how such conditions are reported.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a> API performs type checks itself, either statically or dynamically, before performing an invocation, then no failure other than traps can occur.</p>
</div>
<p>The following steps are performed:</p>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{funcs}}[\href{#syntax-funcaddr}{\mathit{funcaddr}}]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-funcinst}{\mathit{funcinst}}\)</span> be the <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">function instance</span></a> <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{funcs}}[\href{#syntax-funcaddr}{\mathit{funcaddr}}]\)</span>.</li>
<li>Let <span class="math notranslate">\([t_1^n] \href{#syntax-functype}{\rightarrow} [t_2^m]\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\href{#syntax-funcinst}{\mathit{funcinst}}.\href{#syntax-funcinst}{\mathsf{type}}\)</span>.</li>
<li>If the length <span class="math notranslate">\(|\href{#syntax-val}{\mathit{val}}^\ast|\)</span> of the provided argument values is different from the number <span class="math notranslate">\(n\)</span> of expected arguments, then:<ol class="loweralpha">
<li>Fail.</li>
</ol>
</li>
<li>For each <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t_i\)</span> in <span class="math notranslate">\(t_1^n\)</span> and corresponding <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">value</span></a> <span class="math notranslate">\(val_i\)</span> in <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span>, do:<ol class="loweralpha">
<li>If <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_i\)</span> is not <span class="math notranslate">\(t_i.\href{#syntax-instr-numeric}{\mathsf{const}}~c_i\)</span> for some <span class="math notranslate">\(c_i\)</span>, then:<ol class="lowerroman">
<li>Fail.</li>
</ol>
</li>
</ol>
</li>
<li>Push the values <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span> to the stack.</li>
<li><a class="reference internal" href="index.html#exec-invoke"><span class="std std-ref">Invoke</span></a> the function instance at address <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}\)</span>.</li>
</ol>
<p>Once the function has returned, the following steps are executed:</p>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-func"><span class="std std-ref">validation</span></a>, <span class="math notranslate">\(m\)</span> <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> are on the top of the stack.</li>
<li>Pop <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_{\mathrm{res}}^m\)</span> from the stack.</li>
</ol>
<p>The values <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_{\mathrm{res}}^m\)</span> are returned as the results of the invocation.</p>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\begin{array}{&#64;{}lcl}
\href{#exec-invocation}{\mathrm{invoke}}(S, \href{#syntax-funcaddr}{\mathit{funcaddr}}, \href{#syntax-val}{\mathit{val}}^n) &amp;=&amp; S; F; \href{#syntax-val}{\mathit{val}}^n~(\href{#syntax-invoke}{\mathsf{invoke}}~\href{#syntax-funcaddr}{\mathit{funcaddr}}) \\
  &amp;(\mathrel{\mbox{if}} &amp; S.\href{#syntax-store}{\mathsf{funcs}}[\href{#syntax-funcaddr}{\mathit{funcaddr}}].\href{#syntax-funcinst}{\mathsf{type}} = [t_1^n] \href{#syntax-functype}{\rightarrow} [t_2^m] \\
  &amp;\wedge&amp; \href{#syntax-val}{\mathit{val}}^n = (t_1.\href{#syntax-instr-numeric}{\mathsf{const}}~c)^n \\
  &amp;\wedge&amp; F = \{ \href{#syntax-frame}{\mathsf{module}}~\{\}, \href{#syntax-frame}{\mathsf{locals}}~\epsilon \}) \\
\end{array}\end{split}\]</div>
</div>
</div>
</div>
</div>
<span id="document-binary/index"></span><div class="section" id="binary-format">
<span id="binary"></span><h2>Binary Format</h2>
<div class="toctree-wrapper compound">
<span id="document-binary/conventions"></span><div class="section" id="conventions">
<span id="index-0"></span><h3>Conventions</h3>
<p>The binary format for WebAssembly <a class="reference internal" href="index.html#module"><span class="std std-ref">modules</span></a> is a dense linear <em>encoding</em> of their <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">abstract syntax</span></a>.
<a class="footnote-reference" href="#compression" id="id1">[1]</a></p>
<p>The format is defined by an <em>attribute grammar</em> whose only terminal symbols are <a class="reference internal" href="index.html#syntax-byte"><span class="std std-ref">bytes</span></a>.
A byte sequence is a well-formed encoding of a module if and only if it is generated by the grammar.</p>
<p>Each production of this grammar has exactly one synthesized attribute: the abstract syntax that the respective byte sequence encodes.
Thus, the attribute grammar implicitly defines a <em>decoding</em> function
(i.e., a parsing function for the binary format).</p>
<p>Except for a few exceptions, the binary grammar closely mirrors the grammar of the abstract syntax.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some phrases of abstract syntax have multiple possible encodings in the binary format.
For example, numbers may be encoded as if they had optional leading zeros.
Implementations of decoders must support all possible alternatives;
implementations of encoders can pick any allowed encoding.</p>
</div>
<p>The recommended extension for files containing WebAssembly modules in binary format is “<span class="math notranslate">\(\mathtt{.wasm}\)</span>”
and the recommended <a class="reference external" href="https://www.iana.org/assignments/media-types/media-types.xhtml">Media Type</a> is “<span class="math notranslate">\(\mathtt{application/wasm}\)</span>”.</p>
<table class="docutils footnote" frame="void" id="compression" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Additional encoding layers – for example, introducing compression – may be defined on top of the basic representation defined here.
However, such layers are outside the scope of the current specification.</td></tr>
</tbody>
</table>
<div class="section" id="grammar">
<span id="binary-grammar"></span><span id="index-1"></span><h4>Grammar</h4>
<p>The following conventions are adopted in defining grammar rules for the binary format.
They mirror the conventions used for <a class="reference internal" href="index.html#grammar"><span class="std std-ref">abstract syntax</span></a>.
In order to distinguish symbols of the binary syntax from symbols of the abstract syntax, <span class="math notranslate">\(\mathtt{typewriter}\)</span> font is adopted for the former.</p>
<ul class="simple">
<li>Terminal symbols are <a class="reference internal" href="index.html#syntax-byte"><span class="std std-ref">bytes</span></a> expressed in hexadecimal notation: <span class="math notranslate">\(\def\mathdef798#1{\mathtt{0x#1}}\mathdef798{0F}\)</span>.</li>
<li>Nonterminal symbols are written in typewriter font: <span class="math notranslate">\(\mathtt{valtype}, \mathtt{instr}\)</span>.</li>
<li><span class="math notranslate">\(B^n\)</span> is a sequence of <span class="math notranslate">\(n\geq 0\)</span> iterations  of <span class="math notranslate">\(B\)</span>.</li>
<li><span class="math notranslate">\(B^\ast\)</span> is a possibly empty sequence of iterations of <span class="math notranslate">\(B\)</span>.
(This is a shorthand for <span class="math notranslate">\(B^n\)</span> used where <span class="math notranslate">\(n\)</span> is not relevant.)</li>
<li><span class="math notranslate">\(B^?\)</span> is an optional occurrence of <span class="math notranslate">\(B\)</span>.
(This is a shorthand for <span class="math notranslate">\(B^n\)</span> where <span class="math notranslate">\(n \leq 1\)</span>.)</li>
<li><span class="math notranslate">\(x{:}B\)</span> denotes the same language as the nonterminal <span class="math notranslate">\(B\)</span>, but also binds the variable <span class="math notranslate">\(x\)</span> to the attribute synthesized for <span class="math notranslate">\(B\)</span>.</li>
<li>Productions are written <span class="math notranslate">\(\mathtt{sym} ::= B_1 \Rightarrow A_1 ~|~ \dots ~|~ B_n \Rightarrow A_n\)</span>, where each <span class="math notranslate">\(A_i\)</span> is the attribute that is synthesized for <span class="math notranslate">\(\mathtt{sym}\)</span> in the given case, usually from attribute variables bound in <span class="math notranslate">\(B_i\)</span>.</li>
<li>Some productions are augmented by side conditions in parentheses, which restrict the applicability of the production. They provide a shorthand for a combinatorial expansion of the production into many separate cases.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For example, the <a class="reference internal" href="index.html#binary-valtype"><span class="std std-ref">binary grammar</span></a> for <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> is given as follows:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcll&#64;{\qquad\qquad}l}
\def\mathdef739#1{{}}\mathdef739{value types} &amp; \href{#binary-valtype}{\mathtt{valtype}} &amp;::=&amp;
  \def\mathdef799#1{\mathtt{0x#1}}\mathdef799{7F} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}} \\ &amp;&amp;|&amp;
  \def\mathdef800#1{\mathtt{0x#1}}\mathdef800{7E} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}} \\ &amp;&amp;|&amp;
  \def\mathdef801#1{\mathtt{0x#1}}\mathdef801{7D} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}} \\ &amp;&amp;|&amp;
  \def\mathdef802#1{\mathtt{0x#1}}\mathdef802{7C} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}} \\
\end{array}\end{split}\]</div>
<p>Consequently, the byte <span class="math notranslate">\(\def\mathdef803#1{\mathtt{0x#1}}\mathdef803{7F}\)</span> encodes the type <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span>,
<span class="math notranslate">\(\def\mathdef804#1{\mathtt{0x#1}}\mathdef804{7E}\)</span> encodes the type <span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}\)</span>, and so forth.
No other byte value is allowed as the encoding of a value type.</p>
<p>The <a class="reference internal" href="index.html#binary-limits"><span class="std std-ref">binary grammar</span></a> for <a class="reference internal" href="index.html#syntax-limits"><span class="std std-ref">limits</span></a> is defined as follows:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef739#1{{}}\mathdef739{limits} &amp; \href{#binary-limits}{\mathtt{limits}} &amp;::=&amp;
  \def\mathdef805#1{\mathtt{0x#1}}\mathdef805{00}~~n{:}\href{#binary-int}{\def\mathdef766#1{{\mathtt{u}#1}}\mathdef766{\mathtt{32}}} &amp;\Rightarrow&amp; \{ \href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~\epsilon \} \\ &amp;&amp;|&amp;
  \def\mathdef806#1{\mathtt{0x#1}}\mathdef806{01}~~n{:}\href{#binary-int}{\def\mathdef766#1{{\mathtt{u}#1}}\mathdef766{\mathtt{32}}}~~m{:}\href{#binary-int}{\def\mathdef766#1{{\mathtt{u}#1}}\mathdef766{\mathtt{32}}} &amp;\Rightarrow&amp; \{ \href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m \} \\
\end{array}\end{split}\]</div>
<p class="last">That is, a limits pair is encoded as either the byte <span class="math notranslate">\(\def\mathdef807#1{\mathtt{0x#1}}\mathdef807{00}\)</span> followed by the encoding of a <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef745#1{{\mathit{u}#1}}\mathdef745{\mathit{32}}}\)</span> value,
or the byte <span class="math notranslate">\(\def\mathdef808#1{\mathtt{0x#1}}\mathdef808{01}\)</span> followed by two such encodings.
The variables <span class="math notranslate">\(n\)</span> and <span class="math notranslate">\(m\)</span> name the attributes of the respective <span class="math notranslate">\(\href{#binary-int}{\def\mathdef766#1{{\mathtt{u}#1}}\mathdef766{\mathtt{32}}}\)</span> nonterminals, which in this case are the actual <a class="reference internal" href="index.html#syntax-uint"><span class="std std-ref">unsigned integers</span></a> those decode into.
The attribute of the complete production then is the abstract syntax for the limit, expressed in terms of the former values.</p>
</div>
</div>
<div class="section" id="auxiliary-notation">
<span id="binary-notation"></span><h4>Auxiliary Notation</h4>
<p>When dealing with binary encodings the following notation is also used:</p>
<ul class="simple">
<li><span class="math notranslate">\(\epsilon\)</span> denotes the empty byte sequence.</li>
<li><span class="math notranslate">\(||B||\)</span> is the length of the byte sequence generated from the production <span class="math notranslate">\(B\)</span> in a derivation.</li>
</ul>
</div>
<div class="section" id="vectors">
<span id="binary-vec"></span><span id="index-2"></span><h4>Vectors</h4>
<p><a class="reference internal" href="index.html#syntax-vec"><span class="std std-ref">Vectors</span></a> are encoded with their <span class="math notranslate">\(\href{#binary-int}{\def\mathdef766#1{{\mathtt{u}#1}}\mathdef766{\mathtt{32}}}\)</span> length followed by the encoding of their element sequence.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef739#1{{}}\mathdef739{vector} &amp; \href{#binary-vec}{\mathtt{vec}}(\mathtt{B}) &amp;::=&amp;
  n{:}\href{#binary-int}{\def\mathdef766#1{{\mathtt{u}#1}}\mathdef766{\mathtt{32}}}~~(x{:}\mathtt{B})^n &amp;\Rightarrow&amp; x^n \\
\end{array}\end{split}\]</div>
</div>
</div>
<span id="document-binary/values"></span><div class="section" id="values">
<span id="binary-value"></span><span id="index-0"></span><h3>Values</h3>
<div class="section" id="bytes">
<span id="binary-byte"></span><span id="index-1"></span><h4>Bytes</h4>
<p><a class="reference internal" href="index.html#syntax-byte"><span class="std std-ref">Bytes</span></a> encode themselves.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcll&#64;{\qquad}l}
\def\mathdef1258#1{{}}\mathdef1258{byte} &amp; \href{#binary-byte}{\mathtt{byte}} &amp;::=&amp;
  \def\mathdef1317#1{\mathtt{0x#1}}\mathdef1317{00} &amp;\Rightarrow&amp; \def\mathdef1318#1{\mathtt{0x#1}}\mathdef1318{00} \\ &amp;&amp;|&amp;&amp;
  \dots \\ &amp;&amp;|&amp;
  \def\mathdef1319#1{\mathtt{0x#1}}\mathdef1319{FF} &amp;\Rightarrow&amp; \def\mathdef1320#1{\mathtt{0x#1}}\mathdef1320{FF} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="integers">
<span id="binary-int"></span><span id="binary-uint"></span><span id="binary-sint"></span><span id="index-2"></span><h4>Integers</h4>
<p>All <a class="reference internal" href="index.html#syntax-int"><span class="std std-ref">integers</span></a> are encoded using the <a class="reference external" href="https://en.wikipedia.org/wiki/LEB128">LEB128</a> variable-length integer encoding, in either unsigned or signed variant.</p>
<p><a class="reference internal" href="index.html#syntax-uint"><span class="std std-ref">Unsigned integers</span></a> are encoded in <a class="reference external" href="https://en.wikipedia.org/wiki/LEB128#Unsigned_LEB128">unsigned LEB128</a> format.
As an additional constraint, the total number of bytes encoding a value of type <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef1259#1{{\mathit{u}#1}}\mathdef1259{N}}\)</span> must not exceed <span class="math notranslate">\(\mathrm{ceil}(N/7)\)</span> bytes.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad}l}
\def\mathdef1258#1{{}}\mathdef1258{unsigned integer} &amp; \href{#binary-int}{\def\mathdef1281#1{{\mathtt{u}#1}}\mathdef1281{N}} &amp;::=&amp;
  n{:}\href{#binary-byte}{\mathtt{byte}} &amp;\Rightarrow&amp; n &amp; (\mathrel{\mbox{if}} n &lt; 2^7 \wedge n &lt; 2^N) \\ &amp;&amp;|&amp;
  n{:}\href{#binary-byte}{\mathtt{byte}}~~m{:}\def\mathdef1321#1{{\mathtt{u}#1}}\mathdef1321{(N\mathtt{-7})} &amp;\Rightarrow&amp;
    2^7\cdot m + (n-2^7) &amp; (\mathrel{\mbox{if}} n \geq 2^7 \wedge N &gt; 7) \\
\end{array}\end{split}\]</div>
<p><a class="reference internal" href="index.html#syntax-sint"><span class="std std-ref">Signed integers</span></a> are encoded in <a class="reference external" href="https://en.wikipedia.org/wiki/LEB128#Signed_LEB128">signed LEB128</a> format, which uses a two’s complement representation.
As an additional constraint, the total number of bytes encoding a value of type <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef1266#1{{\mathit{s}#1}}\mathdef1266{N}}\)</span> must not exceed <span class="math notranslate">\(\mathrm{ceil}(N/7)\)</span> bytes.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad}l}
\def\mathdef1258#1{{}}\mathdef1258{signed integer} &amp; \href{#binary-int}{\def\mathdef1287#1{{\mathtt{s}#1}}\mathdef1287{N}} &amp;::=&amp;
  n{:}\href{#binary-byte}{\mathtt{byte}} &amp;\Rightarrow&amp; n &amp; (\mathrel{\mbox{if}} n &lt; 2^6 \wedge n &lt; 2^{N-1}) \\ &amp;&amp;|&amp;
  n{:}\href{#binary-byte}{\mathtt{byte}} &amp;\Rightarrow&amp; n-2^7 &amp; (\mathrel{\mbox{if}} 2^6 \leq n &lt; 2^7 \wedge n \geq 2^7-2^{N-1}) \\ &amp;&amp;|&amp;
  n{:}\href{#binary-byte}{\mathtt{byte}}~~m{:}\def\mathdef1322#1{{\mathtt{s}#1}}\mathdef1322{(N\mathtt{-7})} &amp;\Rightarrow&amp;
    2^7\cdot m + (n-2^7) &amp; (\mathrel{\mbox{if}} n \geq 2^7 \wedge N &gt; 7) \\
\end{array}\end{split}\]</div>
<p><a class="reference internal" href="index.html#syntax-int"><span class="std std-ref">Uninterpreted integers</span></a> are encoded as signed integers.</p>
<div class="math notranslate">
\[\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef1258#1{{}}\mathdef1258{uninterpreted integer} &amp; \href{#binary-int}{\def\mathdef1292#1{{\mathtt{i}#1}}\mathdef1292{N}} &amp;::=&amp;
  n{:}\href{#binary-int}{\def\mathdef1287#1{{\mathtt{s}#1}}\mathdef1287{N}} &amp;\Rightarrow&amp; i &amp; (\mathrel{\mbox{if}} n = \href{#aux-signed}{\mathrm{signed}}_{\href{#syntax-int}{\def\mathdef1272#1{{\mathit{i}#1}}\mathdef1272{N}}}(i))
\end{array}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The side conditions <span class="math notranslate">\(N &gt; 7\)</span> in the productions for non-terminal bytes of the <span class="math notranslate">\(\def\mathdef1323#1{{\mathit{u}#1}}\mathdef1323{}\)</span> and <span class="math notranslate">\(\def\mathdef1324#1{{\mathit{s}#1}}\mathdef1324{}\)</span> encodings restrict the encoding’s length.
However, “trailing zeros” are still allowed within these bounds.
For example, <span class="math notranslate">\(\def\mathdef1325#1{\mathtt{0x#1}}\mathdef1325{03}\)</span> and <span class="math notranslate">\(\def\mathdef1326#1{\mathtt{0x#1}}\mathdef1326{83}~\def\mathdef1327#1{\mathtt{0x#1}}\mathdef1327{00}\)</span> are both well-formed encodings for the value <span class="math notranslate">\(3\)</span> as a <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef1262#1{{\mathit{u}#1}}\mathdef1262{\mathit{8}}}\)</span>.
Similarly, either of <span class="math notranslate">\(\def\mathdef1328#1{\mathtt{0x#1}}\mathdef1328{7e}\)</span> and <span class="math notranslate">\(\def\mathdef1329#1{\mathtt{0x#1}}\mathdef1329{FE}~\def\mathdef1330#1{\mathtt{0x#1}}\mathdef1330{7F}\)</span> and <span class="math notranslate">\(\def\mathdef1331#1{\mathtt{0x#1}}\mathdef1331{FE}~\def\mathdef1332#1{\mathtt{0x#1}}\mathdef1332{FF}~\def\mathdef1333#1{\mathtt{0x#1}}\mathdef1333{7F}\)</span> are well-formed encodings of the value <span class="math notranslate">\(-2\)</span> as a <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef1268#1{{\mathit{s}#1}}\mathdef1268{\mathit{16}}}\)</span>.</p>
<p class="last">The side conditions on the value <span class="math notranslate">\(n\)</span> of terminal bytes further enforce that
any unused bits in these bytes must be <span class="math notranslate">\(0\)</span> for positive values and <span class="math notranslate">\(1\)</span> for negative ones.
For example, <span class="math notranslate">\(\def\mathdef1334#1{\mathtt{0x#1}}\mathdef1334{83}~\def\mathdef1335#1{\mathtt{0x#1}}\mathdef1335{10}\)</span> is malformed as a <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef1262#1{{\mathit{u}#1}}\mathdef1262{\mathit{8}}}\)</span> encoding.
Similarly, both <span class="math notranslate">\(\def\mathdef1336#1{\mathtt{0x#1}}\mathdef1336{83}~\def\mathdef1337#1{\mathtt{0x#1}}\mathdef1337{3E}\)</span> and <span class="math notranslate">\(\def\mathdef1338#1{\mathtt{0x#1}}\mathdef1338{FF}~\def\mathdef1339#1{\mathtt{0x#1}}\mathdef1339{7B}\)</span> are malformed as <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef1267#1{{\mathit{s}#1}}\mathdef1267{\mathit{8}}}\)</span> encodings.</p>
</div>
</div>
<div class="section" id="floating-point">
<span id="binary-float"></span><span id="index-3"></span><h4>Floating-Point</h4>
<p><a class="reference internal" href="index.html#syntax-float"><span class="std std-ref">Floating-point</span></a> values are encoded directly by their <a class="reference external" href="http://ieeexplore.ieee.org/document/4610935/">IEEE 754-2008</a> (Section 3.4) bit pattern in <a class="reference external" href="https://en.wikipedia.org/wiki/Endianness#Little-endian">little endian</a> byte order:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef1258#1{{}}\mathdef1258{floating-point value} &amp; \href{#binary-float}{\def\mathdef1295#1{{\mathtt{f}#1}}\mathdef1295{N}} &amp;::=&amp;
  b^\ast{:\,}\href{#binary-byte}{\mathtt{byte}}^{N/8} &amp;\Rightarrow&amp; \href{#aux-bytes}{\mathrm{bytes}}_{\href{#syntax-float}{\def\mathdef1277#1{{\mathit{f}#1}}\mathdef1277{N}}}^{-1}(b^\ast) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="names">
<span id="binary-name"></span><span id="binary-utf8"></span><span id="index-4"></span><h4>Names</h4>
<p><a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">Names</span></a> are encoded as a <a class="reference internal" href="index.html#binary-vec"><span class="std std-ref">vector</span></a> of bytes containing the <a class="reference external" href="http://www.unicode.org/versions/latest/">Unicode</a> (Section 3.9) UTF-8 encoding of the name’s code point sequence.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclllll}
\def\mathdef1258#1{{}}\mathdef1258{name} &amp; \href{#binary-name}{\mathtt{name}} &amp;::=&amp;
  b^\ast{:}\href{#binary-vec}{\mathtt{vec}}(\href{#binary-byte}{\mathtt{byte}}) &amp;\Rightarrow&amp; \href{#syntax-name}{\mathit{name}}
    &amp;&amp; (\mathrel{\mbox{if}} \href{#binary-utf8}{\mathrm{utf8}}(\href{#syntax-name}{\mathit{name}}) = b^\ast) \\
\end{array}\end{split}\]</div>
<p>The auxiliary <span class="math notranslate">\(\href{#binary-utf8}{\mathrm{utf8}}\)</span> function expressing this encoding is defined as follows:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}l&#64;{}}
\begin{array}{&#64;{}lcl&#64;{\qquad}l&#64;{}}
\href{#binary-utf8}{\mathrm{utf8}}(c^\ast) &amp;=&amp; (\href{#binary-utf8}{\mathrm{utf8}}(c))^\ast \\[1ex]
\href{#binary-utf8}{\mathrm{utf8}}(c) &amp;=&amp; b &amp;
  (\begin{array}[t]{&#64;{}c&#64;{~}l&#64;{}}
   \mathrel{\mbox{if}} &amp; c &lt; \def\mathdef1340#1{\mathrm{U{+}#1}}\mathdef1340{80} \\
   \wedge &amp; c = b) \\
   \end{array} \\
\href{#binary-utf8}{\mathrm{utf8}}(c) &amp;=&amp; b_1~b_2 &amp;
  (\begin{array}[t]{&#64;{}c&#64;{~}l&#64;{}}
   \mathrel{\mbox{if}} &amp; \def\mathdef1341#1{\mathrm{U{+}#1}}\mathdef1341{80} \leq c &lt; \def\mathdef1342#1{\mathrm{U{+}#1}}\mathdef1342{800} \\
   \wedge &amp; c = 2^6(b_1-\def\mathdef1343#1{\mathtt{0x#1}}\mathdef1343{C0})+(b_2-\def\mathdef1344#1{\mathtt{0x#1}}\mathdef1344{80})) \\
   \end{array} \\
\href{#binary-utf8}{\mathrm{utf8}}(c) &amp;=&amp; b_1~b_2~b_3 &amp;
  (\begin{array}[t]{&#64;{}c&#64;{~}l&#64;{}}
   \mathrel{\mbox{if}} &amp; \def\mathdef1345#1{\mathrm{U{+}#1}}\mathdef1345{800} \leq c &lt; \def\mathdef1346#1{\mathrm{U{+}#1}}\mathdef1346{D800} \vee \def\mathdef1347#1{\mathrm{U{+}#1}}\mathdef1347{E000} \leq c &lt; \def\mathdef1348#1{\mathrm{U{+}#1}}\mathdef1348{10000} \\
   \wedge &amp; c = 2^{12}(b_1-\def\mathdef1349#1{\mathtt{0x#1}}\mathdef1349{E0})+2^6(b_2-\def\mathdef1350#1{\mathtt{0x#1}}\mathdef1350{80})+(b_3-\def\mathdef1351#1{\mathtt{0x#1}}\mathdef1351{80})) \\
   \end{array} \\
\href{#binary-utf8}{\mathrm{utf8}}(c) &amp;=&amp; b_1~b_2~b_3~b_4 &amp;
  (\begin{array}[t]{&#64;{}c&#64;{~}l&#64;{}}
   \mathrel{\mbox{if}} &amp; \def\mathdef1352#1{\mathrm{U{+}#1}}\mathdef1352{10000} \leq c &lt; \def\mathdef1353#1{\mathrm{U{+}#1}}\mathdef1353{110000} \\
   \wedge &amp; c = 2^{18}(b_1-\def\mathdef1354#1{\mathtt{0x#1}}\mathdef1354{F0})+2^{12}(b_2-\def\mathdef1355#1{\mathtt{0x#1}}\mathdef1355{80})+2^6(b_3-\def\mathdef1356#1{\mathtt{0x#1}}\mathdef1356{80})+(b_4-\def\mathdef1357#1{\mathtt{0x#1}}\mathdef1357{80})) \\
   \end{array} \\
\end{array} \\
\mathrel{\mbox{where}} b_2, b_3, b_4 &lt; \def\mathdef1358#1{\mathtt{0x#1}}\mathdef1358{C0} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unlike in some other formats, name strings are not 0-terminated.</p>
</div>
</div>
</div>
<span id="document-binary/types"></span><div class="section" id="types">
<span id="binary-type"></span><span id="index-0"></span><h3>Types</h3>
<div class="section" id="value-types">
<span id="binary-valtype"></span><span id="index-1"></span><h4>Value Types</h4>
<p><a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">Value types</span></a> are encoded by a single byte.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef1188#1{{}}\mathdef1188{value type} &amp; \href{#binary-valtype}{\mathtt{valtype}} &amp;::=&amp;
  \def\mathdef1247#1{\mathtt{0x#1}}\mathdef1247{7F} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}} \\ &amp;&amp;|&amp;
  \def\mathdef1248#1{\mathtt{0x#1}}\mathdef1248{7E} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}} \\ &amp;&amp;|&amp;
  \def\mathdef1249#1{\mathtt{0x#1}}\mathdef1249{7D} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}} \\ &amp;&amp;|&amp;
  \def\mathdef1250#1{\mathtt{0x#1}}\mathdef1250{7C} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Value types can occur in contexts where <a class="reference internal" href="index.html#syntax-typeidx"><span class="std std-ref">type indices</span></a> are also allowed, such as in the case of <a class="reference internal" href="index.html#binary-blocktype"><span class="std std-ref">block types</span></a>.
Thus, the binary format for types corresponds to the <a class="reference external" href="https://en.wikipedia.org/wiki/LEB128#Signed_LEB128">signed LEB128</a> <a class="reference internal" href="index.html#binary-sint"><span class="std std-ref">encoding</span></a> of small negative <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef1196#1{{\mathit{s}#1}}\mathdef1196{N}}\)</span> values, so that they can coexist with (positive) type indices in the future.</p>
</div>
</div>
<div class="section" id="result-types">
<span id="binary-resulttype"></span><span id="index-2"></span><h4>Result Types</h4>
<p><a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">Result types</span></a> are encoded by the respective <a class="reference internal" href="index.html#binary-vec"><span class="std std-ref">vectors</span></a> of <a class="reference internal" href="#binary-valtype"><span class="std std-ref">value types `</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef1188#1{{}}\mathdef1188{result type} &amp; \href{#binary-resulttype}{\mathtt{resulttype}} &amp;::=&amp;
  t^\ast{:\,}\href{#binary-vec}{\mathtt{vec}}(\href{#binary-valtype}{\mathtt{valtype}}) &amp;\Rightarrow&amp; [t^\ast] \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="function-types">
<span id="binary-functype"></span><span id="index-3"></span><h4>Function Types</h4>
<p><a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">Function types</span></a> are encoded by the byte <span class="math notranslate">\(\def\mathdef1251#1{\mathtt{0x#1}}\mathdef1251{60}\)</span> followed by the respective <a class="reference internal" href="index.html#binary-vec"><span class="std std-ref">vectors</span></a> of parameter and result types.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef1188#1{{}}\mathdef1188{function type} &amp; \href{#binary-functype}{\mathtt{functype}} &amp;::=&amp;
  \def\mathdef1252#1{\mathtt{0x#1}}\mathdef1252{60}~~\mathit{rt}_1{:\,}\href{#binary-resulttype}{\mathtt{resulttype}}~~\mathit{rt}_2{:\,}\href{#binary-resulttype}{\mathtt{resulttype}}
    &amp;\Rightarrow&amp; \mathit{rt}_1 \href{#syntax-functype}{\rightarrow} \mathit{rt}_2 \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="limits">
<span id="binary-limits"></span><span id="index-4"></span><h4>Limits</h4>
<p><a class="reference internal" href="index.html#syntax-limits"><span class="std std-ref">Limits</span></a> are encoded with a preceding flag indicating whether a maximum is present.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1188#1{{}}\mathdef1188{limits} &amp; \href{#binary-limits}{\mathtt{limits}} &amp;::=&amp;
  \def\mathdef1253#1{\mathtt{0x#1}}\mathdef1253{00}~~n{:}\href{#binary-int}{\def\mathdef1215#1{{\mathtt{u}#1}}\mathdef1215{\mathtt{32}}} &amp;\Rightarrow&amp; \{ \href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~\epsilon \} \\ &amp;&amp;|&amp;
  \def\mathdef1254#1{\mathtt{0x#1}}\mathdef1254{01}~~n{:}\href{#binary-int}{\def\mathdef1215#1{{\mathtt{u}#1}}\mathdef1215{\mathtt{32}}}~~m{:}\href{#binary-int}{\def\mathdef1215#1{{\mathtt{u}#1}}\mathdef1215{\mathtt{32}}} &amp;\Rightarrow&amp; \{ \href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m \} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="memory-types">
<span id="binary-memtype"></span><span id="index-5"></span><h4>Memory Types</h4>
<p><a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">Memory types</span></a> are encoded with their <a class="reference internal" href="#binary-limits"><span class="std std-ref">limits</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef1188#1{{}}\mathdef1188{memory type} &amp; \href{#binary-memtype}{\mathtt{memtype}} &amp;::=&amp;
  \mathit{lim}{:}\href{#binary-limits}{\mathtt{limits}} &amp;\Rightarrow&amp; \mathit{lim} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="table-types">
<span id="binary-tabletype"></span><span id="binary-elemtype"></span><span id="index-6"></span><h4>Table Types</h4>
<p><a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">Table types</span></a> are encoded with their <a class="reference internal" href="#binary-limits"><span class="std std-ref">limits</span></a> and a constant byte indicating their <a class="reference internal" href="index.html#syntax-elemtype"><span class="std std-ref">element type</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1188#1{{}}\mathdef1188{table type} &amp; \href{#binary-tabletype}{\mathtt{tabletype}} &amp;::=&amp;
  \mathit{et}{:}\href{#binary-elemtype}{\mathtt{elemtype}}~~\mathit{lim}{:}\href{#binary-limits}{\mathtt{limits}} &amp;\Rightarrow&amp; \mathit{lim}~\mathit{et} \\
\def\mathdef1188#1{{}}\mathdef1188{element type} &amp; \href{#binary-elemtype}{\mathtt{elemtype}} &amp;::=&amp;
  \def\mathdef1255#1{\mathtt{0x#1}}\mathdef1255{70} &amp;\Rightarrow&amp; \href{#syntax-elemtype}{\mathsf{funcref}} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="global-types">
<span id="binary-globaltype"></span><span id="binary-mut"></span><span id="index-7"></span><h4>Global Types</h4>
<p><a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">Global types</span></a> are encoded by their <a class="reference internal" href="#binary-valtype"><span class="std std-ref">value type</span></a> and a flag for their <a class="reference internal" href="index.html#syntax-mut"><span class="std std-ref">mutability</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1188#1{{}}\mathdef1188{global type} &amp; \href{#binary-globaltype}{\mathtt{globaltype}} &amp;::=&amp;
  t{:}\href{#binary-valtype}{\mathtt{valtype}}~~m{:}\href{#binary-mut}{\mathtt{mut}} &amp;\Rightarrow&amp; m~t \\
\def\mathdef1188#1{{}}\mathdef1188{mutability} &amp; \href{#binary-mut}{\mathtt{mut}} &amp;::=&amp;
  \def\mathdef1256#1{\mathtt{0x#1}}\mathdef1256{00} &amp;\Rightarrow&amp; \href{#syntax-mut}{\mathsf{const}} \\ &amp;&amp;|&amp;
  \def\mathdef1257#1{\mathtt{0x#1}}\mathdef1257{01} &amp;\Rightarrow&amp; \href{#syntax-mut}{\mathsf{var}} \\
\end{array}\end{split}\]</div>
</div>
</div>
<span id="document-binary/instructions"></span><div class="section" id="instructions">
<span id="binary-instr"></span><span id="index-0"></span><h3>Instructions</h3>
<p><a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">Instructions</span></a> are encoded by <em>opcodes</em>.
Each opcode is represented by a single byte,
and is followed by the instruction’s immediate arguments, where present.
The only exception are <a class="reference internal" href="#binary-instr-control"><span class="std std-ref">structured control instructions</span></a>, which consist of several opcodes bracketing their nested instruction sequences.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Gaps in the byte code ranges for encoding instructions are reserved for future extensions.</p>
</div>
<div class="section" id="control-instructions">
<span id="binary-instr-control"></span><span id="index-1"></span><h4>Control Instructions</h4>
<p><a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">Control instructions</span></a> have varying encodings. For structured instructions, the instruction sequences forming nested blocks are terminated with explicit opcodes for <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{end}}\)</span> and <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{else}}\)</span>.</p>
<p><a class="reference internal" href="index.html#syntax-blocktype"><span class="std std-ref">Block types</span></a> are encoded in special compressed form, by either the byte <span class="math notranslate">\(\def\mathdef927#1{\mathtt{0x#1}}\mathdef927{40}\)</span> indicating the empty type, as a single <a class="reference internal" href="index.html#binary-valtype"><span class="std std-ref">value type</span></a>, or as a <a class="reference internal" href="index.html#binary-typeidx"><span class="std std-ref">type index</span></a> encoded as a positive <a class="reference internal" href="index.html#binary-sint"><span class="std std-ref">signed integer</span></a>.</p>
<div class="math notranslate" id="binary-call-indirect">
<span id="binary-call"></span><span id="binary-return"></span><span id="binary-br-table"></span><span id="binary-br-if"></span><span id="binary-br"></span><span id="binary-if"></span><span id="binary-loop"></span><span id="binary-block"></span><span id="binary-unreachable"></span><span id="binary-nop"></span><span id="binary-blocktype"></span>\[\begin{split}\begin{array}{llclllll}
\def\mathdef868#1{{}}\mathdef868{block type} &amp; \href{#binary-blocktype}{\mathtt{blocktype}} &amp;::=&amp;
  \def\mathdef928#1{\mathtt{0x#1}}\mathdef928{40} &amp;\Rightarrow&amp; \epsilon \\ &amp;&amp;|&amp;
  t{:}\href{#binary-valtype}{\mathtt{valtype}} &amp;\Rightarrow&amp; t \\ &amp;&amp;|&amp;
  x{:}\href{#binary-int}{\def\mathdef900#1{{\mathtt{s}#1}}\mathdef900{\mathtt{33}}} &amp;\Rightarrow&amp; x &amp; (\mathrel{\mbox{if}} x \geq 0) \\
\def\mathdef868#1{{}}\mathdef868{instruction} &amp; \href{#binary-instr}{\mathtt{instr}} &amp;::=&amp;
  \def\mathdef929#1{\mathtt{0x#1}}\mathdef929{00} &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{unreachable}} \\ &amp;&amp;|&amp;
  \def\mathdef930#1{\mathtt{0x#1}}\mathdef930{01} &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{nop}} \\ &amp;&amp;|&amp;
  \def\mathdef931#1{\mathtt{0x#1}}\mathdef931{02}~~\mathit{bt}{:}\href{#binary-blocktype}{\mathtt{blocktype}}~~(\mathit{in}{:}\href{#binary-instr}{\mathtt{instr}})^\ast~~\def\mathdef932#1{\mathtt{0x#1}}\mathdef932{0B}
    &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{block}}~\mathit{bt}~\mathit{in}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\ &amp;&amp;|&amp;
  \def\mathdef933#1{\mathtt{0x#1}}\mathdef933{03}~~\mathit{bt}{:}\href{#binary-blocktype}{\mathtt{blocktype}}~~(\mathit{in}{:}\href{#binary-instr}{\mathtt{instr}})^\ast~~\def\mathdef934#1{\mathtt{0x#1}}\mathdef934{0B}
    &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{loop}}~\mathit{bt}~\mathit{in}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\ &amp;&amp;|&amp;
  \def\mathdef935#1{\mathtt{0x#1}}\mathdef935{04}~~\mathit{bt}{:}\href{#binary-blocktype}{\mathtt{blocktype}}~~(\mathit{in}{:}\href{#binary-instr}{\mathtt{instr}})^\ast~~\def\mathdef936#1{\mathtt{0x#1}}\mathdef936{0B}
    &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{if}}~\mathit{bt}~\mathit{in}^\ast~\href{#syntax-instr-control}{\mathsf{else}}~\epsilon~\href{#syntax-instr-control}{\mathsf{end}} \\ &amp;&amp;|&amp;
  \def\mathdef937#1{\mathtt{0x#1}}\mathdef937{04}~~\mathit{bt}{:}\href{#binary-blocktype}{\mathtt{blocktype}}~~(\mathit{in}_1{:}\href{#binary-instr}{\mathtt{instr}})^\ast~~
    \def\mathdef938#1{\mathtt{0x#1}}\mathdef938{05}~~(\mathit{in}_2{:}\href{#binary-instr}{\mathtt{instr}})^\ast~~\def\mathdef939#1{\mathtt{0x#1}}\mathdef939{0B}
    &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{if}}~\mathit{bt}~\mathit{in}_1^\ast~\href{#syntax-instr-control}{\mathsf{else}}~\mathit{in}_2^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\ &amp;&amp;|&amp;
  \def\mathdef940#1{\mathtt{0x#1}}\mathdef940{0C}~~l{:}\href{#binary-labelidx}{\mathtt{labelidx}} &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{br}}~l \\ &amp;&amp;|&amp;
  \def\mathdef941#1{\mathtt{0x#1}}\mathdef941{0D}~~l{:}\href{#binary-labelidx}{\mathtt{labelidx}} &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{br\_if}}~l \\ &amp;&amp;|&amp;
  \def\mathdef942#1{\mathtt{0x#1}}\mathdef942{0E}~~l^\ast{:}\href{#binary-vec}{\mathtt{vec}}(\href{#binary-labelidx}{\mathtt{labelidx}})~~l_N{:}\href{#binary-labelidx}{\mathtt{labelidx}}
    &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{br\_table}}~l^\ast~l_N \\ &amp;&amp;|&amp;
  \def\mathdef943#1{\mathtt{0x#1}}\mathdef943{0F} &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{return}} \\ &amp;&amp;|&amp;
  \def\mathdef944#1{\mathtt{0x#1}}\mathdef944{10}~~x{:}\href{#binary-funcidx}{\mathtt{funcidx}} &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{call}}~x \\ &amp;&amp;|&amp;
  \def\mathdef945#1{\mathtt{0x#1}}\mathdef945{11}~~x{:}\href{#binary-typeidx}{\mathtt{typeidx}}~~\def\mathdef946#1{\mathtt{0x#1}}\mathdef946{00} &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{call\_indirect}}~x \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{else}}\)</span> opcode <span class="math notranslate">\(\def\mathdef947#1{\mathtt{0x#1}}\mathdef947{05}\)</span> in the encoding of an <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{if}}\)</span> instruction can be omitted if the following instruction sequence is empty.</p>
<p>Unlike any <a class="reference internal" href="index.html#binary-typeidx"><span class="std std-ref">other occurrence</span></a>, the <a class="reference internal" href="index.html#syntax-typeidx"><span class="std std-ref">type index</span></a> in a <a class="reference internal" href="index.html#syntax-blocktype"><span class="std std-ref">block type</span></a> is encoded as a positive <a class="reference internal" href="index.html#syntax-sint"><span class="std std-ref">signed integer</span></a>, so that its signed LEB128 bit pattern cannot collide with the encoding of <a class="reference internal" href="index.html#binary-valtype"><span class="std std-ref">value types</span></a> or the special code <span class="math notranslate">\(\def\mathdef948#1{\mathtt{0x#1}}\mathdef948{40}\)</span>, which correspond to the LEB128 encoding of negative integers.
To avoid any loss in the range of allowed indices, it is treated as a 33 bit signed integer.</p>
<p class="last">In future versions of WebAssembly, the zero byte occurring in the encoding
of the <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{call\_indirect}}\)</span> instruction may be used to index additional tables.</p>
</div>
</div>
<div class="section" id="parametric-instructions">
<span id="binary-instr-parametric"></span><span id="index-2"></span><h4>Parametric Instructions</h4>
<p><a class="reference internal" href="index.html#syntax-instr-parametric"><span class="std std-ref">Parametric instructions</span></a> are represented by single byte codes.</p>
<div class="math notranslate" id="binary-select">
<span id="binary-drop"></span>\[\begin{split}\begin{array}{llclll}
\def\mathdef868#1{{}}\mathdef868{instruction} &amp; \href{#binary-instr}{\mathtt{instr}} &amp;::=&amp; \dots \\ &amp;&amp;|&amp;
  \def\mathdef949#1{\mathtt{0x#1}}\mathdef949{1A} &amp;\Rightarrow&amp; \href{#syntax-instr-parametric}{\mathsf{drop}} \\ &amp;&amp;|&amp;
  \def\mathdef950#1{\mathtt{0x#1}}\mathdef950{1B} &amp;\Rightarrow&amp; \href{#syntax-instr-parametric}{\mathsf{select}} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="variable-instructions">
<span id="binary-instr-variable"></span><span id="index-3"></span><h4>Variable Instructions</h4>
<p><a class="reference internal" href="index.html#syntax-instr-variable"><span class="std std-ref">Variable instructions</span></a> are represented by byte codes followed by the encoding of the respective <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">index</span></a>.</p>
<div class="math notranslate" id="binary-global-set">
<span id="binary-global-get"></span><span id="binary-local-tee"></span><span id="binary-local-set"></span><span id="binary-local-get"></span>\[\begin{split}\begin{array}{llclll}
\def\mathdef868#1{{}}\mathdef868{instruction} &amp; \href{#binary-instr}{\mathtt{instr}} &amp;::=&amp; \dots \\ &amp;&amp;|&amp;
  \def\mathdef951#1{\mathtt{0x#1}}\mathdef951{20}~~x{:}\href{#binary-localidx}{\mathtt{localidx}} &amp;\Rightarrow&amp; \href{#syntax-instr-variable}{\mathsf{local.get}}~x \\ &amp;&amp;|&amp;
  \def\mathdef952#1{\mathtt{0x#1}}\mathdef952{21}~~x{:}\href{#binary-localidx}{\mathtt{localidx}} &amp;\Rightarrow&amp; \href{#syntax-instr-variable}{\mathsf{local.set}}~x \\ &amp;&amp;|&amp;
  \def\mathdef953#1{\mathtt{0x#1}}\mathdef953{22}~~x{:}\href{#binary-localidx}{\mathtt{localidx}} &amp;\Rightarrow&amp; \href{#syntax-instr-variable}{\mathsf{local.tee}}~x \\ &amp;&amp;|&amp;
  \def\mathdef954#1{\mathtt{0x#1}}\mathdef954{23}~~x{:}\href{#binary-globalidx}{\mathtt{globalidx}} &amp;\Rightarrow&amp; \href{#syntax-instr-variable}{\mathsf{global.get}}~x \\ &amp;&amp;|&amp;
  \def\mathdef955#1{\mathtt{0x#1}}\mathdef955{24}~~x{:}\href{#binary-globalidx}{\mathtt{globalidx}} &amp;\Rightarrow&amp; \href{#syntax-instr-variable}{\mathsf{global.set}}~x \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="memory-instructions">
<span id="binary-instr-memory"></span><span id="index-4"></span><h4>Memory Instructions</h4>
<p>Each variant of <a class="reference internal" href="index.html#syntax-instr-memory"><span class="std std-ref">memory instruction</span></a> is encoded with a different byte code. Loads and stores are followed by the encoding of their <span class="math notranslate">\(\href{#syntax-memarg}{\mathit{memarg}}\)</span> immediate.</p>
<div class="math notranslate" id="binary-memory-grow">
<span id="binary-memory-size"></span><span id="binary-storen"></span><span id="binary-store"></span><span id="binary-loadn"></span><span id="binary-load"></span><span id="binary-memarg"></span>\[\begin{split}\begin{array}{llclll}
\def\mathdef868#1{{}}\mathdef868{memory argument} &amp; \href{#binary-memarg}{\mathtt{memarg}} &amp;::=&amp;
  a{:}\href{#binary-int}{\def\mathdef895#1{{\mathtt{u}#1}}\mathdef895{\mathtt{32}}}~~o{:}\href{#binary-int}{\def\mathdef895#1{{\mathtt{u}#1}}\mathdef895{\mathtt{32}}} &amp;\Rightarrow&amp; \{ \href{#syntax-instr-memory}{\mathsf{align}}~a,~\href{#syntax-instr-memory}{\mathsf{offset}}~o \} \\
\def\mathdef868#1{{}}\mathdef868{instruction} &amp; \href{#binary-instr}{\mathtt{instr}} &amp;::=&amp; \dots \\ &amp;&amp;|&amp;
  \def\mathdef956#1{\mathtt{0x#1}}\mathdef956{28}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}~m \\ &amp;&amp;|&amp;
  \def\mathdef957#1{\mathtt{0x#1}}\mathdef957{29}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}~m \\ &amp;&amp;|&amp;
  \def\mathdef958#1{\mathtt{0x#1}}\mathdef958{2A}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-memory}{\mathsf{load}}~m \\ &amp;&amp;|&amp;
  \def\mathdef959#1{\mathtt{0x#1}}\mathdef959{2B}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-memory}{\mathsf{load}}~m \\ &amp;&amp;|&amp;
  \def\mathdef960#1{\mathtt{0x#1}}\mathdef960{2C}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_s}~m \\ &amp;&amp;|&amp;
  \def\mathdef961#1{\mathtt{0x#1}}\mathdef961{2D}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_u}~m \\ &amp;&amp;|&amp;
  \def\mathdef962#1{\mathtt{0x#1}}\mathdef962{2E}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_s}~m \\ &amp;&amp;|&amp;
  \def\mathdef963#1{\mathtt{0x#1}}\mathdef963{2F}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_u}~m \\ &amp;&amp;|&amp;
  \def\mathdef964#1{\mathtt{0x#1}}\mathdef964{30}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_s}~m \\ &amp;&amp;|&amp;
  \def\mathdef965#1{\mathtt{0x#1}}\mathdef965{31}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_u}~m \\ &amp;&amp;|&amp;
  \def\mathdef966#1{\mathtt{0x#1}}\mathdef966{32}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_s}~m \\ &amp;&amp;|&amp;
  \def\mathdef967#1{\mathtt{0x#1}}\mathdef967{33}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_u}~m \\ &amp;&amp;|&amp;
  \def\mathdef968#1{\mathtt{0x#1}}\mathdef968{34}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{32\_s}~m \\ &amp;&amp;|&amp;
  \def\mathdef969#1{\mathtt{0x#1}}\mathdef969{35}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{32\_u}~m \\ &amp;&amp;|&amp;
  \def\mathdef970#1{\mathtt{0x#1}}\mathdef970{36}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{store}}~m \\ &amp;&amp;|&amp;
  \def\mathdef971#1{\mathtt{0x#1}}\mathdef971{37}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}~m \\ &amp;&amp;|&amp;
  \def\mathdef972#1{\mathtt{0x#1}}\mathdef972{38}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-memory}{\mathsf{store}}~m \\ &amp;&amp;|&amp;
  \def\mathdef973#1{\mathtt{0x#1}}\mathdef973{39}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-memory}{\mathsf{store}}~m \\ &amp;&amp;|&amp;
  \def\mathdef974#1{\mathtt{0x#1}}\mathdef974{3A}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{8}~m \\ &amp;&amp;|&amp;
  \def\mathdef975#1{\mathtt{0x#1}}\mathdef975{3B}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{16}~m \\ &amp;&amp;|&amp;
  \def\mathdef976#1{\mathtt{0x#1}}\mathdef976{3C}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{8}~m \\ &amp;&amp;|&amp;
  \def\mathdef977#1{\mathtt{0x#1}}\mathdef977{3D}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{16}~m \\ &amp;&amp;|&amp;
  \def\mathdef978#1{\mathtt{0x#1}}\mathdef978{3E}~~m{:}\href{#binary-memarg}{\mathtt{memarg}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{32}~m \\ &amp;&amp;|&amp;
  \def\mathdef979#1{\mathtt{0x#1}}\mathdef979{3F}~~\def\mathdef980#1{\mathtt{0x#1}}\mathdef980{00} &amp;\Rightarrow&amp; \href{#syntax-instr-memory}{\mathsf{memory.size}} \\ &amp;&amp;|&amp;
  \def\mathdef981#1{\mathtt{0x#1}}\mathdef981{40}~~\def\mathdef982#1{\mathtt{0x#1}}\mathdef982{00} &amp;\Rightarrow&amp; \href{#syntax-instr-memory}{\mathsf{memory.grow}} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In future versions of WebAssembly, the additional zero bytes occurring in the encoding of the <span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{memory.size}}\)</span> and <span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{memory.grow}}\)</span> instructions may be used to index additional memories.</p>
</div>
</div>
<div class="section" id="numeric-instructions">
<span id="binary-instr-numeric"></span><span id="index-5"></span><h4>Numeric Instructions</h4>
<p>All variants of <a class="reference internal" href="index.html#syntax-instr-numeric"><span class="std std-ref">numeric instructions</span></a> are represented by separate byte codes.</p>
<p>The <span class="math notranslate">\(\href{#syntax-instr-numeric}{\mathsf{const}}\)</span> instructions are followed by the respective literal.</p>
<div class="math notranslate" id="binary-const">
\[\begin{split}\begin{array}{llclll}
\def\mathdef868#1{{}}\mathdef868{instruction} &amp; \href{#binary-instr}{\mathtt{instr}} &amp;::=&amp; \dots \\&amp;&amp;|&amp;
  \def\mathdef983#1{\mathtt{0x#1}}\mathdef983{41}~~n{:}\href{#binary-int}{\def\mathdef903#1{{\mathtt{i}#1}}\mathdef903{\mathtt{32}}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~n \\ &amp;&amp;|&amp;
  \def\mathdef984#1{\mathtt{0x#1}}\mathdef984{42}~~n{:}\href{#binary-int}{\def\mathdef904#1{{\mathtt{i}#1}}\mathdef904{\mathtt{64}}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~n \\ &amp;&amp;|&amp;
  \def\mathdef985#1{\mathtt{0x#1}}\mathdef985{43}~~z{:}\href{#binary-float}{\def\mathdef906#1{{\mathtt{f}#1}}\mathdef906{\mathtt{32}}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~z \\ &amp;&amp;|&amp;
  \def\mathdef986#1{\mathtt{0x#1}}\mathdef986{44}~~z{:}\href{#binary-float}{\def\mathdef907#1{{\mathtt{f}#1}}\mathdef907{\mathtt{64}}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~z \\
\end{array}\end{split}\]</div>
<p>All other numeric instructions are plain opcodes without any immediates.</p>
<div class="math notranslate" id="binary-relop">
<span id="binary-testop"></span>\[\begin{split}\begin{array}{llclll}
\def\mathdef868#1{{}}\mathdef868{instruction} &amp; \href{#binary-instr}{\mathtt{instr}} &amp;::=&amp; \dots &amp;&amp; \phantom{thisshouldbeenough} \\&amp;&amp;|&amp;
  \def\mathdef987#1{\mathtt{0x#1}}\mathdef987{45} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{eqz}} \\ &amp;&amp;|&amp;
  \def\mathdef988#1{\mathtt{0x#1}}\mathdef988{46} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{eq}} \\ &amp;&amp;|&amp;
  \def\mathdef989#1{\mathtt{0x#1}}\mathdef989{47} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ne}} \\ &amp;&amp;|&amp;
  \def\mathdef990#1{\mathtt{0x#1}}\mathdef990{48} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef991#1{\mathtt{0x#1}}\mathdef991{49} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef992#1{\mathtt{0x#1}}\mathdef992{4A} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef993#1{\mathtt{0x#1}}\mathdef993{4B} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef994#1{\mathtt{0x#1}}\mathdef994{4C} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef995#1{\mathtt{0x#1}}\mathdef995{4D} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef996#1{\mathtt{0x#1}}\mathdef996{4E} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef997#1{\mathtt{0x#1}}\mathdef997{4F} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_u} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef868#1{{}}\mathdef868{instruction}} &amp; \phantom{\href{#binary-instr}{\mathtt{instr}}} &amp;\phantom{::=}&amp; \phantom{\dots} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef998#1{\mathtt{0x#1}}\mathdef998{50} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{eqz}} \\ &amp;&amp;|&amp;
  \def\mathdef999#1{\mathtt{0x#1}}\mathdef999{51} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{eq}} \\ &amp;&amp;|&amp;
  \def\mathdef1000#1{\mathtt{0x#1}}\mathdef1000{52} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ne}} \\ &amp;&amp;|&amp;
  \def\mathdef1001#1{\mathtt{0x#1}}\mathdef1001{53} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1002#1{\mathtt{0x#1}}\mathdef1002{54} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1003#1{\mathtt{0x#1}}\mathdef1003{55} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1004#1{\mathtt{0x#1}}\mathdef1004{56} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1005#1{\mathtt{0x#1}}\mathdef1005{57} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1006#1{\mathtt{0x#1}}\mathdef1006{58} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1007#1{\mathtt{0x#1}}\mathdef1007{59} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1008#1{\mathtt{0x#1}}\mathdef1008{5A} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_u} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef868#1{{}}\mathdef868{instruction}} &amp; \phantom{\href{#binary-instr}{\mathtt{instr}}} &amp;\phantom{::=}&amp; \phantom{\dots} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef1009#1{\mathtt{0x#1}}\mathdef1009{5B} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{eq}} \\ &amp;&amp;|&amp;
  \def\mathdef1010#1{\mathtt{0x#1}}\mathdef1010{5C} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{ne}} \\ &amp;&amp;|&amp;
  \def\mathdef1011#1{\mathtt{0x#1}}\mathdef1011{5D} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{lt}} \\ &amp;&amp;|&amp;
  \def\mathdef1012#1{\mathtt{0x#1}}\mathdef1012{5E} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{gt}} \\ &amp;&amp;|&amp;
  \def\mathdef1013#1{\mathtt{0x#1}}\mathdef1013{5F} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{le}} \\ &amp;&amp;|&amp;
  \def\mathdef1014#1{\mathtt{0x#1}}\mathdef1014{60} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{ge}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef868#1{{}}\mathdef868{instruction}} &amp; \phantom{\href{#binary-instr}{\mathtt{instr}}} &amp;\phantom{::=}&amp; \phantom{\dots} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef1015#1{\mathtt{0x#1}}\mathdef1015{61} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{eq}} \\ &amp;&amp;|&amp;
  \def\mathdef1016#1{\mathtt{0x#1}}\mathdef1016{62} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{ne}} \\ &amp;&amp;|&amp;
  \def\mathdef1017#1{\mathtt{0x#1}}\mathdef1017{63} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{lt}} \\ &amp;&amp;|&amp;
  \def\mathdef1018#1{\mathtt{0x#1}}\mathdef1018{64} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{gt}} \\ &amp;&amp;|&amp;
  \def\mathdef1019#1{\mathtt{0x#1}}\mathdef1019{65} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{le}} \\ &amp;&amp;|&amp;
  \def\mathdef1020#1{\mathtt{0x#1}}\mathdef1020{66} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{ge}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate" id="binary-binop">
<span id="binary-unop"></span>\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef868#1{{}}\mathdef868{instruction}} &amp; \phantom{\href{#binary-instr}{\mathtt{instr}}} &amp;\phantom{::=}&amp; \phantom{\dots} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef1021#1{\mathtt{0x#1}}\mathdef1021{67} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{clz}} \\ &amp;&amp;|&amp;
  \def\mathdef1022#1{\mathtt{0x#1}}\mathdef1022{68} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ctz}} \\ &amp;&amp;|&amp;
  \def\mathdef1023#1{\mathtt{0x#1}}\mathdef1023{69} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{popcnt}} \\ &amp;&amp;|&amp;
  \def\mathdef1024#1{\mathtt{0x#1}}\mathdef1024{6A} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{add}} \\ &amp;&amp;|&amp;
  \def\mathdef1025#1{\mathtt{0x#1}}\mathdef1025{6B} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{sub}} \\ &amp;&amp;|&amp;
  \def\mathdef1026#1{\mathtt{0x#1}}\mathdef1026{6C} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{mul}} \\ &amp;&amp;|&amp;
  \def\mathdef1027#1{\mathtt{0x#1}}\mathdef1027{6D} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1028#1{\mathtt{0x#1}}\mathdef1028{6E} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1029#1{\mathtt{0x#1}}\mathdef1029{6F} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1030#1{\mathtt{0x#1}}\mathdef1030{70} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1031#1{\mathtt{0x#1}}\mathdef1031{71} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{and}} \\ &amp;&amp;|&amp;
  \def\mathdef1032#1{\mathtt{0x#1}}\mathdef1032{72} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{or}} \\ &amp;&amp;|&amp;
  \def\mathdef1033#1{\mathtt{0x#1}}\mathdef1033{73} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{xor}} \\ &amp;&amp;|&amp;
  \def\mathdef1034#1{\mathtt{0x#1}}\mathdef1034{74} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{shl}} \\ &amp;&amp;|&amp;
  \def\mathdef1035#1{\mathtt{0x#1}}\mathdef1035{75} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1036#1{\mathtt{0x#1}}\mathdef1036{76} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1037#1{\mathtt{0x#1}}\mathdef1037{77} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rotl}} \\ &amp;&amp;|&amp;
  \def\mathdef1038#1{\mathtt{0x#1}}\mathdef1038{78} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rotr}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef868#1{{}}\mathdef868{instruction}} &amp; \phantom{\href{#binary-instr}{\mathtt{instr}}} &amp;\phantom{::=}&amp; \phantom{\dots} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef1039#1{\mathtt{0x#1}}\mathdef1039{79} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{clz}} \\ &amp;&amp;|&amp;
  \def\mathdef1040#1{\mathtt{0x#1}}\mathdef1040{7A} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ctz}} \\ &amp;&amp;|&amp;
  \def\mathdef1041#1{\mathtt{0x#1}}\mathdef1041{7B} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{popcnt}} \\ &amp;&amp;|&amp;
  \def\mathdef1042#1{\mathtt{0x#1}}\mathdef1042{7C} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{add}} \\ &amp;&amp;|&amp;
  \def\mathdef1043#1{\mathtt{0x#1}}\mathdef1043{7D} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{sub}} \\ &amp;&amp;|&amp;
  \def\mathdef1044#1{\mathtt{0x#1}}\mathdef1044{7E} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{mul}} \\ &amp;&amp;|&amp;
  \def\mathdef1045#1{\mathtt{0x#1}}\mathdef1045{7F} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1046#1{\mathtt{0x#1}}\mathdef1046{80} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1047#1{\mathtt{0x#1}}\mathdef1047{81} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1048#1{\mathtt{0x#1}}\mathdef1048{82} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1049#1{\mathtt{0x#1}}\mathdef1049{83} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{and}} \\ &amp;&amp;|&amp;
  \def\mathdef1050#1{\mathtt{0x#1}}\mathdef1050{84} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{or}} \\ &amp;&amp;|&amp;
  \def\mathdef1051#1{\mathtt{0x#1}}\mathdef1051{85} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{xor}} \\ &amp;&amp;|&amp;
  \def\mathdef1052#1{\mathtt{0x#1}}\mathdef1052{86} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{shl}} \\ &amp;&amp;|&amp;
  \def\mathdef1053#1{\mathtt{0x#1}}\mathdef1053{87} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1054#1{\mathtt{0x#1}}\mathdef1054{88} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1055#1{\mathtt{0x#1}}\mathdef1055{89} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rotl}} \\ &amp;&amp;|&amp;
  \def\mathdef1056#1{\mathtt{0x#1}}\mathdef1056{8A} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rotr}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef868#1{{}}\mathdef868{instruction}} &amp; \phantom{\href{#binary-instr}{\mathtt{instr}}} &amp;\phantom{::=}&amp; \phantom{\dots} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef1057#1{\mathtt{0x#1}}\mathdef1057{8B} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{abs}} \\ &amp;&amp;|&amp;
  \def\mathdef1058#1{\mathtt{0x#1}}\mathdef1058{8C} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{neg}} \\ &amp;&amp;|&amp;
  \def\mathdef1059#1{\mathtt{0x#1}}\mathdef1059{8D} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{ceil}} \\ &amp;&amp;|&amp;
  \def\mathdef1060#1{\mathtt{0x#1}}\mathdef1060{8E} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{floor}} \\ &amp;&amp;|&amp;
  \def\mathdef1061#1{\mathtt{0x#1}}\mathdef1061{8F} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}} \\ &amp;&amp;|&amp;
  \def\mathdef1062#1{\mathtt{0x#1}}\mathdef1062{90} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{nearest}} \\ &amp;&amp;|&amp;
  \def\mathdef1063#1{\mathtt{0x#1}}\mathdef1063{91} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{sqrt}} \\ &amp;&amp;|&amp;
  \def\mathdef1064#1{\mathtt{0x#1}}\mathdef1064{92} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{add}} \\ &amp;&amp;|&amp;
  \def\mathdef1065#1{\mathtt{0x#1}}\mathdef1065{93} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{sub}} \\ &amp;&amp;|&amp;
  \def\mathdef1066#1{\mathtt{0x#1}}\mathdef1066{94} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{mul}} \\ &amp;&amp;|&amp;
  \def\mathdef1067#1{\mathtt{0x#1}}\mathdef1067{95} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{div}} \\ &amp;&amp;|&amp;
  \def\mathdef1068#1{\mathtt{0x#1}}\mathdef1068{96} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{min}} \\ &amp;&amp;|&amp;
  \def\mathdef1069#1{\mathtt{0x#1}}\mathdef1069{97} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{max}} \\ &amp;&amp;|&amp;
  \def\mathdef1070#1{\mathtt{0x#1}}\mathdef1070{98} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{copysign}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef868#1{{}}\mathdef868{instruction}} &amp; \phantom{\href{#binary-instr}{\mathtt{instr}}} &amp;\phantom{::=}&amp; \phantom{\dots} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef1071#1{\mathtt{0x#1}}\mathdef1071{99} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{abs}} \\ &amp;&amp;|&amp;
  \def\mathdef1072#1{\mathtt{0x#1}}\mathdef1072{9A} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{neg}} \\ &amp;&amp;|&amp;
  \def\mathdef1073#1{\mathtt{0x#1}}\mathdef1073{9B} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{ceil}} \\ &amp;&amp;|&amp;
  \def\mathdef1074#1{\mathtt{0x#1}}\mathdef1074{9C} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{floor}} \\ &amp;&amp;|&amp;
  \def\mathdef1075#1{\mathtt{0x#1}}\mathdef1075{9D} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}} \\ &amp;&amp;|&amp;
  \def\mathdef1076#1{\mathtt{0x#1}}\mathdef1076{9E} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{nearest}} \\ &amp;&amp;|&amp;
  \def\mathdef1077#1{\mathtt{0x#1}}\mathdef1077{9F} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{sqrt}} \\ &amp;&amp;|&amp;
  \def\mathdef1078#1{\mathtt{0x#1}}\mathdef1078{A0} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{add}} \\ &amp;&amp;|&amp;
  \def\mathdef1079#1{\mathtt{0x#1}}\mathdef1079{A1} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{sub}} \\ &amp;&amp;|&amp;
  \def\mathdef1080#1{\mathtt{0x#1}}\mathdef1080{A2} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{mul}} \\ &amp;&amp;|&amp;
  \def\mathdef1081#1{\mathtt{0x#1}}\mathdef1081{A3} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{div}} \\ &amp;&amp;|&amp;
  \def\mathdef1082#1{\mathtt{0x#1}}\mathdef1082{A4} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{min}} \\ &amp;&amp;|&amp;
  \def\mathdef1083#1{\mathtt{0x#1}}\mathdef1083{A5} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{max}} \\ &amp;&amp;|&amp;
  \def\mathdef1084#1{\mathtt{0x#1}}\mathdef1084{A6} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{copysign}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate" id="binary-cvtop">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef868#1{{}}\mathdef868{instruction}} &amp; \phantom{\href{#binary-instr}{\mathtt{instr}}} &amp;\phantom{::=}&amp; \phantom{\dots} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef1085#1{\mathtt{0x#1}}\mathdef1085{A7} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{wrap}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}} \\ &amp;&amp;|&amp;
  \def\mathdef1086#1{\mathtt{0x#1}}\mathdef1086{A8} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1087#1{\mathtt{0x#1}}\mathdef1087{A9} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1088#1{\mathtt{0x#1}}\mathdef1088{AA} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1089#1{\mathtt{0x#1}}\mathdef1089{AB} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1090#1{\mathtt{0x#1}}\mathdef1090{AC} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{extend}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1091#1{\mathtt{0x#1}}\mathdef1091{AD} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{extend}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1092#1{\mathtt{0x#1}}\mathdef1092{AE} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1093#1{\mathtt{0x#1}}\mathdef1093{AF} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1094#1{\mathtt{0x#1}}\mathdef1094{B0} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1095#1{\mathtt{0x#1}}\mathdef1095{B1} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1096#1{\mathtt{0x#1}}\mathdef1096{B2} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1097#1{\mathtt{0x#1}}\mathdef1097{B3} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1098#1{\mathtt{0x#1}}\mathdef1098{B4} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1099#1{\mathtt{0x#1}}\mathdef1099{B5} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1100#1{\mathtt{0x#1}}\mathdef1100{B6} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{demote}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}} \\ &amp;&amp;|&amp;
  \def\mathdef1101#1{\mathtt{0x#1}}\mathdef1101{B7} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1102#1{\mathtt{0x#1}}\mathdef1102{B8} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1103#1{\mathtt{0x#1}}\mathdef1103{B9} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef1104#1{\mathtt{0x#1}}\mathdef1104{BA} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef1105#1{\mathtt{0x#1}}\mathdef1105{BB} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{promote}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}} \\ &amp;&amp;|&amp;
  \def\mathdef1106#1{\mathtt{0x#1}}\mathdef1106{BC} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}} \\ &amp;&amp;|&amp;
  \def\mathdef1107#1{\mathtt{0x#1}}\mathdef1107{BD} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}} \\ &amp;&amp;|&amp;
  \def\mathdef1108#1{\mathtt{0x#1}}\mathdef1108{BE} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}} \\ &amp;&amp;|&amp;
  \def\mathdef1109#1{\mathtt{0x#1}}\mathdef1109{BF} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="expressions">
<span id="binary-expr"></span><span id="index-6"></span><h4>Expressions</h4>
<p><a class="reference internal" href="index.html#syntax-expr"><span class="std std-ref">Expressions</span></a> are encoded by their instruction sequence terminated with an explicit <span class="math notranslate">\(\def\mathdef1110#1{\mathtt{0x#1}}\mathdef1110{0B}\)</span> opcode for <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{end}}\)</span>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef868#1{{}}\mathdef868{expression} &amp; \href{#binary-expr}{\mathtt{expr}} &amp;::=&amp;
  (\mathit{in}{:}\href{#binary-instr}{\mathtt{instr}})^\ast~~\def\mathdef1111#1{\mathtt{0x#1}}\mathdef1111{0B} &amp;\Rightarrow&amp; \mathit{in}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\
\end{array}\end{split}\]</div>
</div>
</div>
<span id="document-binary/modules"></span><div class="section" id="modules">
<h3>Modules</h3>
<p>The binary encoding of modules is organized into <em>sections</em>.
Most sections correspond to one component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a> record,
except that <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function definitions</span></a> are split into two sections, separating their type declarations in the <a class="reference internal" href="#binary-funcsec"><span class="std std-ref">function section</span></a> from their bodies in the <a class="reference internal" href="#binary-codesec"><span class="std std-ref">code section</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This separation enables <em>parallel</em> and <em>streaming</em> compilation of the functions in a module.</p>
</div>
<div class="section" id="indices">
<span id="binary-index"></span><span id="binary-labelidx"></span><span id="binary-localidx"></span><span id="binary-globalidx"></span><span id="binary-memidx"></span><span id="binary-tableidx"></span><span id="binary-funcidx"></span><span id="binary-typeidx"></span><span id="index-0"></span><h4>Indices</h4>
<p>All <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">indices</span></a> are encoded with their respective value.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{type index} &amp; \href{#binary-typeidx}{\mathtt{typeidx}} &amp;::=&amp; x{:}\href{#binary-int}{\def\mathdef1139#1{{\mathtt{u}#1}}\mathdef1139{\mathtt{32}}} &amp;\Rightarrow&amp; x \\
\def\mathdef1112#1{{}}\mathdef1112{function index} &amp; \href{#binary-funcidx}{\mathtt{funcidx}} &amp;::=&amp; x{:}\href{#binary-int}{\def\mathdef1139#1{{\mathtt{u}#1}}\mathdef1139{\mathtt{32}}} &amp;\Rightarrow&amp; x \\
\def\mathdef1112#1{{}}\mathdef1112{table index} &amp; \href{#binary-tableidx}{\mathtt{tableidx}} &amp;::=&amp; x{:}\href{#binary-int}{\def\mathdef1139#1{{\mathtt{u}#1}}\mathdef1139{\mathtt{32}}} &amp;\Rightarrow&amp; x \\
\def\mathdef1112#1{{}}\mathdef1112{memory index} &amp; \href{#binary-memidx}{\mathtt{memidx}} &amp;::=&amp; x{:}\href{#binary-int}{\def\mathdef1139#1{{\mathtt{u}#1}}\mathdef1139{\mathtt{32}}} &amp;\Rightarrow&amp; x \\
\def\mathdef1112#1{{}}\mathdef1112{global index} &amp; \href{#binary-globalidx}{\mathtt{globalidx}} &amp;::=&amp; x{:}\href{#binary-int}{\def\mathdef1139#1{{\mathtt{u}#1}}\mathdef1139{\mathtt{32}}} &amp;\Rightarrow&amp; x \\
\def\mathdef1112#1{{}}\mathdef1112{local index} &amp; \href{#binary-localidx}{\mathtt{localidx}} &amp;::=&amp; x{:}\href{#binary-int}{\def\mathdef1139#1{{\mathtt{u}#1}}\mathdef1139{\mathtt{32}}} &amp;\Rightarrow&amp; x \\
\def\mathdef1112#1{{}}\mathdef1112{label index} &amp; \href{#binary-labelidx}{\mathtt{labelidx}} &amp;::=&amp; l{:}\href{#binary-int}{\def\mathdef1139#1{{\mathtt{u}#1}}\mathdef1139{\mathtt{32}}} &amp;\Rightarrow&amp; l \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="sections">
<span id="binary-section"></span><span id="index-1"></span><h4>Sections</h4>
<p>Each section consists of</p>
<ul class="simple">
<li>a one-byte section <em>id</em>,</li>
<li>the <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef1118#1{{\mathit{u}#1}}\mathdef1118{\mathit{32}}}\)</span> <em>size</em> of the contents, in bytes,</li>
<li>the actual <em>contents</em>, whose structure is depended on the section id.</li>
</ul>
<p>Every section is optional; an omitted section is equivalent to the section being present with empty contents.</p>
<p>The following parameterized grammar rule defines the generic structure of a section with id <span class="math notranslate">\(N\)</span> and contents described by the grammar <span class="math notranslate">\(\mathtt{B}\)</span>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad}l}
\def\mathdef1112#1{{}}\mathdef1112{section} &amp; \href{#binary-section}{\mathtt{section}}_N(\mathtt{B}) &amp;::=&amp;
  N{:}\href{#binary-byte}{\mathtt{byte}}~~\mathit{size}{:}\href{#binary-int}{\def\mathdef1139#1{{\mathtt{u}#1}}\mathdef1139{\mathtt{32}}}~~\mathit{cont}{:}\mathtt{B}
    &amp;\Rightarrow&amp; \mathit{cont} &amp; (\mathrel{\mbox{if}} \mathit{size} = ||\mathtt{B}||) \\ &amp;&amp;|&amp;
  \epsilon &amp;\Rightarrow&amp; \epsilon
\end{array}\end{split}\]</div>
<p>For most sections, the contents <span class="math notranslate">\(\mathtt{B}\)</span> encodes a <a class="reference internal" href="index.html#binary-vec"><span class="std std-ref">vector</span></a>.
In these cases, the empty result <span class="math notranslate">\(\epsilon\)</span> is interpreted as the empty vector.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Other than for unknown <a class="reference internal" href="#binary-customsec"><span class="std std-ref">custom sections</span></a>,
the <span class="math notranslate">\(\mathit{size}\)</span> is not required for decoding, but can be used to skip sections when navigating through a binary.
The module is malformed if the size does not match the length of the binary contents <span class="math notranslate">\(\mathtt{B}\)</span>.</p>
</div>
<p>The following section ids are used:</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="95%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Id</th>
<th class="head">Section</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td><a class="reference internal" href="#binary-customsec"><span class="std std-ref">custom section</span></a></td>
</tr>
<tr class="row-odd"><td>1</td>
<td><a class="reference internal" href="#binary-typesec"><span class="std std-ref">type section</span></a></td>
</tr>
<tr class="row-even"><td>2</td>
<td><a class="reference internal" href="#binary-importsec"><span class="std std-ref">import section</span></a></td>
</tr>
<tr class="row-odd"><td>3</td>
<td><a class="reference internal" href="#binary-funcsec"><span class="std std-ref">function section</span></a></td>
</tr>
<tr class="row-even"><td>4</td>
<td><a class="reference internal" href="#binary-tablesec"><span class="std std-ref">table section</span></a></td>
</tr>
<tr class="row-odd"><td>5</td>
<td><a class="reference internal" href="#binary-memsec"><span class="std std-ref">memory section</span></a></td>
</tr>
<tr class="row-even"><td>6</td>
<td><a class="reference internal" href="#binary-globalsec"><span class="std std-ref">global section</span></a></td>
</tr>
<tr class="row-odd"><td>7</td>
<td><a class="reference internal" href="#binary-exportsec"><span class="std std-ref">export section</span></a></td>
</tr>
<tr class="row-even"><td>8</td>
<td><a class="reference internal" href="#binary-startsec"><span class="std std-ref">start section</span></a></td>
</tr>
<tr class="row-odd"><td>9</td>
<td><a class="reference internal" href="#binary-elemsec"><span class="std std-ref">element section</span></a></td>
</tr>
<tr class="row-even"><td>10</td>
<td><a class="reference internal" href="#binary-codesec"><span class="std std-ref">code section</span></a></td>
</tr>
<tr class="row-odd"><td>11</td>
<td><a class="reference internal" href="#binary-datasec"><span class="std std-ref">data section</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="custom-section">
<span id="binary-customsec"></span><span id="index-2"></span><h4>Custom Section</h4>
<p><em>Custom sections</em> have the id 0.
They are intended to be used for debugging information or third-party extensions, and are ignored by the WebAssembly semantics.
Their contents consist of a <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">name</span></a> further identifying the custom section, followed by an uninterpreted sequence of bytes for custom use.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{custom section} &amp; \href{#binary-customsec}{\mathtt{customsec}} &amp;::=&amp;
  \href{#binary-section}{\mathtt{section}}_0(\href{#binary-customsec}{\mathtt{custom}}) \\
\def\mathdef1112#1{{}}\mathdef1112{custom data} &amp; \href{#binary-customsec}{\mathtt{custom}} &amp;::=&amp;
  \href{#binary-name}{\mathtt{name}}~~\href{#binary-byte}{\mathtt{byte}}^\ast \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If an implementation interprets the contents of a custom section, then errors in that contents, or the placement of the section, must not invalidate the module.</p>
</div>
</div>
<div class="section" id="type-section">
<span id="binary-typesec"></span><span id="binary-typedef"></span><span id="index-3"></span><h4>Type Section</h4>
<p>The <em>type section</em> has the id 1.
It decodes into a vector of <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function types</span></a> that represent the <span class="math notranslate">\(\href{#syntax-module}{\mathsf{types}}\)</span> component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{type section} &amp; \href{#binary-typesec}{\mathtt{typesec}} &amp;::=&amp;
  \mathit{ft}^\ast{:\,}\href{#binary-section}{\mathtt{section}}_1(\href{#binary-vec}{\mathtt{vec}}(\href{#binary-functype}{\mathtt{functype}})) &amp;\Rightarrow&amp; \mathit{ft}^\ast \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="import-section">
<span id="binary-importsec"></span><span id="binary-importdesc"></span><span id="binary-import"></span><span id="index-4"></span><h4>Import Section</h4>
<p>The <em>import section</em> has the id 2.
It decodes into a vector of <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">imports</span></a> that represent the <span class="math notranslate">\(\href{#syntax-module}{\mathsf{imports}}\)</span> component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{import section} &amp; \href{#binary-importsec}{\mathtt{importsec}} &amp;::=&amp;
  \mathit{im}^\ast{:}\href{#binary-section}{\mathtt{section}}_2(\href{#binary-vec}{\mathtt{vec}}(\href{#binary-import}{\mathtt{import}})) &amp;\Rightarrow&amp; \mathit{im}^\ast \\
\def\mathdef1112#1{{}}\mathdef1112{import} &amp; \href{#binary-import}{\mathtt{import}} &amp;::=&amp;
  \mathit{mod}{:}\href{#binary-name}{\mathtt{name}}~~\mathit{nm}{:}\href{#binary-name}{\mathtt{name}}~~d{:}\href{#binary-importdesc}{\mathtt{importdesc}}
    &amp;\Rightarrow&amp; \{ \href{#syntax-import}{\mathsf{module}}~\mathit{mod}, \href{#syntax-import}{\mathsf{name}}~\mathit{nm}, \href{#syntax-import}{\mathsf{desc}}~d \} \\
\def\mathdef1112#1{{}}\mathdef1112{import description} &amp; \href{#binary-importdesc}{\mathtt{importdesc}} &amp;::=&amp;
  \def\mathdef1171#1{\mathtt{0x#1}}\mathdef1171{00}~~x{:}\href{#binary-typeidx}{\mathtt{typeidx}} &amp;\Rightarrow&amp; \href{#syntax-importdesc}{\mathsf{func}}~x \\ &amp;&amp;|&amp;
  \def\mathdef1172#1{\mathtt{0x#1}}\mathdef1172{01}~~\mathit{tt}{:}\href{#binary-tabletype}{\mathtt{tabletype}} &amp;\Rightarrow&amp; \href{#syntax-importdesc}{\mathsf{table}}~\mathit{tt} \\ &amp;&amp;|&amp;
  \def\mathdef1173#1{\mathtt{0x#1}}\mathdef1173{02}~~\mathit{mt}{:}\href{#binary-memtype}{\mathtt{memtype}} &amp;\Rightarrow&amp; \href{#syntax-importdesc}{\mathsf{mem}}~\mathit{mt} \\ &amp;&amp;|&amp;
  \def\mathdef1174#1{\mathtt{0x#1}}\mathdef1174{03}~~\mathit{gt}{:}\href{#binary-globaltype}{\mathtt{globaltype}} &amp;\Rightarrow&amp; \href{#syntax-importdesc}{\mathsf{global}}~\mathit{gt} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="function-section">
<span id="binary-funcsec"></span><span id="index-5"></span><h4>Function Section</h4>
<p>The <em>function section</em> has the id 3.
It decodes into a vector of <a class="reference internal" href="index.html#syntax-typeidx"><span class="std std-ref">type indices</span></a> that represent the <span class="math notranslate">\(\href{#syntax-func}{\mathsf{type}}\)</span> fields of the <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">functions</span></a> in the <span class="math notranslate">\(\href{#syntax-module}{\mathsf{funcs}}\)</span> component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.
The <span class="math notranslate">\(\href{#syntax-func}{\mathsf{locals}}\)</span> and <span class="math notranslate">\(\href{#syntax-func}{\mathsf{body}}\)</span> fields of the respective functions are encoded separately in the <a class="reference internal" href="#binary-codesec"><span class="std std-ref">code section</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{function section} &amp; \href{#binary-funcsec}{\mathtt{funcsec}} &amp;::=&amp;
  x^\ast{:}\href{#binary-section}{\mathtt{section}}_3(\href{#binary-vec}{\mathtt{vec}}(\href{#binary-typeidx}{\mathtt{typeidx}})) &amp;\Rightarrow&amp; x^\ast \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="table-section">
<span id="binary-tablesec"></span><span id="binary-table"></span><span id="index-6"></span><h4>Table Section</h4>
<p>The <em>table section</em> has the id 4.
It decodes into a vector of <a class="reference internal" href="index.html#syntax-table"><span class="std std-ref">tables</span></a> that represent the <span class="math notranslate">\(\href{#syntax-module}{\mathsf{tables}}\)</span> component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{table section} &amp; \href{#binary-tablesec}{\mathtt{tablesec}} &amp;::=&amp;
  \mathit{tab}^\ast{:}\href{#binary-section}{\mathtt{section}}_4(\href{#binary-vec}{\mathtt{vec}}(\href{#binary-table}{\mathtt{table}})) &amp;\Rightarrow&amp; \mathit{tab}^\ast \\
\def\mathdef1112#1{{}}\mathdef1112{table} &amp; \href{#binary-table}{\mathtt{table}} &amp;::=&amp;
  \mathit{tt}{:}\href{#binary-tabletype}{\mathtt{tabletype}} &amp;\Rightarrow&amp; \{ \href{#syntax-table}{\mathsf{type}}~\mathit{tt} \} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="memory-section">
<span id="binary-memsec"></span><span id="binary-mem"></span><span id="index-7"></span><h4>Memory Section</h4>
<p>The <em>memory section</em> has the id 5.
It decodes into a vector of <a class="reference internal" href="index.html#syntax-mem"><span class="std std-ref">memories</span></a> that represent the <span class="math notranslate">\(\href{#syntax-module}{\mathsf{mems}}\)</span> component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{memory section} &amp; \href{#binary-memsec}{\mathtt{memsec}} &amp;::=&amp;
  \mathit{mem}^\ast{:}\href{#binary-section}{\mathtt{section}}_5(\href{#binary-vec}{\mathtt{vec}}(\href{#binary-mem}{\mathtt{mem}})) &amp;\Rightarrow&amp; \mathit{mem}^\ast \\
\def\mathdef1112#1{{}}\mathdef1112{memory} &amp; \href{#binary-mem}{\mathtt{mem}} &amp;::=&amp;
  \mathit{mt}{:}\href{#binary-memtype}{\mathtt{memtype}} &amp;\Rightarrow&amp; \{ \href{#syntax-mem}{\mathsf{type}}~\mathit{mt} \} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="global-section">
<span id="binary-globalsec"></span><span id="binary-global"></span><span id="index-8"></span><h4>Global Section</h4>
<p>The <em>global section</em> has the id 6.
It decodes into a vector of <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">globals</span></a> that represent the <span class="math notranslate">\(\href{#syntax-module}{\mathsf{globals}}\)</span> component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{global section} &amp; \href{#binary-globalsec}{\mathtt{globalsec}} &amp;::=&amp;
  \mathit{glob}^\ast{:}\href{#binary-section}{\mathtt{section}}_6(\href{#binary-vec}{\mathtt{vec}}(\href{#binary-global}{\mathtt{global}})) &amp;\Rightarrow&amp; \mathit{glob}^\ast \\
\def\mathdef1112#1{{}}\mathdef1112{global} &amp; \href{#binary-global}{\mathtt{global}} &amp;::=&amp;
  \mathit{gt}{:}\href{#binary-globaltype}{\mathtt{globaltype}}~~e{:}\href{#binary-expr}{\mathtt{expr}}
    &amp;\Rightarrow&amp; \{ \href{#syntax-global}{\mathsf{type}}~\mathit{gt}, \href{#syntax-global}{\mathsf{init}}~e \} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="export-section">
<span id="binary-exportsec"></span><span id="binary-exportdesc"></span><span id="binary-export"></span><span id="index-9"></span><h4>Export Section</h4>
<p>The <em>export section</em> has the id 7.
It decodes into a vector of <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">exports</span></a> that represent the <span class="math notranslate">\(\href{#syntax-module}{\mathsf{exports}}\)</span> component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{export section} &amp; \href{#binary-exportsec}{\mathtt{exportsec}} &amp;::=&amp;
  \mathit{ex}^\ast{:}\href{#binary-section}{\mathtt{section}}_7(\href{#binary-vec}{\mathtt{vec}}(\href{#binary-export}{\mathtt{export}})) &amp;\Rightarrow&amp; \mathit{ex}^\ast \\
\def\mathdef1112#1{{}}\mathdef1112{export} &amp; \href{#binary-export}{\mathtt{export}} &amp;::=&amp;
  \mathit{nm}{:}\href{#binary-name}{\mathtt{name}}~~d{:}\href{#binary-exportdesc}{\mathtt{exportdesc}}
    &amp;\Rightarrow&amp; \{ \href{#syntax-export}{\mathsf{name}}~\mathit{nm}, \href{#syntax-export}{\mathsf{desc}}~d \} \\
\def\mathdef1112#1{{}}\mathdef1112{export description} &amp; \href{#binary-exportdesc}{\mathtt{exportdesc}} &amp;::=&amp;
  \def\mathdef1175#1{\mathtt{0x#1}}\mathdef1175{00}~~x{:}\href{#binary-funcidx}{\mathtt{funcidx}} &amp;\Rightarrow&amp; \href{#syntax-exportdesc}{\mathsf{func}}~x \\ &amp;&amp;|&amp;
  \def\mathdef1176#1{\mathtt{0x#1}}\mathdef1176{01}~~x{:}\href{#binary-tableidx}{\mathtt{tableidx}} &amp;\Rightarrow&amp; \href{#syntax-exportdesc}{\mathsf{table}}~x \\ &amp;&amp;|&amp;
  \def\mathdef1177#1{\mathtt{0x#1}}\mathdef1177{02}~~x{:}\href{#binary-memidx}{\mathtt{memidx}} &amp;\Rightarrow&amp; \href{#syntax-exportdesc}{\mathsf{mem}}~x \\ &amp;&amp;|&amp;
  \def\mathdef1178#1{\mathtt{0x#1}}\mathdef1178{03}~~x{:}\href{#binary-globalidx}{\mathtt{globalidx}} &amp;\Rightarrow&amp; \href{#syntax-exportdesc}{\mathsf{global}}~x \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="start-section">
<span id="binary-startsec"></span><span id="binary-start"></span><span id="index-10"></span><h4>Start Section</h4>
<p>The <em>start section</em> has the id 8.
It decodes into an optional <a class="reference internal" href="index.html#syntax-start"><span class="std std-ref">start function</span></a> that represents the <span class="math notranslate">\(\href{#syntax-module}{\mathsf{start}}\)</span> component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{start section} &amp; \href{#binary-startsec}{\mathtt{startsec}} &amp;::=&amp;
  \mathit{st}^?{:}\href{#binary-section}{\mathtt{section}}_8(\href{#binary-start}{\mathtt{start}}) &amp;\Rightarrow&amp; \mathit{st}^? \\
\def\mathdef1112#1{{}}\mathdef1112{start function} &amp; \href{#binary-start}{\mathtt{start}} &amp;::=&amp;
  x{:}\href{#binary-funcidx}{\mathtt{funcidx}} &amp;\Rightarrow&amp; \{ \href{#syntax-start}{\mathsf{func}}~x \} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="element-section">
<span id="binary-elemsec"></span><span id="binary-elem"></span><span id="index-11"></span><h4>Element Section</h4>
<p>The <em>element section</em> has the id 9.
It decodes into a vector of <a class="reference internal" href="index.html#syntax-elem"><span class="std std-ref">element segments</span></a> that represent the <span class="math notranslate">\(\href{#syntax-module}{\mathsf{elem}}\)</span> component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{element section} &amp; \href{#binary-elemsec}{\mathtt{elemsec}} &amp;::=&amp;
  \mathit{seg}^\ast{:}\href{#binary-section}{\mathtt{section}}_9(\href{#binary-vec}{\mathtt{vec}}(\href{#binary-elem}{\mathtt{elem}})) &amp;\Rightarrow&amp; \mathit{seg} \\
\def\mathdef1112#1{{}}\mathdef1112{element segment} &amp; \href{#binary-elem}{\mathtt{elem}} &amp;::=&amp;
  x{:}\href{#binary-tableidx}{\mathtt{tableidx}}~~e{:}\href{#binary-expr}{\mathtt{expr}}~~y^\ast{:}\href{#binary-vec}{\mathtt{vec}}(\href{#binary-funcidx}{\mathtt{funcidx}})
    &amp;\Rightarrow&amp; \{ \href{#syntax-elem}{\mathsf{table}}~x, \href{#syntax-elem}{\mathsf{offset}}~e, \href{#syntax-elem}{\mathsf{init}}~y^\ast \} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="code-section">
<span id="binary-codesec"></span><span id="binary-local"></span><span id="binary-func"></span><span id="binary-code"></span><span id="index-12"></span><h4>Code Section</h4>
<p>The <em>code section</em> has the id 10.
It decodes into a vector of <em>code</em> entries that are pairs of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> vectors and <a class="reference internal" href="index.html#syntax-expr"><span class="std std-ref">expressions</span></a>.
They represent the <span class="math notranslate">\(\href{#syntax-func}{\mathsf{locals}}\)</span> and <span class="math notranslate">\(\href{#syntax-func}{\mathsf{body}}\)</span> field of the <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">functions</span></a> in the <span class="math notranslate">\(\href{#syntax-module}{\mathsf{funcs}}\)</span> component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.
The <span class="math notranslate">\(\href{#syntax-func}{\mathsf{type}}\)</span> fields of the respective functions are encoded separately in the <a class="reference internal" href="#binary-funcsec"><span class="std std-ref">function section</span></a>.</p>
<p>The encoding of each code entry consists of</p>
<ul class="simple">
<li>the <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef1118#1{{\mathit{u}#1}}\mathdef1118{\mathit{32}}}\)</span> <em>size</em> of the function code in bytes,</li>
<li>the actual <em>function code</em>, which in turn consists of<ul>
<li>the declaration of <em>locals</em>,</li>
<li>the function <em>body</em> as an <a class="reference internal" href="index.html#binary-expr"><span class="std std-ref">expression</span></a>.</li>
</ul>
</li>
</ul>
<p>Local declarations are compressed into a vector whose entries consist of</p>
<ul class="simple">
<li>a <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef1118#1{{\mathit{u}#1}}\mathdef1118{\mathit{32}}}\)</span> <em>count</em>,</li>
<li>a <a class="reference internal" href="index.html#binary-valtype"><span class="std std-ref">value type</span></a>,</li>
</ul>
<p>denoting <em>count</em> locals of the same value type.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad}l}
\def\mathdef1112#1{{}}\mathdef1112{code section} &amp; \href{#binary-codesec}{\mathtt{codesec}} &amp;::=&amp;
  \mathit{code}^\ast{:}\href{#binary-section}{\mathtt{section}}_{10}(\href{#binary-vec}{\mathtt{vec}}(\href{#binary-code}{\mathtt{code}}))
    &amp;\Rightarrow&amp; \mathit{code}^\ast \\
\def\mathdef1112#1{{}}\mathdef1112{code} &amp; \href{#binary-code}{\mathtt{code}} &amp;::=&amp;
  \mathit{size}{:}\href{#binary-int}{\def\mathdef1139#1{{\mathtt{u}#1}}\mathdef1139{\mathtt{32}}}~~\mathit{code}{:}\href{#binary-func}{\mathtt{func}}
    &amp;\Rightarrow&amp; \mathit{code} &amp; (\mathrel{\mbox{if}} \mathit{size} = ||\href{#binary-func}{\mathtt{func}}||) \\
\def\mathdef1112#1{{}}\mathdef1112{function} &amp; \href{#binary-func}{\mathtt{func}} &amp;::=&amp;
  (t^\ast)^\ast{:}\href{#binary-vec}{\mathtt{vec}}(\href{#binary-local}{\mathtt{locals}})~~e{:}\href{#binary-expr}{\mathtt{expr}}
    &amp;\Rightarrow&amp; \href{#notation-concat}{\mathrm{concat}}((t^\ast)^\ast), e^\ast
      &amp; (\mathrel{\mbox{if}} |\href{#notation-concat}{\mathrm{concat}}((t^\ast)^\ast)| &lt; 2^{32}) \\
\def\mathdef1112#1{{}}\mathdef1112{locals} &amp; \href{#binary-local}{\mathtt{locals}} &amp;::=&amp;
  n{:}\href{#binary-int}{\def\mathdef1139#1{{\mathtt{u}#1}}\mathdef1139{\mathtt{32}}}~~t{:}\href{#binary-valtype}{\mathtt{valtype}} &amp;\Rightarrow&amp; t^n \\
\end{array}\end{split}\]</div>
<p>Here, <span class="math notranslate">\(\mathit{code}\)</span> ranges over pairs <span class="math notranslate">\((\href{#syntax-valtype}{\mathit{valtype}}^\ast, \href{#syntax-expr}{\mathit{expr}})\)</span>.
The meta function <span class="math notranslate">\(\href{#notation-concat}{\mathrm{concat}}((t^\ast)^\ast)\)</span> concatenates all sequences <span class="math notranslate">\(t_i^\ast\)</span> in <span class="math notranslate">\((t^\ast)^\ast\)</span>.
Any code for which the length of the resulting sequence is out of bounds of the maximum size of a <a class="reference internal" href="index.html#syntax-vec"><span class="std std-ref">vector</span></a> is malformed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Like with <a class="reference internal" href="#binary-section"><span class="std std-ref">sections</span></a>, the code <span class="math notranslate">\(\mathit{size}\)</span> is not needed for decoding, but can be used to skip functions when navigating through a binary.
The module is malformed if a size does not match the length of the respective function code.</p>
</div>
</div>
<div class="section" id="data-section">
<span id="binary-datasec"></span><span id="binary-data"></span><span id="index-13"></span><h4>Data Section</h4>
<p>The <em>data section</em> has the id 11.
It decodes into a vector of <a class="reference internal" href="index.html#syntax-data"><span class="std std-ref">data segments</span></a> that represent the <span class="math notranslate">\(\href{#syntax-module}{\mathsf{data}}\)</span> component of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef1112#1{{}}\mathdef1112{data section} &amp; \href{#binary-datasec}{\mathtt{datasec}} &amp;::=&amp;
  \mathit{seg}^\ast{:}\href{#binary-section}{\mathtt{section}}_{11}(\href{#binary-vec}{\mathtt{vec}}(\href{#binary-data}{\mathtt{data}})) &amp;\Rightarrow&amp; \mathit{seg} \\
\def\mathdef1112#1{{}}\mathdef1112{data segment} &amp; \href{#binary-data}{\mathtt{data}} &amp;::=&amp;
  x{:}\href{#binary-memidx}{\mathtt{memidx}}~~e{:}\href{#binary-expr}{\mathtt{expr}}~~b^\ast{:}\href{#binary-vec}{\mathtt{vec}}(\href{#binary-byte}{\mathtt{byte}})
    &amp;\Rightarrow&amp; \{ \href{#syntax-data}{\mathsf{data}}~x, \href{#syntax-data}{\mathsf{offset}}~e, \href{#syntax-data}{\mathsf{init}}~b^\ast \} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="binary-module">
<span id="binary-version"></span><span id="binary-magic"></span><span id="index-14"></span><span id="id1"></span><h4>Modules</h4>
<p>The encoding of a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a> starts with a preamble containing a 4-byte magic number (the string <span class="math notranslate">\(\def\mathdef1179#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef1179{\backslash0asm}\)</span>) and a version field.
The current version of the WebAssembly binary format is 1.</p>
<p>The preamble is followed by a sequence of <a class="reference internal" href="#binary-section"><span class="std std-ref">sections</span></a>.
<a class="reference internal" href="#binary-customsec"><span class="std std-ref">Custom sections</span></a> may be inserted at any place in this sequence,
while other sections must occur at most once and in the prescribed order.
All sections can be empty.
The lengths of vectors produced by the (possibly empty) <a class="reference internal" href="#binary-funcsec"><span class="std std-ref">function</span></a> and <a class="reference internal" href="#binary-codesec"><span class="std std-ref">code</span></a> section must match up.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcllll}
\def\mathdef1112#1{{}}\mathdef1112{magic} &amp; \href{#binary-magic}{\mathtt{magic}} &amp;::=&amp;
  \def\mathdef1180#1{\mathtt{0x#1}}\mathdef1180{00}~\def\mathdef1181#1{\mathtt{0x#1}}\mathdef1181{61}~\def\mathdef1182#1{\mathtt{0x#1}}\mathdef1182{73}~\def\mathdef1183#1{\mathtt{0x#1}}\mathdef1183{6D} \\
\def\mathdef1112#1{{}}\mathdef1112{version} &amp; \href{#binary-version}{\mathtt{version}} &amp;::=&amp;
  \def\mathdef1184#1{\mathtt{0x#1}}\mathdef1184{01}~\def\mathdef1185#1{\mathtt{0x#1}}\mathdef1185{00}~\def\mathdef1186#1{\mathtt{0x#1}}\mathdef1186{00}~\def\mathdef1187#1{\mathtt{0x#1}}\mathdef1187{00} \\
\def\mathdef1112#1{{}}\mathdef1112{module} &amp; \href{#binary-module}{\mathtt{module}} &amp;::=&amp;
  \href{#binary-magic}{\mathtt{magic}} \\ &amp;&amp;&amp;
  \href{#binary-version}{\mathtt{version}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast \\ &amp;&amp;&amp;
  \href{#syntax-functype}{\mathit{functype}}^\ast{:\,}\href{#binary-typesec}{\mathtt{typesec}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast \\ &amp;&amp;&amp;
  \href{#syntax-import}{\mathit{import}}^\ast{:\,}\href{#binary-importsec}{\mathtt{importsec}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast \\ &amp;&amp;&amp;
  \href{#syntax-typeidx}{\mathit{typeidx}}^n{:\,}\href{#binary-funcsec}{\mathtt{funcsec}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast \\ &amp;&amp;&amp;
  \href{#syntax-table}{\mathit{table}}^\ast{:\,}\href{#binary-tablesec}{\mathtt{tablesec}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast \\ &amp;&amp;&amp;
  \href{#syntax-mem}{\mathit{mem}}^\ast{:\,}\href{#binary-memsec}{\mathtt{memsec}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast \\ &amp;&amp;&amp;
  \href{#syntax-global}{\mathit{global}}^\ast{:\,}\href{#binary-globalsec}{\mathtt{globalsec}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast \\ &amp;&amp;&amp;
  \href{#syntax-export}{\mathit{export}}^\ast{:\,}\href{#binary-exportsec}{\mathtt{exportsec}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast \\ &amp;&amp;&amp;
  \href{#syntax-start}{\mathit{start}}^?{:\,}\href{#binary-startsec}{\mathtt{startsec}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast \\ &amp;&amp;&amp;
  \href{#syntax-elem}{\mathit{elem}}^\ast{:\,}\href{#binary-elemsec}{\mathtt{elemsec}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast \\ &amp;&amp;&amp;
  \mathit{code}^n{:\,}\href{#binary-codesec}{\mathtt{codesec}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast \\ &amp;&amp;&amp;
  \href{#syntax-data}{\mathit{data}}^\ast{:\,}\href{#binary-datasec}{\mathtt{datasec}} \\ &amp;&amp;&amp;
  \href{#binary-customsec}{\mathtt{customsec}}^\ast
  \quad\Rightarrow\quad \{~
    \begin{array}[t]{&#64;{}l&#64;{}}
    \href{#syntax-module}{\mathsf{types}}~\href{#syntax-functype}{\mathit{functype}}^\ast, \\
    \href{#syntax-module}{\mathsf{funcs}}~\href{#syntax-func}{\mathit{func}}^n, \\
    \href{#syntax-module}{\mathsf{tables}}~\href{#syntax-table}{\mathit{table}}^\ast, \\
    \href{#syntax-module}{\mathsf{mems}}~\href{#syntax-mem}{\mathit{mem}}^\ast, \\
    \href{#syntax-module}{\mathsf{globals}}~\href{#syntax-global}{\mathit{global}}^\ast, \\
    \href{#syntax-module}{\mathsf{elem}}~\href{#syntax-elem}{\mathit{elem}}^\ast, \\
    \href{#syntax-module}{\mathsf{data}}~\href{#syntax-data}{\mathit{data}}^\ast, \\
    \href{#syntax-module}{\mathsf{start}}~\href{#syntax-start}{\mathit{start}}^?, \\
    \href{#syntax-module}{\mathsf{imports}}~\href{#syntax-import}{\mathit{import}}^\ast, \\
    \href{#syntax-module}{\mathsf{exports}}~\href{#syntax-export}{\mathit{export}}^\ast ~\} \\
   \end{array} \\
\end{array}\end{split}\]</div>
<p>where for each <span class="math notranslate">\(t_i^\ast, e_i\)</span> in <span class="math notranslate">\(\mathit{code}^n\)</span>,</p>
<div class="math notranslate">
\[\begin{split}\href{#syntax-func}{\mathit{func}}^n[i] = \{ \href{#syntax-func}{\mathsf{type}}~\href{#syntax-typeidx}{\mathit{typeidx}}^n[i], \href{#syntax-func}{\mathsf{locals}}~t_i^\ast, \href{#syntax-func}{\mathsf{body}}~e_i \} ) \\\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The version of the WebAssembly binary format may increase in the future
if backward-incompatible changes have to be made to the format.
However, such changes are expected to occur very infrequently, if ever.
The binary format is intended to be forward-compatible,
such that future extensions can be made without incrementing its version.</p>
</div>
</div>
</div>
</div>
</div>
<span id="document-text/index"></span><div class="section" id="text-format">
<span id="text"></span><h2>Text Format</h2>
<div class="toctree-wrapper compound">
<span id="document-text/conventions"></span><div class="section" id="conventions">
<span id="index-0"></span><h3>Conventions</h3>
<p>The textual format for WebAssembly <a class="reference internal" href="index.html#module"><span class="std std-ref">modules</span></a> is a rendering of their <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">abstract syntax</span></a> into <a class="reference external" href="https://en.wikipedia.org/wiki/S-expression">S-expressions</a>.</p>
<p>Like the <a class="reference internal" href="index.html#binary"><span class="std std-ref">binary format</span></a>, the text format is defined by an <em>attribute grammar</em>.
A text string is a well-formed description of a module if and only if it is generated by the grammar.
Each production of this grammar has at most one synthesized attribute: the abstract syntax that the respective character sequence expresses.
Thus, the attribute grammar implicitly defines a <em>parsing</em> function.
Some productions also take a <a class="reference internal" href="#text-context"><span class="std std-ref">context</span></a> as an inherited attribute
that records bound <a class="reference internal" href="index.html#text-id"><span class="std std-ref">identifers</span></a>.</p>
<p>Except for a few exceptions, the core of the text grammar closely mirrors the grammar of the abstract syntax.
However, it also defines a number of <em>abbreviations</em> that are “syntactic sugar” over the core syntax.</p>
<p>The recommended extension for files containing WebAssembly modules in text format is “<span class="math notranslate">\(\mathtt{.wat}\)</span>”.
Files with this extension are assumed to be encoded in UTF-8, as per <a class="reference external" href="http://www.unicode.org/versions/latest/">Unicode</a> (Section 2.5).</p>
<div class="section" id="grammar">
<span id="text-grammar"></span><span id="index-1"></span><h4>Grammar</h4>
<p>The following conventions are adopted in defining grammar rules of the text format.
They mirror the conventions used for <a class="reference internal" href="index.html#grammar"><span class="std std-ref">abstract syntax</span></a> and for the <a class="reference internal" href="index.html#binary"><span class="std std-ref">binary format</span></a>.
In order to distinguish symbols of the textual syntax from symbols of the abstract syntax, <span class="math notranslate">\(\mathtt{typewriter}\)</span> font is adopted for the former.</p>
<ul class="simple">
<li>Terminal symbols are either literal strings of characters enclosed in quotes
or expressed as <a class="reference external" href="http://www.unicode.org/versions/latest/">Unicode</a> code points: <span class="math notranslate">\(\def\mathdef2374#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2374{module}\)</span>, <span class="math notranslate">\(\def\mathdef2375#1{\mathrm{U{+}#1}}\mathdef2375{0A}\)</span>.
(All characters written literally are unambiguously drawn from the 7-bit <a class="reference external" href="http://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a> subset of Unicode.)</li>
<li>Nonterminal symbols are written in typewriter font: <span class="math notranslate">\(\mathtt{valtype}, \mathtt{instr}\)</span>.</li>
<li><span class="math notranslate">\(T^n\)</span> is a sequence of <span class="math notranslate">\(n\geq 0\)</span> iterations  of <span class="math notranslate">\(T\)</span>.</li>
<li><span class="math notranslate">\(T^\ast\)</span> is a possibly empty sequence of iterations of <span class="math notranslate">\(T\)</span>.
(This is a shorthand for <span class="math notranslate">\(T^n\)</span> used where <span class="math notranslate">\(n\)</span> is not relevant.)</li>
<li><span class="math notranslate">\(T^+\)</span> is a sequence of one or more iterations of <span class="math notranslate">\(T\)</span>.
(This is a shorthand for <span class="math notranslate">\(T^n\)</span> where <span class="math notranslate">\(n \geq 1\)</span>.)</li>
<li><span class="math notranslate">\(T^?\)</span> is an optional occurrence of <span class="math notranslate">\(T\)</span>.
(This is a shorthand for <span class="math notranslate">\(T^n\)</span> where <span class="math notranslate">\(n \leq 1\)</span>.)</li>
<li><span class="math notranslate">\(x{:}T\)</span> denotes the same language as the nonterminal <span class="math notranslate">\(T\)</span>, but also binds the variable <span class="math notranslate">\(x\)</span> to the attribute synthesized for <span class="math notranslate">\(T\)</span>.</li>
<li>Productions are written <span class="math notranslate">\(\mathtt{sym} ::= T_1 \Rightarrow A_1 ~|~ \dots ~|~ T_n \Rightarrow A_n\)</span>, where each <span class="math notranslate">\(A_i\)</span> is the attribute that is synthesized for <span class="math notranslate">\(\mathtt{sym}\)</span> in the given case, usually from attribute variables bound in <span class="math notranslate">\(T_i\)</span>.</li>
<li>Some productions are augmented by side conditions in parentheses, which restrict the applicability of the production. They provide a shorthand for a combinatorial expansion of the production into many separate cases.</li>
</ul>
<ul class="simple" id="text-syntactic">
<li>A distinction is made between <em>lexical</em> and <em>syntactic</em> productions. For the latter, arbitrary <a class="reference internal" href="index.html#text-space"><span class="std std-ref">white space</span></a> is allowed in any place where the grammar contains spaces. The productions defining <a class="reference internal" href="index.html#text-lexical"><span class="std std-ref">lexical syntax</span></a> and the syntax of <a class="reference internal" href="index.html#text-value"><span class="std std-ref">values</span></a> are considered lexical, all others are syntactic.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For example, the <a class="reference internal" href="index.html#text-valtype"><span class="std std-ref">textual grammar</span></a> for <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> is given as follows:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcll&#64;{\qquad\qquad}l}
\def\mathdef2315#1{{}}\mathdef2315{value types} &amp; \href{#text-valtype}{\mathtt{valtype}} &amp;::=&amp;
  \def\mathdef2376#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2376{i32} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}} \\ &amp;&amp;|&amp;
  \def\mathdef2377#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2377{i64} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}} \\ &amp;&amp;|&amp;
  \def\mathdef2378#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2378{f32} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}} \\ &amp;&amp;|&amp;
  \def\mathdef2379#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2379{f64} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}} \\
\end{array}\end{split}\]</div>
<p>The <a class="reference internal" href="index.html#text-limits"><span class="std std-ref">textual grammar</span></a> for <a class="reference internal" href="index.html#syntax-limits"><span class="std std-ref">limits</span></a> is defined as follows:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2315#1{{}}\mathdef2315{limits} &amp; \href{#text-limits}{\mathtt{limits}} &amp;::=&amp;
  n{:}\href{#text-int}{\def\mathdef2362#1{{\mathtt{u}#1}}\mathdef2362{\mathtt{32}}} &amp;\Rightarrow&amp; \{ \href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~\epsilon \} \\ &amp;&amp;|&amp;
  n{:}\href{#text-int}{\def\mathdef2362#1{{\mathtt{u}#1}}\mathdef2362{\mathtt{32}}}~~m{:}\href{#text-int}{\def\mathdef2362#1{{\mathtt{u}#1}}\mathdef2362{\mathtt{32}}} &amp;\Rightarrow&amp; \{ \href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m \} \\
\end{array}\end{split}\]</div>
<p class="last">The variables <span class="math notranslate">\(n\)</span> and <span class="math notranslate">\(m\)</span> name the attributes of the respective <span class="math notranslate">\(\href{#text-int}{\def\mathdef2362#1{{\mathtt{u}#1}}\mathdef2362{\mathtt{32}}}\)</span> nonterminals, which in this case are the actual <a class="reference internal" href="index.html#syntax-uint"><span class="std std-ref">unsigned integers</span></a> those parse into.
The attribute of the complete production then is the abstract syntax for the limit, expressed in terms of the former values.</p>
</div>
</div>
<div class="section" id="abbreviations">
<span id="text-abbreviations"></span><span id="index-2"></span><h4>Abbreviations</h4>
<p>In addition to the core grammar, which corresponds directly to the <a class="reference internal" href="index.html#syntax"><span class="std std-ref">abstract syntax</span></a>, the textual syntax also defines a number of <em>abbreviations</em> that can be used for convenience and readability.</p>
<p>Abbreviations are defined by <em>rewrite rules</em> specifying their expansion into the core syntax:</p>
<div class="math notranslate">
\[\mathit{abbreviation~syntax} \quad\equiv\quad \mathit{expanded~syntax}\]</div>
<p>These expansions are assumed to be applied, recursively and in order of appearance, before applying the core grammar rules to construct the abstract syntax.</p>
</div>
<div class="section" id="contexts">
<span id="text-context"></span><span id="text-context-wf"></span><span id="index-3"></span><h4>Contexts</h4>
<p>The text format allows the use of symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">identifiers</span></a> in place of <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">indices</span></a>.
To resolve these identifiers into concrete indices,
some grammar production are indexed by an <em>identifier context</em> <span class="math notranslate">\(I\)</span> as a synthesized attribute that records the declared identifiers in each <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">index space</span></a>.
In addition, the context records the types defined in the module, so that <a class="reference internal" href="index.html#text-param"><span class="std std-ref">parameter</span></a> indices can be computed for <a class="reference internal" href="index.html#text-func"><span class="std std-ref">functions</span></a>.</p>
<p>It is convenient to define identifier contexts as <a class="reference internal" href="index.html#notation-record"><span class="std std-ref">records</span></a> <span class="math notranslate">\(I\)</span> with abstract syntax as follows:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2315#1{{}}\mathdef2315{(identifier context)} &amp; I &amp;::=&amp;
  \begin{array}[t]{l&#64;{~}ll}
  \{ &amp; \href{#text-context}{\mathsf{types}} &amp; (\href{#text-id}{\mathtt{id}}^?)^\ast, \\
     &amp; \href{#text-context}{\mathsf{funcs}} &amp; (\href{#text-id}{\mathtt{id}}^?)^\ast, \\
     &amp; \href{#text-context}{\mathsf{tables}} &amp; (\href{#text-id}{\mathtt{id}}^?)^\ast, \\
     &amp; \href{#text-context}{\mathsf{mems}} &amp; (\href{#text-id}{\mathtt{id}}^?)^\ast, \\
     &amp; \href{#text-context}{\mathsf{globals}} &amp; (\href{#text-id}{\mathtt{id}}^?)^\ast, \\
     &amp; \href{#text-context}{\mathsf{locals}} &amp; (\href{#text-id}{\mathtt{id}}^?)^\ast, \\
     &amp; \href{#text-context}{\mathsf{labels}} &amp; (\href{#text-id}{\mathtt{id}}^?)^\ast, \\
     &amp; \href{#text-context}{\mathsf{typedefs}} &amp; \href{#syntax-functype}{\mathit{functype}}^\ast ~\} \\
  \end{array}
\end{array}\end{split}\]</div>
<p>For each index space, such a context contains the list of <a class="reference internal" href="index.html#text-id"><span class="std std-ref">identifiers</span></a> assigned to the defined indices.
Unnamed indices are associated with empty (<span class="math notranslate">\(\epsilon\)</span>) entries in these lists.</p>
<p>An identifier context is <em>well-formed</em> if no index space contains duplicate identifiers.</p>
<div class="section" id="id1">
<h5>Conventions</h5>
<p>To avoid unnecessary clutter, empty components are omitted when writing out identifier contexts.
For example, the record <span class="math notranslate">\(\{\}\)</span> is shorthand for an <a class="reference internal" href="#text-context"><span class="std std-ref">identifier context</span></a> whose components are all empty.</p>
</div>
</div>
<div class="section" id="vectors">
<span id="text-vec"></span><span id="index-4"></span><h4>Vectors</h4>
<p><a class="reference internal" href="index.html#syntax-vec"><span class="std std-ref">Vectors</span></a> are written as plain sequences, but with a restriction on the length of these sequence.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef2315#1{{}}\mathdef2315{vector} &amp; \href{#text-vec}{\mathtt{vec}}(\mathtt{A}) &amp;::=&amp;
  (x{:}\mathtt{A})^n &amp;\Rightarrow&amp; x^n &amp; (\mathrel{\mbox{if}} n &lt; 2^{32}) \\
\end{array}\end{split}\]</div>
</div>
</div>
<span id="document-text/lexical"></span><div class="section" id="lexical-format">
<span id="text-lexical"></span><span id="index-0"></span><h3>Lexical Format</h3>
<div class="section" id="characters">
<span id="text-char"></span><span id="text-source"></span><span id="source"></span><span id="index-1"></span><h4>Characters</h4>
<p>The text format assigns meaning to <em>source text</em>, which consists of a sequence of <em>characters</em>.
Characters are assumed to be represented as valid <a class="reference external" href="http://www.unicode.org/versions/latest/">Unicode</a> (Section 2.4) <em>code points</em>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2710#1{{}}\mathdef2710{source} &amp; \href{#text-source}{\mathtt{source}} &amp;::=&amp;
  \href{#text-char}{\mathtt{char}}^\ast \\
\def\mathdef2710#1{{}}\mathdef2710{character} &amp; \href{#text-char}{\mathtt{char}} &amp;::=&amp;
  \def\mathdef2769#1{\mathrm{U{+}#1}}\mathdef2769{00} ~|~ \dots ~|~ \def\mathdef2770#1{\mathrm{U{+}#1}}\mathdef2770{D7FF} ~|~ \def\mathdef2771#1{\mathrm{U{+}#1}}\mathdef2771{E000} ~|~ \dots ~|~ \def\mathdef2772#1{\mathrm{U{+}#1}}\mathdef2772{10FFFF} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While source text may contain any Unicode character in <a class="reference internal" href="#text-comment"><span class="std std-ref">comments</span></a> or <a class="reference internal" href="index.html#text-string"><span class="std std-ref">string</span></a> literals,
the rest of the grammar is formed exclusively from the characters supported by the 7-bit <a class="reference external" href="http://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a> subset of Unicode.</p>
</div>
</div>
<div class="section" id="tokens">
<span id="text-token"></span><span id="text-reserved"></span><span id="text-keyword"></span><span id="index-2"></span><h4>Tokens</h4>
<p>The character stream in the source text is divided, from left to right, into a sequence of <em>tokens</em>, as defined by the following grammar.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef2710#1{{}}\mathdef2710{token} &amp; \href{#text-token}{\mathtt{token}} &amp;::=&amp;
  \href{#text-keyword}{\mathtt{keyword}} ~|~ \href{#text-int}{\def\mathdef2753#1{{\mathtt{u}#1}}\mathdef2753{N}} ~|~ \href{#text-int}{\def\mathdef2759#1{{\mathtt{s}#1}}\mathdef2759{N}} ~|~ \href{#text-float}{\def\mathdef2765#1{{\mathtt{f}#1}}\mathdef2765{N}} ~|~ \href{#text-string}{\mathtt{string}} ~|~ \href{#text-id}{\mathtt{id}} ~|~
  \def\mathdef2773#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2773{(} ~|~ \def\mathdef2774#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2774{)} ~|~ \href{#text-reserved}{\mathtt{reserved}} \\
\def\mathdef2710#1{{}}\mathdef2710{keyword} &amp; \href{#text-keyword}{\mathtt{keyword}} &amp;::=&amp;
  (\def\mathdef2775#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2775{a} ~|~ \dots ~|~ \def\mathdef2776#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2776{z})~\href{#text-idchar}{\mathtt{idchar}}^\ast
  \qquad (\mbox{if occurring as a literal terminal in the grammar}) \\
\def\mathdef2710#1{{}}\mathdef2710{reserved} &amp; \href{#text-reserved}{\mathtt{reserved}} &amp;::=&amp;
  \href{#text-idchar}{\mathtt{idchar}}^+ \\
\end{array}\end{split}\]</div>
<p>Tokens are formed from the input character stream according to the <em>longest match</em> rule.
That is, the next token always consists of the longest possible sequence of characters that is recognized by the above lexical grammar.
Tokens can be separated by <a class="reference internal" href="#text-space"><span class="std std-ref">white space</span></a>,
but except for strings, they cannot themselves contain whitespace.</p>
<p>The set of <em>keyword</em> tokens is defined implicitly, by all occurrences of a <a class="reference internal" href="index.html#text-grammar"><span class="std std-ref">terminal symbol</span></a> in literal form, such as <span class="math notranslate">\(\def\mathdef2777#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2777{keyword}\)</span>, in a <a class="reference internal" href="index.html#text-syntactic"><span class="std std-ref">syntactic</span></a> production of this chapter.</p>
<p>Any token that does not fall into any of the other categories is considered <em>reserved</em>, and cannot occur in source text.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The effect of defining the set of reserved tokens is that all tokens must be separated by either parentheses or <a class="reference internal" href="#text-space"><span class="std std-ref">white space</span></a>.
For example, <span class="math notranslate">\(\def\mathdef2778#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2778{0\$x}\)</span> is a single reserved token.
Consequently, it is not recognized as two separate tokens <span class="math notranslate">\(\def\mathdef2779#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2779{0}\)</span> and <span class="math notranslate">\(\def\mathdef2780#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2780{\$x}\)</span>, but instead disallowed.
This property of tokenization is not affected by the fact that the definition of reserved tokens overlaps with other token classes.</p>
</div>
</div>
<div class="section" id="white-space">
<span id="text-space"></span><span id="text-format"></span><span id="index-3"></span><h4>White Space</h4>
<p><em>White space</em> is any sequence of literal space characters, formatting characters, or <a class="reference internal" href="#text-comment"><span class="std std-ref">comments</span></a>.
The allowed formatting characters correspond to a subset of the <a class="reference external" href="http://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a> <em>format effectors</em>, namely, <em>horizontal tabulation</em> (<span class="math notranslate">\(\def\mathdef2781#1{\mathrm{U{+}#1}}\mathdef2781{09}\)</span>), <em>line feed</em> (<span class="math notranslate">\(\def\mathdef2782#1{\mathrm{U{+}#1}}\mathdef2782{0A}\)</span>), and <em>carriage return</em> (<span class="math notranslate">\(\def\mathdef2783#1{\mathrm{U{+}#1}}\mathdef2783{0D}\)</span>).</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef2710#1{{}}\mathdef2710{white space} &amp; \href{#text-space}{\mathtt{space}} &amp;::=&amp;
  (\def\mathdef2784#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2784{~~} ~|~ \href{#text-format}{\mathtt{format}} ~|~ \href{#text-comment}{\mathtt{comment}})^\ast \\
\def\mathdef2710#1{{}}\mathdef2710{format} &amp; \href{#text-format}{\mathtt{format}} &amp;::=&amp;
  \def\mathdef2785#1{\mathrm{U{+}#1}}\mathdef2785{09} ~|~ \def\mathdef2786#1{\mathrm{U{+}#1}}\mathdef2786{0A} ~|~ \def\mathdef2787#1{\mathrm{U{+}#1}}\mathdef2787{0D} \\
\end{array}\end{split}\]</div>
<p>The only relevance of white space is to separate <a class="reference internal" href="#text-token"><span class="std std-ref">tokens</span></a>. It is otherwise ignored.</p>
</div>
<div class="section" id="comments">
<span id="text-comment"></span><span id="index-4"></span><h4>Comments</h4>
<p>A <em>comment</em> can either be a <em>line comment</em>, started with a double semicolon <span class="math notranslate">\(\def\mathdef2752#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2752{{;}{;}}\)</span> and extending to the end of the line,
or a <em>block comment</em>, enclosed in delimiters <span class="math notranslate">\(\def\mathdef2750#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2750{{(}{;}} \dots \def\mathdef2751#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2751{{;}{)}}\)</span>.
Block comments can be nested.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef2710#1{{}}\mathdef2710{comment} &amp; \href{#text-comment}{\mathtt{comment}} &amp;::=&amp;
  \href{#text-comment}{\mathtt{linecomment}} ~|~ \href{#text-comment}{\mathtt{blockcomment}} \\
\def\mathdef2710#1{{}}\mathdef2710{line comment} &amp; \href{#text-comment}{\mathtt{linecomment}} &amp;::=&amp;
  \def\mathdef2752#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2752{{;}{;}}~~\href{#text-comment}{\mathtt{linechar}}^\ast~~(\def\mathdef2788#1{\mathrm{U{+}#1}}\mathdef2788{0A} ~|~ \mathtt{eof}) \\
\def\mathdef2710#1{{}}\mathdef2710{line character} &amp; \href{#text-comment}{\mathtt{linechar}} &amp;::=&amp;
  c{:}\href{#text-char}{\mathtt{char}} &amp; (\mathrel{\mbox{if}} c \neq \def\mathdef2789#1{\mathrm{U{+}#1}}\mathdef2789{0A}) \\
\def\mathdef2710#1{{}}\mathdef2710{block comment} &amp; \href{#text-comment}{\mathtt{blockcomment}} &amp;::=&amp;
  \def\mathdef2750#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2750{{(}{;}}~~\href{#text-comment}{\mathtt{blockchar}}^\ast~~\def\mathdef2751#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2751{{;}{)}} \\
\def\mathdef2710#1{{}}\mathdef2710{block character} &amp; \href{#text-comment}{\mathtt{blockchar}} &amp;::=&amp;
  c{:}\href{#text-char}{\mathtt{char}} &amp; (\mathrel{\mbox{if}} c \neq \def\mathdef2790#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2790{;} \wedge c \neq \def\mathdef2791#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2791{(}) \\ &amp;&amp;|&amp;
  \def\mathdef2792#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2792{;} &amp; (\mathrel{\mbox{if}}~\mbox{the next character is not}~\def\mathdef2793#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2793{)}) \\ &amp;&amp;|&amp;
  \def\mathdef2794#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2794{(} &amp; (\mathrel{\mbox{if}}~\mbox{the next character is not}~\def\mathdef2795#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2795{;}) \\ &amp;&amp;|&amp;
  \href{#text-comment}{\mathtt{blockcomment}} \\
\end{array}\end{split}\]</div>
<p>Here, the pseudo token <span class="math notranslate">\(\mathtt{eof}\)</span> indicates the end of the input.
The <em>look-ahead</em> restrictions on the productions for <span class="math notranslate">\(\href{#text-comment}{\mathtt{blockchar}}\)</span> disambiguate the grammar such that only well-bracketed uses of block comment delimiters are allowed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Any formatting and control characters are allowed inside comments.</p>
</div>
</div>
</div>
<span id="document-text/values"></span><div class="section" id="values">
<span id="text-value"></span><span id="index-0"></span><h3>Values</h3>
<p>The grammar productions in this section define <em>lexical syntax</em>,
hence no <a class="reference internal" href="index.html#text-space"><span class="std std-ref">white space</span></a> is allowed.</p>
<div class="section" id="integers">
<span id="text-int"></span><span id="text-uint"></span><span id="text-sint"></span><span id="text-hexnum"></span><span id="text-num"></span><span id="text-hexdigit"></span><span id="text-digit"></span><span id="text-sign"></span><span id="index-1"></span><h4>Integers</h4>
<p>All <a class="reference internal" href="index.html#syntax-int"><span class="std std-ref">integers</span></a> can be written in either decimal or hexadecimal notation.
In both cases, digits can optionally be separated by underscores.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad}l}
\def\mathdef3250#1{{}}\mathdef3250{sign} &amp; \href{#text-sign}{\mathtt{sign}} &amp;::=&amp;
  \epsilon \Rightarrow {+} ~~|~~
  \def\mathdef3309#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3309{+} \Rightarrow {+} ~~|~~
  \def\mathdef3310#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3310{-} \Rightarrow {-} \\
\def\mathdef3250#1{{}}\mathdef3250{decimal digit} &amp; \href{#text-digit}{\mathtt{digit}} &amp;::=&amp;
  \def\mathdef3311#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3311{0} \Rightarrow 0 ~~|~~ \dots ~~|~~ \def\mathdef3312#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3312{9} \Rightarrow 9 \\
\def\mathdef3250#1{{}}\mathdef3250{hexadecimal digit} &amp; \href{#text-hexdigit}{\mathtt{hexdigit}} &amp;::=&amp;
  d{:}\href{#text-digit}{\mathtt{digit}} \Rightarrow d \\ &amp;&amp;|&amp;
  \def\mathdef3313#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3313{A} \Rightarrow 10 ~~|~~ \dots ~~|~~ \def\mathdef3314#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3314{F} \Rightarrow 15 \\ &amp;&amp;|&amp;
  \def\mathdef3315#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3315{a} \Rightarrow 10 ~~|~~ \dots ~~|~~ \def\mathdef3316#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3316{f} \Rightarrow 15
\\[1ex]
\def\mathdef3250#1{{}}\mathdef3250{decimal number} &amp; \href{#text-num}{\mathtt{num}} &amp;::=&amp;
  d{:}\href{#text-digit}{\mathtt{digit}} &amp;\Rightarrow&amp; d \\ &amp;&amp;|&amp;
  n{:}\href{#text-num}{\mathtt{num}}~~\def\mathdef3317#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3317{\_}^?~~d{:}\href{#text-digit}{\mathtt{digit}} &amp;\Rightarrow&amp; 10\cdot n + d \\
\def\mathdef3250#1{{}}\mathdef3250{hexadecimal number} &amp; \href{#text-hexnum}{\mathtt{hexnum}} &amp;::=&amp;
  h{:}\href{#text-hexdigit}{\mathtt{hexdigit}} &amp;\Rightarrow&amp; h \\ &amp;&amp;|&amp;
  n{:}\href{#text-hexnum}{\mathtt{hexnum}}~~\def\mathdef3318#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3318{\_}^?~~h{:}\href{#text-hexdigit}{\mathtt{hexdigit}} &amp;\Rightarrow&amp; 16\cdot n + h \\
\end{array}\end{split}\]</div>
<p>The allowed syntax for integer literals depends on size and signedness.
Moreover, their value must lie within the range of the respective type.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad}l}
\def\mathdef3250#1{{}}\mathdef3250{unsigned integer} &amp; \href{#text-int}{\def\mathdef3293#1{{\mathtt{u}#1}}\mathdef3293{N}} &amp;::=&amp;
  n{:}\href{#text-num}{\mathtt{num}} &amp;\Rightarrow&amp; n &amp; (\mathrel{\mbox{if}} n &lt; 2^N) \\ &amp;&amp;|&amp;
  \def\mathdef3319#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3319{0x}~~n{:}\href{#text-hexnum}{\mathtt{hexnum}} &amp;\Rightarrow&amp; n &amp; (\mathrel{\mbox{if}} n &lt; 2^N) \\
\def\mathdef3250#1{{}}\mathdef3250{signed integer} &amp; \href{#text-int}{\def\mathdef3299#1{{\mathtt{s}#1}}\mathdef3299{N}} &amp;::=&amp;
  {\pm}{:}\href{#text-sign}{\mathtt{sign}}~~n{:}\href{#text-num}{\mathtt{num}} &amp;\Rightarrow&amp; \pm n &amp; (\mathrel{\mbox{if}} -2^{N-1} \leq \pm n &lt; 2^{N-1}) \\ &amp;&amp;|&amp;
  {\pm}{:}\href{#text-sign}{\mathtt{sign}}~~\def\mathdef3320#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3320{0x}~~n{:}\href{#text-hexnum}{\mathtt{hexnum}} &amp;\Rightarrow&amp; \pm n &amp; (\mathrel{\mbox{if}} -2^{N-1} \leq \pm n &lt; 2^{N-1}) \\
\end{array}\end{split}\]</div>
<p><a class="reference internal" href="index.html#syntax-int"><span class="std std-ref">Uninterpreted integers</span></a> can be written as either signed or unsigned, and are normalized to unsigned in the abstract syntax.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef3250#1{{}}\mathdef3250{uninterpreted integers} &amp; \href{#text-int}{\def\mathdef3302#1{{\mathtt{i}#1}}\mathdef3302{N}} &amp;::=&amp;
  n{:}\href{#text-int}{\def\mathdef3293#1{{\mathtt{u}#1}}\mathdef3293{N}} &amp;\Rightarrow&amp; n \\ &amp;&amp;|&amp;
  i{:}\href{#text-int}{\def\mathdef3299#1{{\mathtt{s}#1}}\mathdef3299{N}} &amp;\Rightarrow&amp; n &amp; (\mathrel{\mbox{if}} i = \href{#aux-signed}{\mathrm{signed}}(n)) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="floating-point">
<span id="text-float"></span><span id="text-hexfloat"></span><span id="text-hexfrac"></span><span id="text-frac"></span><span id="index-2"></span><h4>Floating-Point</h4>
<p><a class="reference internal" href="index.html#syntax-float"><span class="std std-ref">Floating-point</span></a> values can be represented in either decimal or hexadecimal notation.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef3250#1{{}}\mathdef3250{decimal floating-point fraction} &amp; \href{#text-frac}{\mathtt{frac}} &amp;::=&amp;
  \epsilon &amp;\Rightarrow&amp; 0 \\ &amp;&amp;|&amp;
  d{:}\href{#text-digit}{\mathtt{digit}}~~q{:}\href{#text-frac}{\mathtt{frac}} &amp;\Rightarrow&amp; (d+q)/10 \\ &amp;&amp;|&amp;
  d{:}\href{#text-digit}{\mathtt{digit}}~~\def\mathdef3321#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3321{\_}~~p{:}\href{#text-digit}{\mathtt{digit}}~~q{:}\href{#text-frac}{\mathtt{frac}} &amp;\Rightarrow&amp; (d+(p+q)/10)/10 \\
\def\mathdef3250#1{{}}\mathdef3250{hexadecimal floating-point fraction} &amp; \href{#text-hexfrac}{\mathtt{hexfrac}} &amp;::=&amp;
  \epsilon &amp;\Rightarrow&amp; 0 \\ &amp;&amp;|&amp;
  h{:}\href{#text-hexdigit}{\mathtt{hexdigit}}~~q{:}\href{#text-hexfrac}{\mathtt{hexfrac}} &amp;\Rightarrow&amp; (h+q)/16 \\ &amp;&amp;|&amp;
  h{:}\href{#text-hexdigit}{\mathtt{hexdigit}}~~\def\mathdef3322#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3322{\_}~~~~p{:}\href{#text-hexdigit}{\mathtt{hexdigit}}~~q{:}\href{#text-hexfrac}{\mathtt{hexfrac}} &amp;\Rightarrow&amp; (h+(p+q)/16)/16 \\
\def\mathdef3250#1{{}}\mathdef3250{decimal floating-point number} &amp; \href{#text-float}{\mathtt{float}} &amp;::=&amp;
  p{:}\href{#text-num}{\mathtt{num}}~\def\mathdef3323#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3323{.}~q{:}\href{#text-frac}{\mathtt{frac}}
    &amp;\Rightarrow&amp; p+q \\ &amp;&amp;|&amp;
  p{:}\href{#text-num}{\mathtt{num}}~(\def\mathdef3324#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3324{E}~|~\def\mathdef3325#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3325{e})~{\pm}{:}\href{#text-sign}{\mathtt{sign}}~e{:}\href{#text-num}{\mathtt{num}}
    &amp;\Rightarrow&amp; p\cdot 10^{\pm e} \\ &amp;&amp;|&amp;
  p{:}\href{#text-num}{\mathtt{num}}~\def\mathdef3326#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3326{.}~q{:}\href{#text-frac}{\mathtt{frac}}~(\def\mathdef3327#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3327{E}~|~\def\mathdef3328#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3328{e})~{\pm}{:}\href{#text-sign}{\mathtt{sign}}~e{:}\href{#text-num}{\mathtt{num}}
    &amp;\Rightarrow&amp; (p+q)\cdot 10^{\pm e} \\
\def\mathdef3250#1{{}}\mathdef3250{hexadecimal floating-point number} &amp; \href{#text-hexfloat}{\mathtt{hexfloat}} &amp;::=&amp;
  \def\mathdef3329#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3329{0x}~p{:}\href{#text-hexnum}{\mathtt{hexnum}}~\def\mathdef3330#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3330{.}~q{:}\href{#text-hexfrac}{\mathtt{hexfrac}}
    &amp;\Rightarrow&amp; p+q \\ &amp;&amp;|&amp;
  \def\mathdef3331#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3331{0x}~p{:}\href{#text-hexnum}{\mathtt{hexnum}}~(\def\mathdef3332#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3332{P}~|~\def\mathdef3333#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3333{p})~{\pm}{:}\href{#text-sign}{\mathtt{sign}}~e{:}\href{#text-num}{\mathtt{num}}
    &amp;\Rightarrow&amp; p\cdot 2^{\pm e} \\ &amp;&amp;|&amp;
  \def\mathdef3334#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3334{0x}~p{:}\href{#text-hexnum}{\mathtt{hexnum}}~\def\mathdef3335#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3335{.}~q{:}\href{#text-hexfrac}{\mathtt{hexfrac}}~(\def\mathdef3336#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3336{P}~|~\def\mathdef3337#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3337{p})~{\pm}{:}\href{#text-sign}{\mathtt{sign}}~e{:}\href{#text-num}{\mathtt{num}}
    &amp;\Rightarrow&amp; (p+q)\cdot 2^{\pm e}
\end{array}\end{split}\]</div>
<p>The value of a literal must not lie outside the representable range of the corresponding <a class="reference external" href="http://ieeexplore.ieee.org/document/4610935/">IEEE 754-2008</a> type
(that is, a numeric value must not overflow to <span class="math notranslate">\(\pm\mbox{infinity}\)</span>),
but it may be <a class="reference internal" href="index.html#aux-ieee"><span class="std std-ref">rounded</span></a> to the nearest representable value.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Rounding can be prevented by using hexadecimal notation with no more significant bits than supported by the required type.</p>
</div>
<p>Floating-point values may also be written as constants for <em>infinity</em> or <em>canonical NaN</em> (<em>not a number</em>).
Furthermore, arbitrary NaN values may be expressed by providing an explicit payload value.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef3250#1{{}}\mathdef3250{floating-point value} &amp; \href{#text-float}{\def\mathdef3305#1{{\mathtt{f}#1}}\mathdef3305{N}} &amp;::=&amp;
  {\pm}{:}\href{#text-sign}{\mathtt{sign}}~z{:}\href{#text-float}{\def\mathdef3306#1{{\mathtt{f}#1}}\mathdef3306{N}\mathtt{mag}} &amp;\Rightarrow&amp; \pm z \\
\def\mathdef3250#1{{}}\mathdef3250{floating-point magnitude} &amp; \href{#text-float}{\def\mathdef3306#1{{\mathtt{f}#1}}\mathdef3306{N}\mathtt{mag}} &amp;::=&amp;
  z{:}\href{#text-float}{\mathtt{float}} &amp;\Rightarrow&amp; \href{#aux-ieee}{\mathrm{float}}_N(z) &amp; (\mathrel{\mbox{if}} \href{#aux-ieee}{\mathrm{float}}_N(z) \neq \pm \infty) \\ &amp;&amp;|&amp;
  z{:}\href{#text-hexfloat}{\mathtt{hexfloat}} &amp;\Rightarrow&amp; \href{#aux-ieee}{\mathrm{float}}_N(z) &amp; (\mathrel{\mbox{if}} \href{#aux-ieee}{\mathrm{float}}_N(z) \neq \pm \infty) \\ &amp;&amp;|&amp;
  \def\mathdef3338#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3338{inf} &amp;\Rightarrow&amp; \infty \\ &amp;&amp;|&amp;
  \def\mathdef3339#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3339{nan} &amp;\Rightarrow&amp; \href{#syntax-float}{\mathsf{nan}}(2^{\href{#aux-significand}{\mathrm{signif}}(N)-1}) \\ &amp;&amp;|&amp;
  \def\mathdef3340#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3340{nan{:}0x}~n{:}\href{#text-hexnum}{\mathtt{hexnum}} &amp;\Rightarrow&amp; \href{#syntax-float}{\mathsf{nan}}(n) &amp; (\mathrel{\mbox{if}} 1 \leq n &lt; 2^{\href{#aux-significand}{\mathrm{signif}}(N)}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="strings">
<span id="text-string"></span><span id="text-byte"></span><span id="index-3"></span><h4>Strings</h4>
<p><em>Strings</em> denote sequences of bytes that can represent both textual and binary data.
They are enclosed in quotation marks
and may contain any character other than <a class="reference external" href="http://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a> control characters, quotation marks (<span class="math notranslate">\(\def\mathdef3341#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3341{&quot;}\)</span>), or backslash (<span class="math notranslate">\(\def\mathdef3342#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3342{\backslash}\)</span>),
except when expressed with an <em>escape sequence</em>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef3250#1{{}}\mathdef3250{string} &amp; \href{#text-string}{\mathtt{string}} &amp;::=&amp;
  \def\mathdef3343#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3343{&quot;}~(b^\ast{:}\href{#text-string}{\mathtt{stringelem}})^\ast~\def\mathdef3344#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3344{&quot;}
    &amp;\Rightarrow&amp; \href{#notation-concat}{\mathrm{concat}}((b^\ast)^\ast)
    &amp; (\mathrel{\mbox{if}} |\href{#notation-concat}{\mathrm{concat}}((b^\ast)^\ast)| &lt; 2^{32}) \\
\def\mathdef3250#1{{}}\mathdef3250{string element} &amp; \href{#text-string}{\mathtt{stringelem}} &amp;::=&amp;
  c{:}\href{#text-string}{\mathtt{stringchar}} &amp;\Rightarrow&amp; \href{#binary-utf8}{\mathrm{utf8}}(c) \\ &amp;&amp;|&amp;
  \def\mathdef3345#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3345{\backslash}~n{:}\href{#text-hexdigit}{\mathtt{hexdigit}}~m{:}\href{#text-hexdigit}{\mathtt{hexdigit}}
    &amp;\Rightarrow&amp; 16\cdot n+m \\
\end{array}\end{split}\]</div>
<p>Each character in a string literal represents the byte sequence corresponding to its UTF-8 <a class="reference external" href="http://www.unicode.org/versions/latest/">Unicode</a> (Section 2.5) encoding,
except for hexadecimal escape sequences <span class="math notranslate">\(\mbox{‘}\backslash hh\mbox{’}\)</span>, which represent raw bytes of the respective value.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef3250#1{{}}\mathdef3250{string character} &amp; \href{#text-string}{\mathtt{stringchar}} &amp;::=&amp;
  c{:}\href{#text-char}{\mathtt{char}} &amp;\Rightarrow&amp; c \qquad
    &amp; (\mathrel{\mbox{if}} c \geq \def\mathdef3346#1{\mathrm{U{+}#1}}\mathdef3346{20} \wedge c \neq \def\mathdef3347#1{\mathrm{U{+}#1}}\mathdef3347{7F} \wedge c \neq \def\mathdef3348#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3348{&quot;} \wedge c \neq \def\mathdef3349#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3349{\backslash}) \\ &amp;&amp;|&amp;
  \def\mathdef3350#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3350{\backslash t} &amp;\Rightarrow&amp; \def\mathdef3351#1{\mathrm{U{+}#1}}\mathdef3351{09} \\ &amp;&amp;|&amp;
  \def\mathdef3352#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3352{\backslash n} &amp;\Rightarrow&amp; \def\mathdef3353#1{\mathrm{U{+}#1}}\mathdef3353{0A} \\ &amp;&amp;|&amp;
  \def\mathdef3354#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3354{\backslash r} &amp;\Rightarrow&amp; \def\mathdef3355#1{\mathrm{U{+}#1}}\mathdef3355{0D} \\ &amp;&amp;|&amp;
  \def\mathdef3356#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3356{\backslash{&quot;}} &amp;\Rightarrow&amp; \def\mathdef3357#1{\mathrm{U{+}#1}}\mathdef3357{22} \\ &amp;&amp;|&amp;
  \def\mathdef3358#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3358{\backslash{'}} &amp;\Rightarrow&amp; \def\mathdef3359#1{\mathrm{U{+}#1}}\mathdef3359{27} \\ &amp;&amp;|&amp;
  \def\mathdef3360#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3360{\backslash\backslash} &amp;\Rightarrow&amp; \def\mathdef3361#1{\mathrm{U{+}#1}}\mathdef3361{5C} \\ &amp;&amp;|&amp;
  \def\mathdef3362#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3362{\backslash u\{}~n{:}\href{#text-hexnum}{\mathtt{hexnum}}~\def\mathdef3363#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3363{\}}
    &amp;\Rightarrow&amp; \def\mathdef3364#1{\mathrm{U{+}#1}}\mathdef3364{(n)} &amp; (\mathrel{\mbox{if}} n &lt; \def\mathdef3365#1{\mathtt{0x#1}}\mathdef3365{D800} \vee \def\mathdef3366#1{\mathtt{0x#1}}\mathdef3366{E000} \leq n &lt; \def\mathdef3367#1{\mathtt{0x#1}}\mathdef3367{110000}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="names">
<span id="text-name"></span><span id="index-4"></span><h4>Names</h4>
<p><a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">Names</span></a> are strings denoting a literal character sequence.
A name string must form a valid UTF-8 encoding as defined by <a class="reference external" href="http://www.unicode.org/versions/latest/">Unicode</a> (Section 2.5) and is interpreted as a string of Unicode code points.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad}l}
\def\mathdef3250#1{{}}\mathdef3250{name} &amp; \href{#text-name}{\mathtt{name}} &amp;::=&amp;
  b^\ast{:}\href{#text-string}{\mathtt{string}} &amp;\Rightarrow&amp; c^\ast &amp; (\mathrel{\mbox{if}} b^\ast = \href{#binary-utf8}{\mathrm{utf8}}(c^\ast)) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Presuming the source text is itself encoded correctly,
strings that do not contain any uses of hexadecimal byte escapes are always valid names.</p>
</div>
</div>
<div class="section" id="text-id">
<span id="text-idchar"></span><span id="index-5"></span><span id="identifiers"></span><h4>Identifiers</h4>
<p><a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">Indices</span></a> can be given in both numeric and symbolic form.
Symbolic <em>identifiers</em> that stand in lieu of indices start with <span class="math notranslate">\(\def\mathdef3368#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3368{\$}\)</span>, followed by any sequence of printable <a class="reference external" href="http://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a> characters that does not contain a space, quotation mark, comma, semicolon, or bracket.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad}l}
\def\mathdef3250#1{{}}\mathdef3250{identifier} &amp; \href{#text-id}{\mathtt{id}} &amp;::=&amp;
  \def\mathdef3369#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3369{\$}~\href{#text-idchar}{\mathtt{idchar}}^+ \\
\def\mathdef3250#1{{}}\mathdef3250{identifier character} &amp; \href{#text-idchar}{\mathtt{idchar}} &amp;::=&amp;
  \def\mathdef3370#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3370{0} ~~|~~ \dots ~~|~~ \def\mathdef3371#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3371{9} \\ &amp;&amp;|&amp;
  \def\mathdef3372#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3372{A} ~~|~~ \dots ~~|~~ \def\mathdef3373#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3373{Z} \\ &amp;&amp;|&amp;
  \def\mathdef3374#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3374{a} ~~|~~ \dots ~~|~~ \def\mathdef3375#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3375{z} \\ &amp;&amp;|&amp;
  \def\mathdef3376#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3376{!} ~~|~~
  \def\mathdef3377#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3377{\#} ~~|~~
  \def\mathdef3378#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3378{\$} ~~|~~
  \def\mathdef3379#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3379{\%} ~~|~~
  \def\mathdef3380#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3380{\&amp;} ~~|~~
  \def\mathdef3381#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3381{'} ~~|~~
  \def\mathdef3382#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3382{*} ~~|~~
  \def\mathdef3383#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3383{+} ~~|~~
  \def\mathdef3384#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3384{-} ~~|~~
  \def\mathdef3385#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3385{.} ~~|~~
  \def\mathdef3386#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3386{/} \\ &amp;&amp;|&amp;
  \def\mathdef3387#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3387{:} ~~|~~
  \def\mathdef3388#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3388{&lt;} ~~|~~
  \def\mathdef3389#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3389{=} ~~|~~
  \def\mathdef3390#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3390{&gt;} ~~|~~
  \def\mathdef3391#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3391{?} ~~|~~
  \def\mathdef3392#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3392{&#64;} ~~|~~
  \def\mathdef3393#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3393{\backslash} ~~|~~
  \def\mathdef3394#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3394{\hat{~~}} ~~|~~
  \def\mathdef3395#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3395{\_} ~~|~~
  \def\mathdef3396#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3396{\grave{~~}} ~~|~~
  \def\mathdef3397#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3397{|} ~~|~~
  \def\mathdef3398#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3398{\tilde{~~}} \\
\end{array}\end{split}\]</div>
<div class="section" id="conventions">
<span id="text-id-fresh"></span><h5>Conventions</h5>
<p>The expansion rules of some abbreviations require insertion of a <em>fresh</em> identifier.
That may be any syntactically valid identifier that does not already occur in the given source text.</p>
</div>
</div>
</div>
<span id="document-text/types"></span><div class="section" id="types">
<span id="text-type"></span><span id="index-0"></span><h3>Types</h3>
<div class="section" id="value-types">
<span id="text-valtype"></span><span id="index-1"></span><h4>Value Types</h4>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcll&#64;{\qquad\qquad}l}
\def\mathdef3162#1{{}}\mathdef3162{value type} &amp; \href{#text-valtype}{\mathtt{valtype}} &amp;::=&amp;
  \def\mathdef3221#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3221{i32} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}} \\ &amp;&amp;|&amp;
  \def\mathdef3222#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3222{i64} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}} \\ &amp;&amp;|&amp;
  \def\mathdef3223#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3223{f32} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}} \\ &amp;&amp;|&amp;
  \def\mathdef3224#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3224{f64} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="function-types">
<span id="text-functype"></span><span id="text-result"></span><span id="text-param"></span><span id="index-2"></span><h4>Function Types</h4>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef3162#1{{}}\mathdef3162{function type} &amp; \href{#text-functype}{\mathtt{functype}} &amp;::=&amp;
  \def\mathdef3225#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3225{(}~\def\mathdef3226#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3226{func}~~t_1^\ast{:\,}\href{#text-vec}{\mathtt{vec}}(\href{#text-functype}{\mathtt{param}})~~t_2^\ast{:\,}\href{#text-vec}{\mathtt{vec}}(\href{#text-functype}{\mathtt{result}})~\def\mathdef3227#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3227{)}
    &amp;\Rightarrow&amp; [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast] \\
\def\mathdef3162#1{{}}\mathdef3162{parameter} &amp; \href{#text-functype}{\mathtt{param}} &amp;::=&amp;
  \def\mathdef3228#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3228{(}~\def\mathdef3229#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3229{param}~~\href{#text-id}{\mathtt{id}}^?~~t{:}\href{#text-valtype}{\mathtt{valtype}}~\def\mathdef3230#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3230{)}
    &amp;\Rightarrow&amp; t \\
\def\mathdef3162#1{{}}\mathdef3162{result} &amp; \href{#text-functype}{\mathtt{result}} &amp;::=&amp;
  \def\mathdef3231#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3231{(}~\def\mathdef3232#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3232{result}~~t{:}\href{#text-valtype}{\mathtt{valtype}}~\def\mathdef3233#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3233{)}
    &amp;\Rightarrow&amp; t \\
\end{array}\end{split}\]</div>
<div class="section" id="abbreviations">
<h5>Abbreviations</h5>
<p>Multiple anonymous parameters or results may be combined into a single declaration:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef3162#1{{}}\mathdef3162{parameter} &amp;
  \def\mathdef3234#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3234{(}~~\def\mathdef3235#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3235{param}~~\href{#text-valtype}{\mathtt{valtype}}^\ast~~\def\mathdef3236#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3236{)} &amp;\equiv&amp;
  (\def\mathdef3237#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3237{(}~~\def\mathdef3238#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3238{param}~~\href{#text-valtype}{\mathtt{valtype}}~~\def\mathdef3239#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3239{)})^\ast \\
\def\mathdef3162#1{{}}\mathdef3162{result} &amp;
  \def\mathdef3240#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3240{(}~~\def\mathdef3241#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3241{result}~~\href{#text-valtype}{\mathtt{valtype}}^\ast~~\def\mathdef3242#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3242{)} &amp;\equiv&amp;
  (\def\mathdef3243#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3243{(}~~\def\mathdef3244#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3244{result}~~\href{#text-valtype}{\mathtt{valtype}}~~\def\mathdef3245#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3245{)})^\ast \\
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="limits">
<span id="text-limits"></span><span id="index-3"></span><h4>Limits</h4>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef3162#1{{}}\mathdef3162{limits} &amp; \href{#text-limits}{\mathtt{limits}} &amp;::=&amp;
  n{:}\href{#text-int}{\def\mathdef3209#1{{\mathtt{u}#1}}\mathdef3209{\mathtt{32}}} &amp;\Rightarrow&amp; \{ \href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~\epsilon \} \\ &amp;&amp;|&amp;
  n{:}\href{#text-int}{\def\mathdef3209#1{{\mathtt{u}#1}}\mathdef3209{\mathtt{32}}}~~m{:}\href{#text-int}{\def\mathdef3209#1{{\mathtt{u}#1}}\mathdef3209{\mathtt{32}}} &amp;\Rightarrow&amp; \{ \href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m \} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="memory-types">
<span id="text-memtype"></span><span id="index-4"></span><h4>Memory Types</h4>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll&#64;{\qquad\qquad}l}
\def\mathdef3162#1{{}}\mathdef3162{memory type} &amp; \href{#text-memtype}{\mathtt{memtype}} &amp;::=&amp;
  \mathit{lim}{:}\href{#text-limits}{\mathtt{limits}} &amp;\Rightarrow&amp; \mathit{lim} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="table-types">
<span id="text-tabletype"></span><span id="text-elemtype"></span><span id="index-5"></span><h4>Table Types</h4>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef3162#1{{}}\mathdef3162{table type} &amp; \href{#text-tabletype}{\mathtt{tabletype}} &amp;::=&amp;
  \mathit{lim}{:}\href{#text-limits}{\mathtt{limits}}~~\mathit{et}{:}\href{#text-elemtype}{\mathtt{elemtype}} &amp;\Rightarrow&amp; \mathit{lim}~\mathit{et} \\
\def\mathdef3162#1{{}}\mathdef3162{element type} &amp; \href{#text-elemtype}{\mathtt{elemtype}} &amp;::=&amp;
  \def\mathdef3246#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3246{funcref} &amp;\Rightarrow&amp; \href{#syntax-elemtype}{\mathsf{funcref}} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Additional element types may be introduced in future versions of WebAssembly.</p>
</div>
</div>
<div class="section" id="global-types">
<span id="text-globaltype"></span><span id="index-6"></span><h4>Global Types</h4>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef3162#1{{}}\mathdef3162{global type} &amp; \href{#text-globaltype}{\mathtt{globaltype}} &amp;::=&amp;
  t{:}\href{#text-valtype}{\mathtt{valtype}} &amp;\Rightarrow&amp; \href{#syntax-mut}{\mathsf{const}}~t \\ &amp;&amp;|&amp;
  \def\mathdef3247#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3247{(}~\def\mathdef3248#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3248{mut}~~t{:}\href{#text-valtype}{\mathtt{valtype}}~\def\mathdef3249#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3249{)} &amp;\Rightarrow&amp; \href{#syntax-mut}{\mathsf{var}}~t \\
\end{array}\end{split}\]</div>
</div>
</div>
<span id="document-text/instructions"></span><div class="section" id="instructions">
<span id="text-instr"></span><span id="index-0"></span><h3>Instructions</h3>
<p>Instructions are syntactically distinguished into <em>plain</em> and <em>structured</em> instructions.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2439#1{{}}\mathdef2439{instruction} &amp; \href{#text-instr}{\mathtt{instr}}_I &amp;::=&amp;
  \mathit{in}{:}\href{#text-plaininstr}{\mathtt{plaininstr}}_I
    &amp;\Rightarrow&amp; \mathit{in} \\ &amp;&amp;|&amp;
  \mathit{in}{:}\href{#text-blockinstr}{\mathtt{blockinstr}}_I
    &amp;\Rightarrow&amp; \mathit{in} \\
\end{array}\end{split}\]</div>
<p>In addition, as a syntactic abbreviation, instructions can be written as S-expressions in <a class="reference internal" href="#text-foldedinstr"><span class="std std-ref">folded</span></a> form, to group them visually.</p>
<div class="section" id="labels">
<span id="text-label"></span><span id="index-1"></span><h4>Labels</h4>
<p><a class="reference internal" href="#text-instr-control"><span class="std std-ref">Structured control instructions</span></a> can be annotated with a symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">label identifier</span></a>.
They are the only <a class="reference internal" href="index.html#text-index"><span class="std std-ref">symbolic identifiers</span></a> that can be bound locally in an instruction sequence.
The following grammar handles the corresponding update to the <a class="reference internal" href="index.html#text-context"><span class="std std-ref">identifier context</span></a> by <a class="reference internal" href="index.html#notation-compose"><span class="std std-ref">composing</span></a> the context with an additional label entry.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcllll}
\def\mathdef2439#1{{}}\mathdef2439{label} &amp; \href{#text-label}{\mathtt{label}}_I &amp;::=&amp;
  v{:}\href{#text-id}{\mathtt{id}} &amp;\Rightarrow&amp; \{\href{#text-context}{\mathsf{labels}}~v\} \href{#notation-compose}{\oplus} I
    &amp; (\mathrel{\mbox{if}} v \notin I.\href{#text-context}{\mathsf{labels}}) \\ &amp;&amp;|&amp;
  \epsilon &amp;\Rightarrow&amp; \{\href{#text-context}{\mathsf{labels}}~(\epsilon)\} \href{#notation-compose}{\oplus} I \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The new label entry is inserted at the <em>beginning</em> of the label list in the identifier context.
This effectively shifts all existing labels up by one,
mirroring the fact that control instructions are indexed relatively not absolutely.</p>
</div>
</div>
<div class="section" id="control-instructions">
<span id="text-instr-control"></span><span id="text-plaininstr"></span><span id="text-blockinstr"></span><span id="index-2"></span><h4>Control Instructions</h4>
<p id="text-instr-block"><span id="text-if"></span><span id="text-loop"></span><span id="text-block"></span><span id="text-blocktype"></span><a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">Structured control instructions</span></a> can bind an optional symbolic <a class="reference internal" href="#text-label"><span class="std std-ref">label identifier</span></a>.
The same label identifier may optionally be repeated after the corresponding <span class="math notranslate">\(\mathtt{end}\)</span> and <span class="math notranslate">\(\mathtt{else}\)</span> pseudo instructions, to indicate the matching delimiters.</p>
<p>Their <a class="reference internal" href="index.html#syntax-blocktype"><span class="std std-ref">block type</span></a> is given as a <a class="reference internal" href="index.html#text-typeuse"><span class="std std-ref">type use</span></a>, analogous to the type of <a class="reference internal" href="index.html#text-func"><span class="std std-ref">functions</span></a>.
However, the special case of a type use that is syntactically empty or consists of only a single <a class="reference internal" href="index.html#text-result"><span class="std std-ref">result</span></a> is not regarded as an <a class="reference internal" href="index.html#text-typeuse-abbrev"><span class="std std-ref">abbreviation</span></a> for an inline <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a>, but is parsed directly into an optional <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2439#1{{}}\mathdef2439{block type} &amp; \href{#text-blocktype}{\mathtt{blocktype}}_I &amp;
\begin{array}[t]{&#64;{}c&#64;{}} ::= \\ | \\ \end{array}
&amp;
\begin{array}[t]{&#64;{}lcll&#64;{}}
  (t{:}\href{#text-functype}{\mathtt{result}})^? &amp;\Rightarrow&amp; t^? \\
  x,I'{:}\href{#text-typeuse}{\mathtt{typeuse}}_I &amp;\Rightarrow&amp; x &amp; (\mathrel{\mbox{if}} I' = \{\}) \\
\end{array} \\
\def\mathdef2439#1{{}}\mathdef2439{block instruction} &amp; \href{#text-blockinstr}{\mathtt{blockinstr}}_I &amp;::=&amp;
  \def\mathdef2498#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2498{block}~~I'{:}\href{#text-label}{\mathtt{label}}_I~~\mathit{bt}{:}\href{#text-blocktype}{\mathtt{blocktype}}~~(\mathit{in}{:}\href{#text-instr}{\mathtt{instr}}_{I'})^\ast~~\def\mathdef2499#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2499{end}~~\href{#text-id}{\mathtt{id}}^?
    \\ &amp;&amp;&amp;\qquad \Rightarrow\quad \href{#syntax-instr-control}{\mathsf{block}}~\mathit{bt}~\mathit{in}^\ast~\href{#syntax-instr-control}{\mathsf{end}}
    \qquad\quad~~ (\mathrel{\mbox{if}} \href{#text-id}{\mathtt{id}}^? = \epsilon \vee \href{#text-id}{\mathtt{id}}^? = \href{#text-label}{\mathtt{label}}) \\ &amp;&amp;|&amp;
  \def\mathdef2500#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2500{loop}~~I'{:}\href{#text-label}{\mathtt{label}}_I~~\mathit{bt}{:}\href{#text-blocktype}{\mathtt{blocktype}}~~(\mathit{in}{:}\href{#text-instr}{\mathtt{instr}}_{I'})^\ast~~\def\mathdef2501#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2501{end}~~\href{#text-id}{\mathtt{id}}^?
    \\ &amp;&amp;&amp;\qquad \Rightarrow\quad \href{#syntax-instr-control}{\mathsf{loop}}~\mathit{bt}~\mathit{in}^\ast~\href{#syntax-instr-control}{\mathsf{end}}
    \qquad\qquad (\mathrel{\mbox{if}} \href{#text-id}{\mathtt{id}}^? = \epsilon \vee \href{#text-id}{\mathtt{id}}^? = \href{#text-label}{\mathtt{label}}) \\ &amp;&amp;|&amp;
  \def\mathdef2502#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2502{if}~~I'{:}\href{#text-label}{\mathtt{label}}_I~~\mathit{bt}{:}\href{#text-blocktype}{\mathtt{blocktype}}~~(\mathit{in}_1{:}\href{#text-instr}{\mathtt{instr}}_{I'})^\ast~~
    \def\mathdef2503#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2503{else}~~\href{#text-id}{\mathtt{id}}_1^?~~(\mathit{in}_2{:}\href{#text-instr}{\mathtt{instr}}_{I'})^\ast~~\def\mathdef2504#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2504{end}~~\href{#text-id}{\mathtt{id}}_2^?
    \\ &amp;&amp;&amp;\qquad \Rightarrow\quad \href{#syntax-instr-control}{\mathsf{if}}~\mathit{bt}~\mathit{in}_1^\ast~\href{#syntax-instr-control}{\mathsf{else}}~\mathit{in}_2^\ast~\href{#syntax-instr-control}{\mathsf{end}}
    \qquad (\mathrel{\mbox{if}} \href{#text-id}{\mathtt{id}}_1^? = \epsilon \vee \href{#text-id}{\mathtt{id}}_1^? = \href{#text-label}{\mathtt{label}}, \href{#text-id}{\mathtt{id}}_2^? = \epsilon \vee \href{#text-id}{\mathtt{id}}_2^? = \href{#text-label}{\mathtt{label}}) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The side condition stating that the <a class="reference internal" href="index.html#text-context"><span class="std std-ref">identifier context</span></a> <span class="math notranslate">\(I'\)</span> must be empty in the rule for <span class="math notranslate">\(\href{#text-typeuse}{\mathtt{typeuse}}\)</span> block types enforces that no identifier can be bound in any <span class="math notranslate">\(\href{#text-functype}{\mathtt{param}}\)</span> declaration for a block type.</p>
</div>
<p id="text-call-indirect"><span id="text-call"></span><span id="text-return"></span><span id="text-br-table"></span><span id="text-br-if"></span><span id="text-br"></span><span id="text-unreachable"></span><span id="text-nop"></span>All other control instruction are represented verbatim.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcllll}
\def\mathdef2439#1{{}}\mathdef2439{plain instruction} &amp; \href{#text-plaininstr}{\mathtt{plaininstr}}_I &amp;::=&amp;
  \def\mathdef2505#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2505{unreachable} &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{unreachable}} \\ &amp;&amp;|&amp;
  \def\mathdef2506#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2506{nop} &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{nop}} \\ &amp;&amp;|&amp;
  \def\mathdef2507#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2507{br}~~l{:}\href{#text-labelidx}{\mathtt{labelidx}}_I &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{br}}~l \\ &amp;&amp;|&amp;
  \def\mathdef2508#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2508{br\_if}~~l{:}\href{#text-labelidx}{\mathtt{labelidx}}_I &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{br\_if}}~l \\ &amp;&amp;|&amp;
  \def\mathdef2509#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2509{br\_table}~~l^\ast{:}\href{#text-vec}{\mathtt{vec}}(\href{#text-labelidx}{\mathtt{labelidx}}_I)~~l_N{:}\href{#text-labelidx}{\mathtt{labelidx}}_I
    &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{br\_table}}~l^\ast~l_N \\ &amp;&amp;|&amp;
  \def\mathdef2510#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2510{return} &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{return}} \\ &amp;&amp;|&amp;
  \def\mathdef2511#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2511{call}~~x{:}\href{#text-funcidx}{\mathtt{funcidx}}_I &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{call}}~x \\ &amp;&amp;|&amp;
  \def\mathdef2512#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2512{call\_indirect}~~x,I'{:}\href{#text-typeuse}{\mathtt{typeuse}}_I &amp;\Rightarrow&amp; \href{#syntax-instr-control}{\mathsf{call\_indirect}}~x
    &amp; (\mathrel{\mbox{if}} I' = \{\}) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The side condition stating that the <a class="reference internal" href="index.html#text-context"><span class="std std-ref">identifier context</span></a> <span class="math notranslate">\(I'\)</span> must be empty in the rule for <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{call\_indirect}}\)</span> enforces that no identifier can be bound in any <span class="math notranslate">\(\href{#text-functype}{\mathtt{param}}\)</span> declaration appearing in the type annotation.</p>
</div>
<div class="section" id="abbreviations">
<h5>Abbreviations</h5>
<p>The <span class="math notranslate">\(\def\mathdef2513#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2513{else}\)</span> keyword of an <span class="math notranslate">\(\def\mathdef2514#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2514{if}\)</span> instruction can be omitted if the following instruction sequence is empty.</p>
<div class="math notranslate">
\[\begin{array}{llclll}
\def\mathdef2439#1{{}}\mathdef2439{block instruction} &amp;
  \def\mathdef2515#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2515{if}~~\href{#text-label}{\mathtt{label}}~~\href{#text-blocktype}{\mathtt{blocktype}}~~\href{#text-instr}{\mathtt{instr}}^\ast~~\def\mathdef2516#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2516{end}
    &amp;\equiv&amp;
  \def\mathdef2517#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2517{if}~~\href{#text-label}{\mathtt{label}}~~\href{#text-blocktype}{\mathtt{blocktype}}~~\href{#text-instr}{\mathtt{instr}}^\ast~~\def\mathdef2518#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2518{else}~~\def\mathdef2519#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2519{end}
\end{array}\]</div>
</div>
</div>
<div class="section" id="parametric-instructions">
<span id="text-instr-parametric"></span><span id="index-3"></span><h4>Parametric Instructions</h4>
<div class="math notranslate" id="text-select">
<span id="text-drop"></span>\[\begin{split}\begin{array}{llclll}
\def\mathdef2439#1{{}}\mathdef2439{instruction} &amp; \href{#text-plaininstr}{\mathtt{plaininstr}}_I &amp;::=&amp; \dots \\ &amp;&amp;|&amp;
  \def\mathdef2520#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2520{drop} &amp;\Rightarrow&amp; \href{#syntax-instr-parametric}{\mathsf{drop}} \\ &amp;&amp;|&amp;
  \def\mathdef2521#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2521{select} &amp;\Rightarrow&amp; \href{#syntax-instr-parametric}{\mathsf{select}} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="variable-instructions">
<span id="text-instr-variable"></span><span id="index-4"></span><h4>Variable Instructions</h4>
<div class="math notranslate" id="text-global-set">
<span id="text-global-get"></span><span id="text-local-tee"></span><span id="text-local-set"></span><span id="text-local-get"></span>\[\begin{split}\begin{array}{llclll}
\def\mathdef2439#1{{}}\mathdef2439{instruction} &amp; \href{#text-plaininstr}{\mathtt{plaininstr}}_I &amp;::=&amp; \dots \\ &amp;&amp;|&amp;
  \def\mathdef2522#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2522{local.get}~~x{:}\href{#text-localidx}{\mathtt{localidx}}_I &amp;\Rightarrow&amp; \href{#syntax-instr-variable}{\mathsf{local.get}}~x \\ &amp;&amp;|&amp;
  \def\mathdef2523#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2523{local.set}~~x{:}\href{#text-localidx}{\mathtt{localidx}}_I &amp;\Rightarrow&amp; \href{#syntax-instr-variable}{\mathsf{local.set}}~x \\ &amp;&amp;|&amp;
  \def\mathdef2524#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2524{local.tee}~~x{:}\href{#text-localidx}{\mathtt{localidx}}_I &amp;\Rightarrow&amp; \href{#syntax-instr-variable}{\mathsf{local.tee}}~x \\ &amp;&amp;|&amp;
  \def\mathdef2525#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2525{global.get}~~x{:}\href{#text-globalidx}{\mathtt{globalidx}}_I &amp;\Rightarrow&amp; \href{#syntax-instr-variable}{\mathsf{global.get}}~x \\ &amp;&amp;|&amp;
  \def\mathdef2526#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2526{global.set}~~x{:}\href{#text-globalidx}{\mathtt{globalidx}}_I &amp;\Rightarrow&amp; \href{#syntax-instr-variable}{\mathsf{global.set}}~x \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="memory-instructions">
<span id="text-instr-memory"></span><span id="index-5"></span><h4>Memory Instructions</h4>
<p id="text-memory-grow"><span id="text-memory-size"></span><span id="text-storen"></span><span id="text-store"></span><span id="text-loadn"></span><span id="text-load"></span><span id="text-memarg"></span>The offset and alignment immediates to memory instructions are optional.
The offset defaults to <span class="math notranslate">\(\mathtt{0}\)</span>, the alignment to the storage size of the respective memory access, which is its <em>natural alignment</em>.
Lexically, an <span class="math notranslate">\(\href{#text-memarg}{\mathtt{offset}}\)</span> or <span class="math notranslate">\(\href{#text-memarg}{\mathtt{align}}\)</span> phrase is considered a single <a class="reference internal" href="index.html#text-keyword"><span class="std std-ref">keyword token</span></a>, so no <a class="reference internal" href="index.html#text-space"><span class="std std-ref">white space</span></a> is allowed around the <span class="math notranslate">\(\def\mathdef2527#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2527{=}\)</span>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcllll}
\def\mathdef2439#1{{}}\mathdef2439{memory argument} &amp; \href{#text-memarg}{\mathtt{memarg}}_N &amp;::=&amp;
  o{:}\href{#text-memarg}{\mathtt{offset}}~~a{:}\href{#text-memarg}{\mathtt{align}}_N &amp;\Rightarrow&amp; \{ \href{#syntax-instr-memory}{\mathsf{align}}~n,~\href{#syntax-instr-memory}{\mathsf{offset}}~o \} &amp; (\mathrel{\mbox{if}} a = 2^n) \\
\def\mathdef2439#1{{}}\mathdef2439{memory offset} &amp; \href{#text-memarg}{\mathtt{offset}} &amp;::=&amp;
  \def\mathdef2528#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2528{offset{=}}o{:}\href{#text-int}{\def\mathdef2486#1{{\mathtt{u}#1}}\mathdef2486{\mathtt{32}}} &amp;\Rightarrow&amp; o \\ &amp;&amp;|&amp;
  \epsilon &amp;\Rightarrow&amp; 0 \\
\def\mathdef2439#1{{}}\mathdef2439{memory alignment} &amp; \href{#text-memarg}{\mathtt{align}}_N &amp;::=&amp;
  \def\mathdef2529#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2529{align{=}}a{:}\href{#text-int}{\def\mathdef2486#1{{\mathtt{u}#1}}\mathdef2486{\mathtt{32}}} &amp;\Rightarrow&amp; a \\ &amp;&amp;|&amp;
  \epsilon &amp;\Rightarrow&amp; N \\
\def\mathdef2439#1{{}}\mathdef2439{instruction} &amp; \href{#text-plaininstr}{\mathtt{plaininstr}}_I &amp;::=&amp; \dots \\ &amp;&amp;|&amp;
  \def\mathdef2530#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2530{i32.load}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_4 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}~m \\ &amp;&amp;|&amp;
  \def\mathdef2531#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2531{i64.load}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_8 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}~m \\ &amp;&amp;|&amp;
  \def\mathdef2532#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2532{f32.load}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_4 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-memory}{\mathsf{load}}~m \\ &amp;&amp;|&amp;
  \def\mathdef2533#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2533{f64.load}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_8 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-memory}{\mathsf{load}}~m \\ &amp;&amp;|&amp;
  \def\mathdef2534#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2534{i32.load8\_s}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_1 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_s}~m \\ &amp;&amp;|&amp;
  \def\mathdef2535#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2535{i32.load8\_u}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_1 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_u}~m \\ &amp;&amp;|&amp;
  \def\mathdef2536#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2536{i32.load16\_s}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_2 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_s}~m \\ &amp;&amp;|&amp;
  \def\mathdef2537#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2537{i32.load16\_u}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_2 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_u}~m \\ &amp;&amp;|&amp;
  \def\mathdef2538#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2538{i64.load8\_s}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_1 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_s}~m \\ &amp;&amp;|&amp;
  \def\mathdef2539#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2539{i64.load8\_u}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_1 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_u}~m \\ &amp;&amp;|&amp;
  \def\mathdef2540#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2540{i64.load16\_s}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_2 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_s}~m \\ &amp;&amp;|&amp;
  \def\mathdef2541#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2541{i64.load16\_u}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_2 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_u}~m \\ &amp;&amp;|&amp;
  \def\mathdef2542#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2542{i64.load32\_s}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_4 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{32\_s}~m \\ &amp;&amp;|&amp;
  \def\mathdef2543#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2543{i64.load32\_u}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_4 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{32\_u}~m \\ &amp;&amp;|&amp;
  \def\mathdef2544#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2544{i32.store}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_4 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{store}}~m \\ &amp;&amp;|&amp;
  \def\mathdef2545#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2545{i64.store}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_8 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}~m \\ &amp;&amp;|&amp;
  \def\mathdef2546#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2546{f32.store}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_4 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-memory}{\mathsf{store}}~m \\ &amp;&amp;|&amp;
  \def\mathdef2547#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2547{f64.store}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_8 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-memory}{\mathsf{store}}~m \\ &amp;&amp;|&amp;
  \def\mathdef2548#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2548{i32.store8}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_1 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{8}~m \\ &amp;&amp;|&amp;
  \def\mathdef2549#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2549{i32.store16}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_2 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{16}~m \\ &amp;&amp;|&amp;
  \def\mathdef2550#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2550{i64.store8}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_1 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{8}~m \\ &amp;&amp;|&amp;
  \def\mathdef2551#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2551{i64.store16}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_2 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{16}~m \\ &amp;&amp;|&amp;
  \def\mathdef2552#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2552{i64.store32}~~m{:}\href{#text-memarg}{\mathtt{memarg}}_4 &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{32}~m \\ &amp;&amp;|&amp;
  \def\mathdef2553#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2553{memory.size} &amp;\Rightarrow&amp; \href{#syntax-instr-memory}{\mathsf{memory.size}} \\ &amp;&amp;|&amp;
  \def\mathdef2554#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2554{memory.grow} &amp;\Rightarrow&amp; \href{#syntax-instr-memory}{\mathsf{memory.grow}} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="numeric-instructions">
<span id="text-instr-numeric"></span><span id="index-6"></span><h4>Numeric Instructions</h4>
<div class="math notranslate" id="text-const">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2439#1{{}}\mathdef2439{instruction} &amp; \href{#text-plaininstr}{\mathtt{plaininstr}}_I &amp;::=&amp; \dots \\&amp;&amp;|&amp;
  \def\mathdef2555#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2555{i32.const}~~n{:}\href{#text-int}{\def\mathdef2492#1{{\mathtt{i}#1}}\mathdef2492{\mathtt{32}}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~n \\ &amp;&amp;|&amp;
  \def\mathdef2556#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2556{i64.const}~~n{:}\href{#text-int}{\def\mathdef2493#1{{\mathtt{i}#1}}\mathdef2493{\mathtt{64}}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~n \\ &amp;&amp;|&amp;
  \def\mathdef2557#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2557{f32.const}~~z{:}\href{#text-float}{\def\mathdef2496#1{{\mathtt{f}#1}}\mathdef2496{\mathtt{32}}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~z \\ &amp;&amp;|&amp;
  \def\mathdef2558#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2558{f64.const}~~z{:}\href{#text-float}{\def\mathdef2497#1{{\mathtt{f}#1}}\mathdef2497{\mathtt{64}}} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~z \\
\end{array}\end{split}\]</div>
<div class="math notranslate" id="text-binop">
<span id="text-unop"></span>\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef2439#1{{}}\mathdef2439{instruction}} &amp; \phantom{\href{#text-plaininstr}{\mathtt{plaininstr}}_I} &amp;\phantom{::=}&amp; \phantom{thisisenough} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef2559#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2559{i32.clz} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{clz}} \\ &amp;&amp;|&amp;
  \def\mathdef2560#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2560{i32.ctz} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ctz}} \\ &amp;&amp;|&amp;
  \def\mathdef2561#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2561{i32.popcnt} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{popcnt}} \\ &amp;&amp;|&amp;
  \def\mathdef2562#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2562{i32.add} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{add}} \\ &amp;&amp;|&amp;
  \def\mathdef2563#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2563{i32.sub} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{sub}} \\ &amp;&amp;|&amp;
  \def\mathdef2564#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2564{i32.mul} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{mul}} \\ &amp;&amp;|&amp;
  \def\mathdef2565#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2565{i32.div\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2566#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2566{i32.div\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2567#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2567{i32.rem\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2568#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2568{i32.rem\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2569#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2569{i32.and} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{and}} \\ &amp;&amp;|&amp;
  \def\mathdef2570#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2570{i32.or} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{or}} \\ &amp;&amp;|&amp;
  \def\mathdef2571#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2571{i32.xor} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{xor}} \\ &amp;&amp;|&amp;
  \def\mathdef2572#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2572{i32.shl} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{shl}} \\ &amp;&amp;|&amp;
  \def\mathdef2573#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2573{i32.shr\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2574#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2574{i32.shr\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2575#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2575{i32.rotl} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rotl}} \\ &amp;&amp;|&amp;
  \def\mathdef2576#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2576{i32.rotr} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rotr}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef2439#1{{}}\mathdef2439{instruction}} &amp; \phantom{\href{#text-plaininstr}{\mathtt{plaininstr}}_I} &amp;\phantom{::=}&amp; \phantom{thisisenough} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef2577#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2577{i64.clz} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{clz}} \\ &amp;&amp;|&amp;
  \def\mathdef2578#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2578{i64.ctz} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ctz}} \\ &amp;&amp;|&amp;
  \def\mathdef2579#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2579{i64.popcnt} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{popcnt}} \\ &amp;&amp;|&amp;
  \def\mathdef2580#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2580{i64.add} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{add}} \\ &amp;&amp;|&amp;
  \def\mathdef2581#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2581{i64.sub} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{sub}} \\ &amp;&amp;|&amp;
  \def\mathdef2582#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2582{i64.mul} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{mul}} \\ &amp;&amp;|&amp;
  \def\mathdef2583#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2583{i64.div\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2584#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2584{i64.div\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2585#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2585{i64.rem\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2586#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2586{i64.rem\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2587#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2587{i64.and} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{and}} \\ &amp;&amp;|&amp;
  \def\mathdef2588#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2588{i64.or} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{or}} \\ &amp;&amp;|&amp;
  \def\mathdef2589#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2589{i64.xor} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{xor}} \\ &amp;&amp;|&amp;
  \def\mathdef2590#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2590{i64.shl} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{shl}} \\ &amp;&amp;|&amp;
  \def\mathdef2591#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2591{i64.shr\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2592#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2592{i64.shr\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2593#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2593{i64.rotl} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rotl}} \\ &amp;&amp;|&amp;
  \def\mathdef2594#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2594{i64.rotr} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rotr}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef2439#1{{}}\mathdef2439{instruction}} &amp; \phantom{\href{#text-plaininstr}{\mathtt{plaininstr}}_I} &amp;\phantom{::=}&amp; \phantom{thisisenough} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef2595#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2595{f32.abs} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{abs}} \\ &amp;&amp;|&amp;
  \def\mathdef2596#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2596{f32.neg} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{neg}} \\ &amp;&amp;|&amp;
  \def\mathdef2597#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2597{f32.ceil} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{ceil}} \\ &amp;&amp;|&amp;
  \def\mathdef2598#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2598{f32.floor} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{floor}} \\ &amp;&amp;|&amp;
  \def\mathdef2599#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2599{f32.trunc} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}} \\ &amp;&amp;|&amp;
  \def\mathdef2600#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2600{f32.nearest} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{nearest}} \\ &amp;&amp;|&amp;
  \def\mathdef2601#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2601{f32.sqrt} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{sqrt}} \\ &amp;&amp;|&amp;
  \def\mathdef2602#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2602{f32.add} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{add}} \\ &amp;&amp;|&amp;
  \def\mathdef2603#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2603{f32.sub} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{sub}} \\ &amp;&amp;|&amp;
  \def\mathdef2604#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2604{f32.mul} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{mul}} \\ &amp;&amp;|&amp;
  \def\mathdef2605#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2605{f32.div} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{div}} \\ &amp;&amp;|&amp;
  \def\mathdef2606#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2606{f32.min} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{min}} \\ &amp;&amp;|&amp;
  \def\mathdef2607#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2607{f32.max} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{max}} \\ &amp;&amp;|&amp;
  \def\mathdef2608#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2608{f32.copysign} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{copysign}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef2439#1{{}}\mathdef2439{instruction}} &amp; \phantom{\href{#text-plaininstr}{\mathtt{plaininstr}}_I} &amp;\phantom{::=}&amp; \phantom{thisisenough} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef2609#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2609{f64.abs} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{abs}} \\ &amp;&amp;|&amp;
  \def\mathdef2610#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2610{f64.neg} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{neg}} \\ &amp;&amp;|&amp;
  \def\mathdef2611#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2611{f64.ceil} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{ceil}} \\ &amp;&amp;|&amp;
  \def\mathdef2612#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2612{f64.floor} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{floor}} \\ &amp;&amp;|&amp;
  \def\mathdef2613#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2613{f64.trunc} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}} \\ &amp;&amp;|&amp;
  \def\mathdef2614#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2614{f64.nearest} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{nearest}} \\ &amp;&amp;|&amp;
  \def\mathdef2615#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2615{f64.sqrt} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{sqrt}} \\ &amp;&amp;|&amp;
  \def\mathdef2616#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2616{f64.add} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{add}} \\ &amp;&amp;|&amp;
  \def\mathdef2617#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2617{f64.sub} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{sub}} \\ &amp;&amp;|&amp;
  \def\mathdef2618#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2618{f64.mul} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{mul}} \\ &amp;&amp;|&amp;
  \def\mathdef2619#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2619{f64.div} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{div}} \\ &amp;&amp;|&amp;
  \def\mathdef2620#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2620{f64.min} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{min}} \\ &amp;&amp;|&amp;
  \def\mathdef2621#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2621{f64.max} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{max}} \\ &amp;&amp;|&amp;
  \def\mathdef2622#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2622{f64.copysign} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{copysign}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate" id="text-relop">
<span id="text-testop"></span>\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef2439#1{{}}\mathdef2439{instruction}} &amp; \phantom{\href{#text-plaininstr}{\mathtt{plaininstr}}_I} &amp;\phantom{::=}&amp; \phantom{thisisenough} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef2623#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2623{i32.eqz} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{eqz}} \\ &amp;&amp;|&amp;
  \def\mathdef2624#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2624{i32.eq} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{eq}} \\ &amp;&amp;|&amp;
  \def\mathdef2625#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2625{i32.ne} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ne}} \\ &amp;&amp;|&amp;
  \def\mathdef2626#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2626{i32.lt\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2627#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2627{i32.lt\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2628#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2628{i32.gt\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2629#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2629{i32.gt\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2630#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2630{i32.le\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2631#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2631{i32.le\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2632#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2632{i32.ge\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2633#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2633{i32.ge\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_u} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef2439#1{{}}\mathdef2439{instruction}} &amp; \phantom{\href{#text-plaininstr}{\mathtt{plaininstr}}_I} &amp;\phantom{::=}&amp; \phantom{thisisenough} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef2634#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2634{i64.eqz} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{eqz}} \\ &amp;&amp;|&amp;
  \def\mathdef2635#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2635{i64.eq} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{eq}} \\ &amp;&amp;|&amp;
  \def\mathdef2636#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2636{i64.ne} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ne}} \\ &amp;&amp;|&amp;
  \def\mathdef2637#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2637{i64.lt\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2638#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2638{i64.lt\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2639#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2639{i64.gt\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2640#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2640{i64.gt\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2641#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2641{i64.le\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2642#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2642{i64.le\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2643#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2643{i64.ge\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2644#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2644{i64.ge\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_u} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef2439#1{{}}\mathdef2439{instruction}} &amp; \phantom{\href{#text-plaininstr}{\mathtt{plaininstr}}_I} &amp;\phantom{::=}&amp; \phantom{thisisenough} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef2645#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2645{f32.eq} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{eq}} \\ &amp;&amp;|&amp;
  \def\mathdef2646#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2646{f32.ne} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{ne}} \\ &amp;&amp;|&amp;
  \def\mathdef2647#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2647{f32.lt} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{lt}} \\ &amp;&amp;|&amp;
  \def\mathdef2648#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2648{f32.gt} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{gt}} \\ &amp;&amp;|&amp;
  \def\mathdef2649#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2649{f32.le} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{le}} \\ &amp;&amp;|&amp;
  \def\mathdef2650#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2650{f32.ge} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{ge}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef2439#1{{}}\mathdef2439{instruction}} &amp; \phantom{\href{#text-plaininstr}{\mathtt{plaininstr}}_I} &amp;\phantom{::=}&amp; \phantom{thisisenough} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef2651#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2651{f64.eq} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{eq}} \\ &amp;&amp;|&amp;
  \def\mathdef2652#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2652{f64.ne} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{ne}} \\ &amp;&amp;|&amp;
  \def\mathdef2653#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2653{f64.lt} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{lt}} \\ &amp;&amp;|&amp;
  \def\mathdef2654#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2654{f64.gt} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{gt}} \\ &amp;&amp;|&amp;
  \def\mathdef2655#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2655{f64.le} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{le}} \\ &amp;&amp;|&amp;
  \def\mathdef2656#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2656{f64.ge} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{ge}} \\
\end{array}\end{split}\]</div>
<div class="math notranslate" id="text-cvtop">
\[\begin{split}\begin{array}{llclll}
\phantom{\def\mathdef2439#1{{}}\mathdef2439{instruction}} &amp; \phantom{\href{#text-plaininstr}{\mathtt{plaininstr}}_I} &amp;\phantom{::=}&amp; \phantom{thisisenough} &amp;&amp; \phantom{thisshouldbeenough} \\[-2ex] &amp;&amp;|&amp;
  \def\mathdef2657#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2657{i32.wrap\_i64} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{wrap}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}} \\ &amp;&amp;|&amp;
  \def\mathdef2658#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2658{i32.trunc\_f32\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2659#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2659{i32.trunc\_f32\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2660#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2660{i32.trunc\_f64\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2661#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2661{i32.trunc\_f64\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2662#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2662{i64.extend\_i32\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{extend}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2663#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2663{i64.extend\_i32\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{extend}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2664#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2664{i64.trunc\_f32\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2665#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2665{i64.trunc\_f32\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2666#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2666{i64.trunc\_f64\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2667#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2667{i64.trunc\_f64\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2668#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2668{f32.convert\_i32\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2669#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2669{f32.convert\_i32\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2670#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2670{f32.convert\_i64\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2671#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2671{f32.convert\_i64\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2672#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2672{f32.demote\_f64} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{demote}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}} \\ &amp;&amp;|&amp;
  \def\mathdef2673#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2673{f64.convert\_i32\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2674#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2674{f64.convert\_i32\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2675#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2675{f64.convert\_i64\_s} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_s} \\ &amp;&amp;|&amp;
  \def\mathdef2676#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2676{f64.convert\_i64\_u} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_u} \\ &amp;&amp;|&amp;
  \def\mathdef2677#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2677{f64.promote\_f32} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{promote}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}} \\ &amp;&amp;|&amp;
  \def\mathdef2678#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2678{i32.reinterpret\_f32} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}} \\ &amp;&amp;|&amp;
  \def\mathdef2679#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2679{i64.reinterpret\_f64} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}} \\ &amp;&amp;|&amp;
  \def\mathdef2680#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2680{f32.reinterpret\_i32} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}} \\ &amp;&amp;|&amp;
  \def\mathdef2681#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2681{f64.reinterpret\_i64} &amp;\Rightarrow&amp; \href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="folded-instructions">
<span id="text-foldedinstr"></span><span id="index-7"></span><h4>Folded Instructions</h4>
<p>Instructions can be written as S-expressions by grouping them into <em>folded</em> form. In that notation, an instruction is wrapped in parentheses and optionally includes nested folded instructions to indicate its operands.</p>
<p>In the case of <a class="reference internal" href="#text-instr-block"><span class="std std-ref">block instructions</span></a>, the folded form omits the <span class="math notranslate">\(\def\mathdef2682#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2682{end}\)</span> delimiter.
For <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{if}}\)</span> instructions, both branches have to be wrapped into nested S-expressions, headed by the keywords <span class="math notranslate">\(\def\mathdef2683#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2683{then}\)</span> and <span class="math notranslate">\(\def\mathdef2684#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2684{else}\)</span>.</p>
<p>The set of all phrases defined by the following abbreviations recursively forms the auxiliary syntactic class <span class="math notranslate">\(\href{#text-foldedinstr}{\mathtt{foldedinstr}}\)</span>.
Such a folded instruction can appear anywhere a regular instruction can.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lllll}
\def\mathdef2439#1{{}}\mathdef2439{instruction} &amp;
  \def\mathdef2685#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2685{(}~\href{#text-plaininstr}{\mathtt{plaininstr}}~~\href{#text-foldedinstr}{\mathtt{foldedinstr}}^\ast~\def\mathdef2686#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2686{)}
    &amp;\equiv\quad \href{#text-foldedinstr}{\mathtt{foldedinstr}}^\ast~~\href{#text-plaininstr}{\mathtt{plaininstr}} \\ &amp;
  \def\mathdef2687#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2687{(}~\def\mathdef2688#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2688{block}~~\href{#text-label}{\mathtt{label}}~~\href{#text-blocktype}{\mathtt{blocktype}}~~\href{#text-instr}{\mathtt{instr}}^\ast~\def\mathdef2689#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2689{)}
    &amp;\equiv\quad \def\mathdef2690#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2690{block}~~\href{#text-label}{\mathtt{label}}~~\href{#text-blocktype}{\mathtt{blocktype}}~~\href{#text-instr}{\mathtt{instr}}^\ast~~\def\mathdef2691#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2691{end} \\ &amp;
  \def\mathdef2692#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2692{(}~\def\mathdef2693#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2693{loop}~~\href{#text-label}{\mathtt{label}}~~\href{#text-blocktype}{\mathtt{blocktype}}~~\href{#text-instr}{\mathtt{instr}}^\ast~\def\mathdef2694#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2694{)}
    &amp;\equiv\quad \def\mathdef2695#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2695{loop}~~\href{#text-label}{\mathtt{label}}~~\href{#text-blocktype}{\mathtt{blocktype}}~~\href{#text-instr}{\mathtt{instr}}^\ast~~\def\mathdef2696#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2696{end} \\ &amp;
  \def\mathdef2697#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2697{(}~\def\mathdef2698#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2698{if}~~\href{#text-label}{\mathtt{label}}~~\href{#text-blocktype}{\mathtt{blocktype}}~~\href{#text-foldedinstr}{\mathtt{foldedinstr}}^\ast
    &amp;\hspace{-3ex} \def\mathdef2699#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2699{(}~\def\mathdef2700#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2700{then}~~\href{#text-instr}{\mathtt{instr}}_1^\ast~\def\mathdef2701#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2701{)}~~\def\mathdef2702#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2702{(}~\def\mathdef2703#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2703{else}~~\href{#text-instr}{\mathtt{instr}}_2^\ast~\def\mathdef2704#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2704{)}^?~~\def\mathdef2705#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2705{)}
    \quad\equiv \\ &amp;\qquad
      \href{#text-foldedinstr}{\mathtt{foldedinstr}}^\ast~~\def\mathdef2706#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2706{if}~~\href{#text-label}{\mathtt{label}}~~\href{#text-blocktype}{\mathtt{blocktype}} &amp;\hspace{-1ex} \href{#text-instr}{\mathtt{instr}}_1^\ast~~\def\mathdef2707#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2707{else}~~(\href{#text-instr}{\mathtt{instr}}_2^\ast)^?~\def\mathdef2708#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2708{end} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For example, the instruction sequence</p>
<div class="math notranslate">
\[\mathtt{(get\_local~\$x)~(i32.const~2)~i32.add~(i32.const~3)~i32.mul}\]</div>
<p>can be folded into</p>
<div class="math notranslate">
\[\mathtt{(i32.mul~(i32.add~(get\_local~\$x)~(i32.const~2))~(i32.const~3))}\]</div>
<p class="last">Folded instructions are solely syntactic sugar,
no additional syntactic or type-based checking is implied.</p>
</div>
</div>
<div class="section" id="expressions">
<span id="text-expr"></span><span id="index-8"></span><h4>Expressions</h4>
<p>Expressions are written as instruction sequences.
No explicit <span class="math notranslate">\(\def\mathdef2709#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2709{end}\)</span> keyword is included, since they only occur in bracketed positions.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2439#1{{}}\mathdef2439{expression} &amp; \href{#text-expr}{\mathtt{expr}} &amp;::=&amp;
  (\mathit{in}{:}\href{#text-instr}{\mathtt{instr}})^\ast &amp;\Rightarrow&amp; \mathit{in}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \\
\end{array}\end{split}\]</div>
</div>
</div>
<span id="document-text/modules"></span><div class="section" id="modules">
<h3>Modules</h3>
<div class="section" id="indices">
<span id="text-index"></span><span id="text-labelidx"></span><span id="text-localidx"></span><span id="text-globalidx"></span><span id="text-memidx"></span><span id="text-tableidx"></span><span id="text-funcidx"></span><span id="text-typeidx"></span><span id="index-0"></span><h4>Indices</h4>
<p><a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">Indices</span></a> can be given either in raw numeric form or as symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">identifiers</span></a> when bound by a respective construct.
Such identifiers are looked up in the suitable space of the <a class="reference internal" href="index.html#text-context"><span class="std std-ref">identifier context</span></a> <span class="math notranslate">\(I\)</span>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcllllllll}
\def\mathdef2796#1{{}}\mathdef2796{type index} &amp; \href{#text-typeidx}{\mathtt{typeidx}}_I &amp;::=&amp;
  x{:}\href{#text-int}{\def\mathdef2843#1{{\mathtt{u}#1}}\mathdef2843{\mathtt{32}}} &amp;\Rightarrow&amp; x \\&amp;&amp;|&amp;
  v{:}\href{#text-id}{\mathtt{id}} &amp;\Rightarrow&amp; x &amp; (\mathrel{\mbox{if}} I.\href{#text-context}{\mathsf{types}}[x] = v) \\
\def\mathdef2796#1{{}}\mathdef2796{function index} &amp; \href{#text-funcidx}{\mathtt{funcidx}}_I &amp;::=&amp;
  x{:}\href{#text-int}{\def\mathdef2843#1{{\mathtt{u}#1}}\mathdef2843{\mathtt{32}}} &amp;\Rightarrow&amp; x \\&amp;&amp;|&amp;
  v{:}\href{#text-id}{\mathtt{id}} &amp;\Rightarrow&amp; x &amp; (\mathrel{\mbox{if}} I.\href{#text-context}{\mathsf{funcs}}[x] = v) \\
\def\mathdef2796#1{{}}\mathdef2796{table index} &amp; \href{#text-tableidx}{\mathtt{tableidx}}_I &amp;::=&amp;
  x{:}\href{#text-int}{\def\mathdef2843#1{{\mathtt{u}#1}}\mathdef2843{\mathtt{32}}} &amp;\Rightarrow&amp; x \\&amp;&amp;|&amp;
  v{:}\href{#text-id}{\mathtt{id}} &amp;\Rightarrow&amp; x &amp; (\mathrel{\mbox{if}} I.\href{#text-context}{\mathsf{tables}}[x] = v) \\
\def\mathdef2796#1{{}}\mathdef2796{memory index} &amp; \href{#text-memidx}{\mathtt{memidx}}_I &amp;::=&amp;
  x{:}\href{#text-int}{\def\mathdef2843#1{{\mathtt{u}#1}}\mathdef2843{\mathtt{32}}} &amp;\Rightarrow&amp; x \\&amp;&amp;|&amp;
  v{:}\href{#text-id}{\mathtt{id}} &amp;\Rightarrow&amp; x &amp; (\mathrel{\mbox{if}} I.\href{#text-context}{\mathsf{mems}}[x] = v) \\
\def\mathdef2796#1{{}}\mathdef2796{global index} &amp; \href{#text-globalidx}{\mathtt{globalidx}}_I &amp;::=&amp;
  x{:}\href{#text-int}{\def\mathdef2843#1{{\mathtt{u}#1}}\mathdef2843{\mathtt{32}}} &amp;\Rightarrow&amp; x \\&amp;&amp;|&amp;
  v{:}\href{#text-id}{\mathtt{id}} &amp;\Rightarrow&amp; x &amp; (\mathrel{\mbox{if}} I.\href{#text-context}{\mathsf{globals}}[x] = v) \\
\def\mathdef2796#1{{}}\mathdef2796{local index} &amp; \href{#text-localidx}{\mathtt{localidx}}_I &amp;::=&amp;
  x{:}\href{#text-int}{\def\mathdef2843#1{{\mathtt{u}#1}}\mathdef2843{\mathtt{32}}} &amp;\Rightarrow&amp; x \\&amp;&amp;|&amp;
  v{:}\href{#text-id}{\mathtt{id}} &amp;\Rightarrow&amp; x &amp; (\mathrel{\mbox{if}} I.\href{#text-context}{\mathsf{locals}}[x] = v) \\
\def\mathdef2796#1{{}}\mathdef2796{label index} &amp; \href{#text-labelidx}{\mathtt{labelidx}}_I &amp;::=&amp;
  l{:}\href{#text-int}{\def\mathdef2843#1{{\mathtt{u}#1}}\mathdef2843{\mathtt{32}}} &amp;\Rightarrow&amp; l \\&amp;&amp;|&amp;
  v{:}\href{#text-id}{\mathtt{id}} &amp;\Rightarrow&amp; l &amp; (\mathrel{\mbox{if}} I.\href{#text-context}{\mathsf{labels}}[l] = v) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="types">
<span id="text-typedef"></span><span id="index-1"></span><h4>Types</h4>
<p>Type definitions can bind a symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">type identifier</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{type definition} &amp; \href{#text-typedef}{\mathtt{type}} &amp;::=&amp;
  \def\mathdef2855#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2855{(}~\def\mathdef2856#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2856{type}~~\href{#text-id}{\mathtt{id}}^?~~\mathit{ft}{:}\href{#text-functype}{\mathtt{functype}}~\def\mathdef2857#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2857{)}
    &amp;\Rightarrow&amp; \mathit{ft} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="type-uses">
<span id="text-typeuse"></span><span id="index-2"></span><h4>Type Uses</h4>
<p>A <em>type use</em> is a reference to a <a class="reference internal" href="index.html#text-type"><span class="std std-ref">type definition</span></a>.
It may optionally be augmented by explicit inlined <a class="reference internal" href="index.html#text-param"><span class="std std-ref">parameter</span></a> and <a class="reference internal" href="index.html#text-result"><span class="std std-ref">result</span></a> declarations.
That allows binding symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">identifiers</span></a> to name the <a class="reference internal" href="#text-localidx"><span class="std std-ref">local indices</span></a> of parameters.
If inline declarations are given, then their types must match the referenced <a class="reference internal" href="index.html#text-type"><span class="std std-ref">function type</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcllll}
\def\mathdef2796#1{{}}\mathdef2796{type use} &amp; \href{#text-typeuse}{\mathtt{typeuse}}_I &amp;::=&amp;
  \def\mathdef2858#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2858{(}~\def\mathdef2859#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2859{type}~~x{:}\href{#text-typeidx}{\mathtt{typeidx}}_I~\def\mathdef2860#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2860{)}
    \quad\Rightarrow\quad x, I' \\ &amp;&amp;&amp; \qquad
    (\mathrel{\mbox{if}} \begin{array}[t]{&#64;{}l&#64;{}}
     I.\href{#text-context}{\mathsf{typedefs}}[x] = [t_1^n] \href{#syntax-functype}{\rightarrow} [t_2^\ast] \wedge
     I' = \{\href{#text-context}{\mathsf{locals}}~(\epsilon)^n\}) \\
     \end{array} \\[1ex] &amp;&amp;|&amp;
  \def\mathdef2861#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2861{(}~\def\mathdef2862#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2862{type}~~x{:}\href{#text-typeidx}{\mathtt{typeidx}}_I~\def\mathdef2863#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2863{)}
  ~~(t_1{:}\href{#text-functype}{\mathtt{param}})^\ast~~(t_2{:}\href{#text-functype}{\mathtt{result}})^\ast
    \quad\Rightarrow\quad x, I' \\ &amp;&amp;&amp; \qquad
    (\mathrel{\mbox{if}} \begin{array}[t]{&#64;{}l&#64;{}}
     I.\href{#text-context}{\mathsf{typedefs}}[x] = [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast] \wedge
     I' = \{\href{#text-context}{\mathsf{locals}}~\mathrm{id}(\href{#text-functype}{\mathtt{param}})^\ast\} ~\href{#text-context-wf}{\mbox{well-formed}}) \\
     \end{array} \\
\end{array}\end{split}\]</div>
<p>The synthesized attribute of a <span class="math notranslate">\(\href{#text-typeuse}{\mathtt{typeuse}}\)</span> is a pair consisting of both the used <a class="reference internal" href="index.html#syntax-typeidx"><span class="std std-ref">type index</span></a> and the updated <a class="reference internal" href="index.html#text-context"><span class="std std-ref">identifier context</span></a> including possible parameter identifiers.
The following auxiliary function extracts optional identifiers from parameters:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lcl&#64;{\qquad\qquad}l}
\mathrm{id}(\def\mathdef2864#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2864{(}~\def\mathdef2865#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2865{param}~\href{#text-id}{\mathtt{id}}^?~\dots~\def\mathdef2866#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2866{)}) &amp;=&amp; \href{#text-id}{\mathtt{id}}^? \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Both productions overlap for the case that the function type is <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} []\)</span>.
However, in that case, they also produce the same results, so that the choice is immaterial.</p>
<p class="last">The <a class="reference internal" href="index.html#text-context-wf"><span class="std std-ref">well-formedness</span></a> condition on <span class="math notranslate">\(I'\)</span> ensures that the parameters do not contain duplicate identifier.</p>
</div>
<div class="section" id="abbreviations">
<span id="text-typeuse-abbrev"></span><h5>Abbreviations</h5>
<p>A <span class="math notranslate">\(\href{#text-typeuse}{\mathtt{typeuse}}\)</span> may also be replaced entirely by inline <a class="reference internal" href="index.html#text-param"><span class="std std-ref">parameter</span></a> and <a class="reference internal" href="index.html#text-result"><span class="std std-ref">result</span></a> declarations.
In that case, a <a class="reference internal" href="index.html#syntax-typeidx"><span class="std std-ref">type index</span></a> is automatically inserted:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{type use} &amp;
  (t_1{:}\href{#text-functype}{\mathtt{param}})^\ast~~(t_2{:}\href{#text-functype}{\mathtt{result}})^\ast &amp;\equiv&amp;
  \def\mathdef2867#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2867{(}~\def\mathdef2868#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2868{type}~~x~\def\mathdef2869#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2869{)}~~\href{#text-functype}{\mathtt{param}}^\ast~~\href{#text-functype}{\mathtt{result}}^\ast \\
\end{array}\end{split}\]</div>
<p>where <span class="math notranslate">\(x\)</span> is the smallest existing <a class="reference internal" href="index.html#syntax-typeidx"><span class="std std-ref">type index</span></a> whose definition in the current module is the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.
If no such index exists, then a new <a class="reference internal" href="index.html#text-type"><span class="std std-ref">type definition</span></a> of the form</p>
<div class="math notranslate">
\[\def\mathdef2870#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2870{(}~\def\mathdef2871#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2871{type}~~\def\mathdef2872#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2872{(}~\def\mathdef2873#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2873{func}~~\href{#text-functype}{\mathtt{param}}^\ast~~\href{#text-functype}{\mathtt{result}}~\def\mathdef2874#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2874{)}~\def\mathdef2875#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2875{)}\]</div>
<p>is inserted at the end of the module.</p>
<p>Abbreviations are expanded in the order they appear, such that previously inserted type definitions are reused by consecutive expansions.</p>
</div>
</div>
<div class="section" id="imports">
<span id="text-import"></span><span id="text-importdesc"></span><span id="index-3"></span><h4>Imports</h4>
<p>The descriptors in imports can bind a symbolic function, table, memory, or global <a class="reference internal" href="index.html#text-id"><span class="std std-ref">identifier</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{import} &amp; \href{#text-import}{\mathtt{import}}_I &amp;::=&amp;
  \def\mathdef2876#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2876{(}~\def\mathdef2877#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2877{import}~~\mathit{mod}{:}\href{#text-name}{\mathtt{name}}~~\mathit{nm}{:}\href{#text-name}{\mathtt{name}}~~d{:}\href{#text-importdesc}{\mathtt{importdesc}}_I~\def\mathdef2878#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2878{)} \\ &amp;&amp;&amp; \qquad
    \Rightarrow\quad \{ \href{#syntax-import}{\mathsf{module}}~\mathit{mod}, \href{#syntax-import}{\mathsf{name}}~\mathit{nm}, \href{#syntax-import}{\mathsf{desc}}~d \} \\[1ex]
\def\mathdef2796#1{{}}\mathdef2796{import description} &amp; \href{#text-importdesc}{\mathtt{importdesc}}_I &amp;::=&amp;
  \def\mathdef2879#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2879{(}~\def\mathdef2880#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2880{func}~~\href{#text-id}{\mathtt{id}}^?~~x,I'{:}\href{#text-typeuse}{\mathtt{typeuse}}_I~\def\mathdef2881#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2881{)}
    &amp;\Rightarrow&amp; \href{#syntax-importdesc}{\mathsf{func}}~x \\ &amp;&amp;|&amp;
  \def\mathdef2882#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2882{(}~\def\mathdef2883#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2883{table}~~\href{#text-id}{\mathtt{id}}^?~~\mathit{tt}{:}\href{#text-tabletype}{\mathtt{tabletype}}~\def\mathdef2884#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2884{)}
    &amp;\Rightarrow&amp; \href{#syntax-importdesc}{\mathsf{table}}~\mathit{tt} \\ &amp;&amp;|&amp;
  \def\mathdef2885#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2885{(}~\def\mathdef2886#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2886{memory}~~\href{#text-id}{\mathtt{id}}^?~~\mathit{mt}{:}\href{#text-memtype}{\mathtt{memtype}}~\def\mathdef2887#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2887{)}
    &amp;\Rightarrow&amp; \href{#syntax-importdesc}{\mathsf{mem}}~~\mathit{mt} \\ &amp;&amp;|&amp;
  \def\mathdef2888#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2888{(}~\def\mathdef2889#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2889{global}~~\href{#text-id}{\mathtt{id}}^?~~\mathit{gt}{:}\href{#text-globaltype}{\mathtt{globaltype}}~\def\mathdef2890#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2890{)}
    &amp;\Rightarrow&amp; \href{#syntax-importdesc}{\mathsf{global}}~\mathit{gt} \\
\end{array}\end{split}\]</div>
<div class="section" id="id1">
<h5>Abbreviations</h5>
<p>As an abbreviation, imports may also be specified inline with <a class="reference internal" href="#text-func"><span class="std std-ref">function</span></a>, <a class="reference internal" href="#text-table"><span class="std std-ref">table</span></a>, <a class="reference internal" href="#text-mem"><span class="std std-ref">memory</span></a>, or <a class="reference internal" href="#text-global"><span class="std std-ref">global</span></a> definitions; see the respective sections.</p>
</div>
</div>
<div class="section" id="functions">
<span id="text-func"></span><span id="text-local"></span><span id="index-4"></span><h4>Functions</h4>
<p>Function definitions can bind a symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">function identifier</span></a>, and <a class="reference internal" href="index.html#text-id"><span class="std std-ref">local identifiers</span></a> for its <a class="reference internal" href="#text-typeuse"><span class="std std-ref">parameters</span></a> and locals.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{function} &amp; \href{#text-func}{\mathtt{func}}_I &amp;::=&amp;
  \def\mathdef2891#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2891{(}~\def\mathdef2892#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2892{func}~~\href{#text-id}{\mathtt{id}}^?~~x,I'{:}\href{#text-typeuse}{\mathtt{typeuse}}_I~~
  (t{:}\href{#text-local}{\mathtt{local}})^\ast~~(\mathit{in}{:}\href{#text-instr}{\mathtt{instr}}_{I''})^\ast~\def\mathdef2893#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2893{)} \\ &amp;&amp;&amp; \qquad
    \Rightarrow\quad \{ \href{#syntax-func}{\mathsf{type}}~x, \href{#syntax-func}{\mathsf{locals}}~t^\ast, \href{#syntax-func}{\mathsf{body}}~\mathit{in}^\ast~\href{#syntax-instr-control}{\mathsf{end}} \} \\ &amp;&amp;&amp; \qquad\qquad\qquad
    (\mathrel{\mbox{if}} I'' = I' \href{#notation-compose}{\oplus} \{\href{#text-context}{\mathsf{locals}}~\mathrm{id}(\href{#text-local}{\mathtt{local}})^\ast\} ~\href{#text-context-wf}{\mbox{well-formed}}) \\[1ex]
\def\mathdef2796#1{{}}\mathdef2796{local} &amp; \href{#text-local}{\mathtt{local}} &amp;::=&amp;
  \def\mathdef2894#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2894{(}~\def\mathdef2895#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2895{local}~~\href{#text-id}{\mathtt{id}}^?~~t{:}\href{#text-valtype}{\mathtt{valtype}}~\def\mathdef2896#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2896{)}
    \quad\Rightarrow\quad t \\
\end{array}\end{split}\]</div>
<p>The definition of the local <a class="reference internal" href="index.html#text-context"><span class="std std-ref">identifier context</span></a> <span class="math notranslate">\(I''\)</span> uses the following auxiliary function to extract optional identifiers from locals:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{lcl&#64;{\qquad\qquad}l}
\mathrm{id}(\def\mathdef2897#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2897{(}~\def\mathdef2898#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2898{local}~\href{#text-id}{\mathtt{id}}^?~\dots~\def\mathdef2899#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2899{)}) &amp;=&amp; \href{#text-id}{\mathtt{id}}^? \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a class="reference internal" href="index.html#text-context-wf"><span class="std std-ref">well-formedness</span></a> condition on <span class="math notranslate">\(I''\)</span> ensures that parameters and locals do not contain duplicate identifiers.</p>
</div>
<span class="target" id="index-5"></span><div class="section" id="text-func-abbrev">
<span id="index-6"></span><span id="id2"></span><h5>Abbreviations</h5>
<p>Multiple anonymous locals may be combined into a single declaration:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{local} &amp;
  \def\mathdef2900#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2900{(}~~\def\mathdef2901#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2901{local}~~\href{#text-valtype}{\mathtt{valtype}}^\ast~~\def\mathdef2902#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2902{)} &amp;\equiv&amp;
  (\def\mathdef2903#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2903{(}~~\def\mathdef2904#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2904{local}~~\href{#text-valtype}{\mathtt{valtype}}~~\def\mathdef2905#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2905{)})^\ast \\
\end{array}\end{split}\]</div>
<p>Functions can be defined as <a class="reference internal" href="#text-import"><span class="std std-ref">imports</span></a> or <a class="reference internal" href="#text-export"><span class="std std-ref">exports</span></a> inline:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{module field} &amp;
  \def\mathdef2906#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2906{(}~\def\mathdef2907#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2907{func}~~\href{#text-id}{\mathtt{id}}^?~~\def\mathdef2908#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2908{(}~\def\mathdef2909#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2909{import}~~\href{#text-name}{\mathtt{name}}_1~~\href{#text-name}{\mathtt{name}}_2~\def\mathdef2910#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2910{)}~~\href{#text-typeuse}{\mathtt{typeuse}}~\def\mathdef2911#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2911{)} \quad\equiv \\ &amp; \qquad
    \def\mathdef2912#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2912{(}~\def\mathdef2913#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2913{import}~~\href{#text-name}{\mathtt{name}}_1~~\href{#text-name}{\mathtt{name}}_2~~\def\mathdef2914#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2914{(}~\def\mathdef2915#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2915{func}~~\href{#text-id}{\mathtt{id}}^?~~\href{#text-typeuse}{\mathtt{typeuse}}~\def\mathdef2916#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2916{)}~\def\mathdef2917#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2917{)} \\[1ex] &amp;
  \def\mathdef2918#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2918{(}~\def\mathdef2919#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2919{func}~~\href{#text-id}{\mathtt{id}}^?~~\def\mathdef2920#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2920{(}~\def\mathdef2921#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2921{export}~~\href{#text-name}{\mathtt{name}}~\def\mathdef2922#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2922{)}~~\dots~\def\mathdef2923#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2923{)} \quad\equiv \\ &amp; \qquad
    \def\mathdef2924#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2924{(}~\def\mathdef2925#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2925{export}~~\href{#text-name}{\mathtt{name}}~~\def\mathdef2926#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2926{(}~\def\mathdef2927#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2927{func}~~\href{#text-id}{\mathtt{id}}'~\def\mathdef2928#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2928{)}~\def\mathdef2929#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2929{)}~~
    \def\mathdef2930#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2930{(}~\def\mathdef2931#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2931{func}~~\href{#text-id}{\mathtt{id}}'~~\dots~\def\mathdef2932#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2932{)}
    \\ &amp; \qquad\qquad
    (\mathrel{\mbox{if}} \href{#text-id}{\mathtt{id}}' = \href{#text-id}{\mathtt{id}}^? \neq \epsilon \vee \href{#text-id}{\mathtt{id}}' ~\href{#text-id-fresh}{\mbox{fresh}}) \\
\end{array}\end{split}\]</div>
<p>The latter abbreviation can be applied repeatedly, with “<span class="math notranslate">\(\dots\)</span>” containing another import or export.</p>
</div>
</div>
<div class="section" id="tables">
<span id="text-table"></span><span id="index-7"></span><h4>Tables</h4>
<p>Table definitions can bind a symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">table identifier</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{table} &amp; \href{#text-table}{\mathtt{table}}_I &amp;::=&amp;
  \def\mathdef2933#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2933{(}~\def\mathdef2934#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2934{table}~~\href{#text-id}{\mathtt{id}}^?~~\mathit{tt}{:}\href{#text-tabletype}{\mathtt{tabletype}}~\def\mathdef2935#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2935{)}
    &amp;\Rightarrow&amp; \{ \href{#syntax-table}{\mathsf{type}}~\mathit{tt} \} \\
\end{array}\end{split}\]</div>
<span class="target" id="index-8"></span><span class="target" id="index-9"></span><div class="section" id="text-table-abbrev">
<span id="index-10"></span><span id="id3"></span><h5>Abbreviations</h5>
<p>An <a class="reference internal" href="#text-elem"><span class="std std-ref">element segment</span></a> can be given inline with a table definition, in which case its offset is <span class="math notranslate">\(0\)</span> and the <a class="reference internal" href="index.html#text-limits"><span class="std std-ref">limits</span></a> of the <a class="reference internal" href="index.html#text-tabletype"><span class="std std-ref">table type</span></a> are inferred from the length of the given segment:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{module field} &amp;
  \def\mathdef2936#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2936{(}~\def\mathdef2937#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2937{table}~~\href{#text-id}{\mathtt{id}}^?~~\href{#text-elemtype}{\mathtt{elemtype}}~~\def\mathdef2938#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2938{(}~\def\mathdef2939#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2939{elem}~~x^n{:}\href{#text-vec}{\mathtt{vec}}(\href{#text-funcidx}{\mathtt{funcidx}})~\def\mathdef2940#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2940{)}~~\def\mathdef2941#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2941{)} \quad\equiv \\ &amp; \qquad
    \def\mathdef2942#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2942{(}~\def\mathdef2943#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2943{table}~~\href{#text-id}{\mathtt{id}}'~~n~~n~~\href{#text-elemtype}{\mathtt{elemtype}}~\def\mathdef2944#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2944{)}~~
    \def\mathdef2945#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2945{(}~\def\mathdef2946#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2946{elem}~~\href{#text-id}{\mathtt{id}}'~~\def\mathdef2947#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2947{(}~\def\mathdef2948#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2948{i32.const}~~\def\mathdef2949#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2949{0}~\def\mathdef2950#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2950{)}~~\href{#text-vec}{\mathtt{vec}}(\href{#text-funcidx}{\mathtt{funcidx}})~\def\mathdef2951#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2951{)}
    \\ &amp; \qquad\qquad
    (\mathrel{\mbox{if}} \href{#text-id}{\mathtt{id}}' = \href{#text-id}{\mathtt{id}}^? \neq \epsilon \vee \href{#text-id}{\mathtt{id}}' ~\href{#text-id-fresh}{\mbox{fresh}}) \\
\end{array}\end{split}\]</div>
<p>Tables can be defined as <a class="reference internal" href="#text-import"><span class="std std-ref">imports</span></a> or <a class="reference internal" href="#text-export"><span class="std std-ref">exports</span></a> inline:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{module field} &amp;
  \def\mathdef2952#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2952{(}~\def\mathdef2953#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2953{table}~~\href{#text-id}{\mathtt{id}}^?~~\def\mathdef2954#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2954{(}~\def\mathdef2955#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2955{import}~~\href{#text-name}{\mathtt{name}}_1~~\href{#text-name}{\mathtt{name}}_2~\def\mathdef2956#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2956{)}~~\href{#text-tabletype}{\mathtt{tabletype}}~\def\mathdef2957#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2957{)} \quad\equiv \\ &amp; \qquad
    \def\mathdef2958#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2958{(}~\def\mathdef2959#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2959{import}~~\href{#text-name}{\mathtt{name}}_1~~\href{#text-name}{\mathtt{name}}_2~~\def\mathdef2960#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2960{(}~\def\mathdef2961#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2961{table}~~\href{#text-id}{\mathtt{id}}^?~~\href{#text-tabletype}{\mathtt{tabletype}}~\def\mathdef2962#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2962{)}~\def\mathdef2963#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2963{)} \\[1ex] &amp;
  \def\mathdef2964#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2964{(}~\def\mathdef2965#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2965{table}~~\href{#text-id}{\mathtt{id}}^?~~\def\mathdef2966#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2966{(}~\def\mathdef2967#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2967{export}~~\href{#text-name}{\mathtt{name}}~\def\mathdef2968#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2968{)}~~\dots~\def\mathdef2969#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2969{)} \quad\equiv \\ &amp; \qquad
    \def\mathdef2970#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2970{(}~\def\mathdef2971#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2971{export}~~\href{#text-name}{\mathtt{name}}~~\def\mathdef2972#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2972{(}~\def\mathdef2973#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2973{table}~~\href{#text-id}{\mathtt{id}}'~\def\mathdef2974#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2974{)}~\def\mathdef2975#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2975{)}~~
    \def\mathdef2976#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2976{(}~\def\mathdef2977#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2977{table}~~\href{#text-id}{\mathtt{id}}'~~\dots~\def\mathdef2978#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2978{)}
    \\ &amp; \qquad\qquad
    (\mathrel{\mbox{if}} \href{#text-id}{\mathtt{id}}' = \href{#text-id}{\mathtt{id}}^? \neq \epsilon \vee \href{#text-id}{\mathtt{id}}' ~\href{#text-id-fresh}{\mbox{fresh}}) \\
\end{array}\end{split}\]</div>
<p>The latter abbreviation can be applied repeatedly, with “<span class="math notranslate">\(\dots\)</span>” containing another import or export or an inline elements segment.</p>
</div>
</div>
<div class="section" id="memories">
<span id="text-mem"></span><span id="index-11"></span><h4>Memories</h4>
<p>Memory definitions can bind a symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">memory identifier</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{memory} &amp; \href{#text-mem}{\mathtt{mem}}_I &amp;::=&amp;
  \def\mathdef2979#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2979{(}~\def\mathdef2980#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2980{memory}~~\href{#text-id}{\mathtt{id}}^?~~\mathit{mt}{:}\href{#text-memtype}{\mathtt{memtype}}~\def\mathdef2981#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2981{)}
    &amp;\Rightarrow&amp; \{ \href{#syntax-mem}{\mathsf{type}}~\mathit{mt} \} \\
\end{array}\end{split}\]</div>
<span class="target" id="index-12"></span><span class="target" id="index-13"></span><div class="section" id="text-mem-abbrev">
<span id="index-14"></span><span id="id4"></span><h5>Abbreviations</h5>
<p>A <a class="reference internal" href="#text-data"><span class="std std-ref">data segment</span></a> can be given inline with a memory definition, in which case its offset is <span class="math notranslate">\(0\)</span> the <a class="reference internal" href="index.html#text-limits"><span class="std std-ref">limits</span></a> of the <a class="reference internal" href="index.html#text-memtype"><span class="std std-ref">memory type</span></a> are inferred from the length of the data, rounded up to <a class="reference internal" href="index.html#page-size"><span class="std std-ref">page size</span></a>:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{module field} &amp;
  \def\mathdef2982#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2982{(}~\def\mathdef2983#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2983{memory}~~\href{#text-id}{\mathtt{id}}^?~~\def\mathdef2984#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2984{(}~\def\mathdef2985#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2985{data}~~b^n{:}\href{#text-datastring}{\mathtt{datastring}}~\def\mathdef2986#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2986{)}~~\def\mathdef2987#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2987{)} \quad\equiv \\ &amp; \qquad
    \def\mathdef2988#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2988{(}~\def\mathdef2989#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2989{memory}~~\href{#text-id}{\mathtt{id}}'~~m~~m~\def\mathdef2990#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2990{)}~~
    \def\mathdef2991#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2991{(}~\def\mathdef2992#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2992{data}~~\href{#text-id}{\mathtt{id}}'~~\def\mathdef2993#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2993{(}~\def\mathdef2994#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2994{i32.const}~~\def\mathdef2995#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2995{0}~\def\mathdef2996#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2996{)}~~\href{#text-datastring}{\mathtt{datastring}}~\def\mathdef2997#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2997{)}
    \\ &amp; \qquad\qquad
    (\mathrel{\mbox{if}} \href{#text-id}{\mathtt{id}}' = \href{#text-id}{\mathtt{id}}^? \neq \epsilon \vee \href{#text-id}{\mathtt{id}}' ~\href{#text-id-fresh}{\mbox{fresh}}, m = \mathrm{ceil}(n / 64\mathrm{Ki})) \\
\end{array}\end{split}\]</div>
<p>Memories can be defined as <a class="reference internal" href="#text-import"><span class="std std-ref">imports</span></a> or <a class="reference internal" href="#text-export"><span class="std std-ref">exports</span></a> inline:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{module field} &amp;
  \def\mathdef2998#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2998{(}~\def\mathdef2999#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef2999{memory}~~\href{#text-id}{\mathtt{id}}^?~~\def\mathdef3000#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3000{(}~\def\mathdef3001#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3001{import}~~\href{#text-name}{\mathtt{name}}_1~~\href{#text-name}{\mathtt{name}}_2~\def\mathdef3002#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3002{)}~~\href{#text-memtype}{\mathtt{memtype}}~\def\mathdef3003#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3003{)} \quad\equiv \\ &amp; \qquad
    \def\mathdef3004#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3004{(}~\def\mathdef3005#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3005{import}~~\href{#text-name}{\mathtt{name}}_1~~\href{#text-name}{\mathtt{name}}_2~~\def\mathdef3006#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3006{(}~\def\mathdef3007#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3007{memory}~~\href{#text-id}{\mathtt{id}}^?~~\href{#text-memtype}{\mathtt{memtype}}~\def\mathdef3008#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3008{)}~\def\mathdef3009#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3009{)}
    \\[1ex] &amp;
  \def\mathdef3010#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3010{(}~\def\mathdef3011#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3011{memory}~~\href{#text-id}{\mathtt{id}}^?~~\def\mathdef3012#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3012{(}~\def\mathdef3013#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3013{export}~~\href{#text-name}{\mathtt{name}}~\def\mathdef3014#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3014{)}~~\dots~\def\mathdef3015#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3015{)} \quad\equiv \\ &amp; \qquad
    \def\mathdef3016#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3016{(}~\def\mathdef3017#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3017{export}~~\href{#text-name}{\mathtt{name}}~~\def\mathdef3018#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3018{(}~\def\mathdef3019#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3019{memory}~~\href{#text-id}{\mathtt{id}}'~\def\mathdef3020#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3020{)}~\def\mathdef3021#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3021{)}~~
    \def\mathdef3022#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3022{(}~\def\mathdef3023#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3023{memory}~~\href{#text-id}{\mathtt{id}}'~~\dots~\def\mathdef3024#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3024{)}
    \\ &amp; \qquad\qquad
    (\mathrel{\mbox{if}} \href{#text-id}{\mathtt{id}}' = \href{#text-id}{\mathtt{id}}^? \neq \epsilon \vee \href{#text-id}{\mathtt{id}}' ~\href{#text-id-fresh}{\mbox{fresh}}) \\
\end{array}\end{split}\]</div>
<p>The latter abbreviation can be applied repeatedly, with “<span class="math notranslate">\(\dots\)</span>” containing another import or export or an inline data segment.</p>
</div>
</div>
<div class="section" id="globals">
<span id="text-global"></span><span id="index-15"></span><h4>Globals</h4>
<p>Global definitions can bind a symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">global identifier</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{global} &amp; \href{#text-global}{\mathtt{global}}_I &amp;::=&amp;
  \def\mathdef3025#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3025{(}~\def\mathdef3026#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3026{global}~~\href{#text-id}{\mathtt{id}}^?~~\mathit{gt}{:}\href{#text-globaltype}{\mathtt{globaltype}}~~e{:}\href{#text-expr}{\mathtt{expr}}_I~\def\mathdef3027#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3027{)}
    &amp;\Rightarrow&amp; \{ \href{#syntax-global}{\mathsf{type}}~\mathit{gt}, \href{#syntax-global}{\mathsf{init}}~e \} \\
\end{array}\end{split}\]</div>
<span class="target" id="index-16"></span><div class="section" id="text-global-abbrev">
<span id="index-17"></span><span id="id5"></span><h5>Abbreviations</h5>
<p>Globals can be defined as <a class="reference internal" href="#text-import"><span class="std std-ref">imports</span></a> or <a class="reference internal" href="#text-export"><span class="std std-ref">exports</span></a> inline:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{module field} &amp;
  \def\mathdef3028#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3028{(}~\def\mathdef3029#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3029{global}~~\href{#text-id}{\mathtt{id}}^?~~\def\mathdef3030#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3030{(}~\def\mathdef3031#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3031{import}~~\href{#text-name}{\mathtt{name}}_1~~\href{#text-name}{\mathtt{name}}_2~\def\mathdef3032#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3032{)}~~\href{#text-globaltype}{\mathtt{globaltype}}~\def\mathdef3033#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3033{)} \quad\equiv \\ &amp; \qquad
    \def\mathdef3034#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3034{(}~\def\mathdef3035#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3035{import}~~\href{#text-name}{\mathtt{name}}_1~~\href{#text-name}{\mathtt{name}}_2~~\def\mathdef3036#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3036{(}~\def\mathdef3037#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3037{global}~~\href{#text-id}{\mathtt{id}}^?~~\href{#text-globaltype}{\mathtt{globaltype}}~\def\mathdef3038#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3038{)}~\def\mathdef3039#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3039{)}
    \\[1ex] &amp;
  \def\mathdef3040#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3040{(}~\def\mathdef3041#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3041{global}~~\href{#text-id}{\mathtt{id}}^?~~\def\mathdef3042#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3042{(}~\def\mathdef3043#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3043{export}~~\href{#text-name}{\mathtt{name}}~\def\mathdef3044#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3044{)}~~\dots~\def\mathdef3045#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3045{)} \quad\equiv \\ &amp; \qquad
    \def\mathdef3046#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3046{(}~\def\mathdef3047#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3047{export}~~\href{#text-name}{\mathtt{name}}~~\def\mathdef3048#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3048{(}~\def\mathdef3049#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3049{global}~~\href{#text-id}{\mathtt{id}}'~\def\mathdef3050#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3050{)}~\def\mathdef3051#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3051{)}~~
    \def\mathdef3052#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3052{(}~\def\mathdef3053#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3053{global}~~\href{#text-id}{\mathtt{id}}'~~\dots~\def\mathdef3054#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3054{)}
    \\ &amp; \qquad\qquad
    (\mathrel{\mbox{if}} \href{#text-id}{\mathtt{id}}' = \href{#text-id}{\mathtt{id}}^? \neq \epsilon \vee \href{#text-id}{\mathtt{id}}' ~\href{#text-id-fresh}{\mbox{fresh}}) \\
\end{array}\end{split}\]</div>
<p>The latter abbreviation can be applied repeatedly, with “<span class="math notranslate">\(\dots\)</span>” containing another import or export.</p>
</div>
</div>
<div class="section" id="exports">
<span id="text-export"></span><span id="text-exportdesc"></span><span id="index-18"></span><h4>Exports</h4>
<p>The syntax for exports mirrors their <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">abstract syntax</span></a> directly.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{export} &amp; \href{#text-export}{\mathtt{export}}_I &amp;::=&amp;
  \def\mathdef3055#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3055{(}~\def\mathdef3056#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3056{export}~~\mathit{nm}{:}\href{#text-name}{\mathtt{name}}~~d{:}\href{#text-exportdesc}{\mathtt{exportdesc}}_I~\def\mathdef3057#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3057{)}
    &amp;\Rightarrow&amp; \{ \href{#syntax-export}{\mathsf{name}}~\mathit{nm}, \href{#syntax-export}{\mathsf{desc}}~d \} \\
\def\mathdef2796#1{{}}\mathdef2796{export description} &amp; \href{#text-exportdesc}{\mathtt{exportdesc}}_I &amp;::=&amp;
  \def\mathdef3058#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3058{(}~\def\mathdef3059#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3059{func}~~x{:}\href{#binary-funcidx}{\mathtt{funcidx}}_I~\def\mathdef3060#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3060{)}
    &amp;\Rightarrow&amp; \href{#syntax-exportdesc}{\mathsf{func}}~x \\ &amp;&amp;|&amp;
  \def\mathdef3061#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3061{(}~\def\mathdef3062#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3062{table}~~x{:}\href{#binary-tableidx}{\mathtt{tableidx}}_I~\def\mathdef3063#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3063{)}
    &amp;\Rightarrow&amp; \href{#syntax-exportdesc}{\mathsf{table}}~x \\ &amp;&amp;|&amp;
  \def\mathdef3064#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3064{(}~\def\mathdef3065#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3065{memory}~~x{:}\href{#binary-memidx}{\mathtt{memidx}}_I~\def\mathdef3066#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3066{)}
    &amp;\Rightarrow&amp; \href{#syntax-exportdesc}{\mathsf{mem}}~x \\ &amp;&amp;|&amp;
  \def\mathdef3067#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3067{(}~\def\mathdef3068#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3068{global}~~x{:}\href{#binary-globalidx}{\mathtt{globalidx}}_I~\def\mathdef3069#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3069{)}
    &amp;\Rightarrow&amp; \href{#syntax-exportdesc}{\mathsf{global}}~x \\
\end{array}\end{split}\]</div>
<div class="section" id="id6">
<h5>Abbreviations</h5>
<p>As an abbreviation, exports may also be specified inline with <a class="reference internal" href="#text-func"><span class="std std-ref">function</span></a>, <a class="reference internal" href="#text-table"><span class="std std-ref">table</span></a>, <a class="reference internal" href="#text-mem"><span class="std std-ref">memory</span></a>, or <a class="reference internal" href="#text-global"><span class="std std-ref">global</span></a> definitions; see the respective sections.</p>
</div>
</div>
<div class="section" id="start-function">
<span id="text-start"></span><span id="index-19"></span><h4>Start Function</h4>
<p>A <a class="reference internal" href="index.html#syntax-start"><span class="std std-ref">start function</span></a> is defined in terms of its index.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{start function} &amp; \href{#text-start}{\mathtt{start}}_I &amp;::=&amp;
  \def\mathdef3070#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3070{(}~\def\mathdef3071#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3071{start}~~x{:}\href{#text-funcidx}{\mathtt{funcidx}}_I~\def\mathdef3072#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3072{)}
    &amp;\Rightarrow&amp; \{ \href{#syntax-start}{\mathsf{func}}~x \} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At most one start function may occur in a module,
which is ensured by a suitable side condition on the <span class="math notranslate">\(\href{#text-module}{\mathtt{module}}\)</span> grammar.</p>
</div>
</div>
<div class="section" id="element-segments">
<span id="text-elem"></span><span id="index-20"></span><h4>Element Segments</h4>
<p>Element segments allow for an optional <a class="reference internal" href="#text-tableidx"><span class="std std-ref">table index</span></a> to identify the table to initialize.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{element segment} &amp; \href{#text-elem}{\mathtt{elem}}_I &amp;::=&amp;
  \def\mathdef3073#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3073{(}~\def\mathdef3074#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3074{elem}~~x{:}\href{#text-tableidx}{\mathtt{tableidx}}_I~~\def\mathdef3075#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3075{(}~\def\mathdef3076#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3076{offset}~~e{:}\href{#text-expr}{\mathtt{expr}}_I~\def\mathdef3077#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3077{)}~~y^\ast{:}\href{#text-vec}{\mathtt{vec}}(\href{#text-funcidx}{\mathtt{funcidx}}_I)~\def\mathdef3078#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3078{)} \\ &amp;&amp;&amp; \qquad
    \Rightarrow\quad \{ \href{#syntax-elem}{\mathsf{table}}~x, \href{#syntax-elem}{\mathsf{offset}}~e, \href{#syntax-elem}{\mathsf{init}}~y^\ast \} \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current version of WebAssembly, the only valid table index is 0
or a symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">table identifier</span></a> resolving to the same value.</p>
</div>
<div class="section" id="id7">
<h5>Abbreviations</h5>
<p>As an abbreviation, a single instruction may occur in place of the offset:</p>
<div class="math notranslate">
\[\begin{array}{llcll}
\def\mathdef2796#1{{}}\mathdef2796{element offset} &amp;
  \href{#text-instr}{\mathtt{instr}} &amp;\equiv&amp;
  \def\mathdef3079#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3079{(}~\def\mathdef3080#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3080{offset}~~\href{#text-instr}{\mathtt{instr}}~\def\mathdef3081#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3081{)}
\end{array}\]</div>
<p>Also, the table index can be omitted, defaulting to <span class="math notranslate">\(\mathtt{0}\)</span>.</p>
<div class="math notranslate">
\[\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{element segment} &amp;
 \def\mathdef3082#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3082{(}~\def\mathdef3083#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3083{elem}~~\def\mathdef3084#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3084{(}~\def\mathdef3085#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3085{offset}~~\href{#text-expr}{\mathtt{expr}}_I~\def\mathdef3086#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3086{)}~~\dots~\def\mathdef3087#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3087{)}
    &amp;\equiv&amp;
  \def\mathdef3088#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3088{(}~\def\mathdef3089#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3089{elem}~~0~~\def\mathdef3090#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3090{(}~\def\mathdef3091#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3091{offset}~~\href{#text-expr}{\mathtt{expr}}_I~\def\mathdef3092#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3092{)}~~\dots~\def\mathdef3093#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3093{)}
\end{array}\]</div>
<p>As another abbreviation, element segments may also be specified inline with <a class="reference internal" href="#text-table"><span class="std std-ref">table</span></a> definitions; see the respective section.</p>
</div>
</div>
<div class="section" id="data-segments">
<span id="text-data"></span><span id="text-datastring"></span><span id="index-21"></span><h4>Data Segments</h4>
<p>Data segments allow for an optional <a class="reference internal" href="#text-memidx"><span class="std std-ref">memory index</span></a> to identify the memory to initialize.
The data is written as a <a class="reference internal" href="index.html#text-string"><span class="std std-ref">string</span></a>, which may be split up into a possibly empty sequence of individual string literals.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{data segment} &amp; \href{#text-data}{\mathtt{data}}_I &amp;::=&amp;
  \def\mathdef3094#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3094{(}~\def\mathdef3095#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3095{data}~~x{:}\href{#text-memidx}{\mathtt{memidx}}_I~~\def\mathdef3096#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3096{(}~\def\mathdef3097#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3097{offset}~~e{:}\href{#text-expr}{\mathtt{expr}}_I~\def\mathdef3098#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3098{)}~~b^\ast{:}\href{#text-datastring}{\mathtt{datastring}}~\def\mathdef3099#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3099{)} \\ &amp;&amp;&amp; \qquad
    \Rightarrow\quad \{ \href{#syntax-data}{\mathsf{data}}~x', \href{#syntax-data}{\mathsf{offset}}~e, \href{#syntax-data}{\mathsf{init}}~b^\ast \} \\[1ex]
\def\mathdef2796#1{{}}\mathdef2796{data string} &amp; \href{#text-datastring}{\mathtt{datastring}} &amp;::=&amp;
  (b^\ast{:}\href{#text-string}{\mathtt{string}})^\ast \quad\Rightarrow\quad \href{#notation-concat}{\mathrm{concat}}((b^\ast)^\ast) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current version of WebAssembly, the only valid memory index is 0
or a symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">memory identifier</span></a> resolving to the same value.</p>
</div>
<div class="section" id="id8">
<h5>Abbreviations</h5>
<p>As an abbreviation, a single instruction may occur in place of the offset:</p>
<div class="math notranslate">
\[\begin{array}{llcll}
\def\mathdef2796#1{{}}\mathdef2796{data offset} &amp;
  \href{#text-instr}{\mathtt{instr}} &amp;\equiv&amp;
  \def\mathdef3100#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3100{(}~\def\mathdef3101#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3101{offset}~~\href{#text-instr}{\mathtt{instr}}~\def\mathdef3102#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3102{)}
\end{array}\]</div>
<p>Also, the memory index can be omitted, defaulting to <span class="math notranslate">\(\mathtt{0}\)</span>.</p>
<div class="math notranslate">
\[\begin{array}{llclll}
\def\mathdef2796#1{{}}\mathdef2796{data segment} &amp;
 \def\mathdef3103#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3103{(}~\def\mathdef3104#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3104{data}~~\def\mathdef3105#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3105{(}~\def\mathdef3106#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3106{offset}~~\href{#text-expr}{\mathtt{expr}}_I~\def\mathdef3107#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3107{)}~~\dots~\def\mathdef3108#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3108{)}
    &amp;\equiv&amp;
  \def\mathdef3109#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3109{(}~\def\mathdef3110#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3110{data}~~0~~\def\mathdef3111#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3111{(}~\def\mathdef3112#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3112{offset}~~\href{#text-expr}{\mathtt{expr}}_I~\def\mathdef3113#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3113{)}~~\dots~\def\mathdef3114#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3114{)}
\end{array}\]</div>
<p>As another abbreviation, data segments may also be specified inline with <a class="reference internal" href="#text-mem"><span class="std std-ref">memory</span></a> definitions; see the respective section.</p>
</div>
</div>
<div class="section" id="text-module">
<span id="text-modulefield"></span><span id="index-22"></span><span id="id9"></span><h4>Modules</h4>
<p>A module consists of a sequence of fields that can occur in any order.
All definitions and their respective bound <a class="reference internal" href="index.html#text-id"><span class="std std-ref">identifiers</span></a> scope over the entire module, including the text preceding them.</p>
<p>A module may optionally bind an <a class="reference internal" href="index.html#text-id"><span class="std std-ref">identifier</span></a> that names the module.
The name serves a documentary role only.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Tools may include the module name in the <a class="reference internal" href="index.html#binary-namesec"><span class="std std-ref">name section</span></a> of the <a class="reference internal" href="index.html#binary"><span class="std std-ref">binary format</span></a>.</p>
</div>
<div class="math notranslate">
\[\begin{split}\begin{array}{lll}
\def\mathdef2796#1{{}}\mathdef2796{module} &amp; \href{#text-module}{\mathtt{module}} &amp;
\begin{array}[t]{&#64;{}cllll}
::=&amp;
  \def\mathdef3115#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3115{(}~\def\mathdef3116#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3116{module}~~\href{#text-id}{\mathtt{id}}^?~~(m{:}\href{#text-modulefield}{\mathtt{modulefield}}_I)^\ast~\def\mathdef3117#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3117{)}
    \quad\Rightarrow\quad \href{#notation-compose}{\bigoplus} m^\ast \\
    &amp;\qquad (\mathrel{\mbox{if}} I = \href{#notation-compose}{\bigoplus} \mathrm{idc}(\href{#text-modulefield}{\mathtt{modulefield}})^\ast ~\href{#text-context-wf}{\mbox{well-formed}}) \\
\end{array} \\[1ex]
\def\mathdef2796#1{{}}\mathdef2796{module field} &amp; \href{#text-modulefield}{\mathtt{modulefield}}_I &amp;
\begin{array}[t]{&#64;{}clll}
::=&amp;
  \mathit{ty}{:}\href{#text-typedef}{\mathtt{type}} &amp;\Rightarrow&amp; \{\href{#syntax-module}{\mathsf{types}}~\mathit{ty}\} \\ |&amp;
  \mathit{im}{:}\href{#text-import}{\mathtt{import}}_I &amp;\Rightarrow&amp; \{\href{#syntax-module}{\mathsf{imports}}~\mathit{im}\} \\ |&amp;
  \mathit{fn}{:}\href{#text-func}{\mathtt{func}}_I &amp;\Rightarrow&amp; \{\href{#syntax-module}{\mathsf{funcs}}~\mathit{fn}\} \\ |&amp;
  \mathit{ta}{:}\href{#text-table}{\mathtt{table}}_I &amp;\Rightarrow&amp; \{\href{#syntax-module}{\mathsf{tables}}~\mathit{ta}\} \\ |&amp;
  \mathit{me}{:}\href{#text-mem}{\mathtt{mem}}_I &amp;\Rightarrow&amp; \{\href{#syntax-module}{\mathsf{mems}}~\mathit{me}\} \\ |&amp;
  \mathit{gl}{:}\href{#text-global}{\mathtt{global}}_I &amp;\Rightarrow&amp; \{\href{#syntax-module}{\mathsf{globals}}~\mathit{gl}\} \\ |&amp;
  \mathit{ex}{:}\href{#text-export}{\mathtt{export}}_I &amp;\Rightarrow&amp; \{\href{#syntax-module}{\mathsf{exports}}~\mathit{ex}\} \\ |&amp;
  \mathit{st}{:}\href{#text-start}{\mathtt{start}}_I &amp;\Rightarrow&amp; \{\href{#syntax-module}{\mathsf{start}}~\mathit{st}\} \\ |&amp;
  \mathit{el}{:}\href{#text-elem}{\mathtt{elem}}_I &amp;\Rightarrow&amp; \{\href{#syntax-module}{\mathsf{elem}}~\mathit{el}\} \\ |&amp;
  \mathit{da}{:}\href{#text-data}{\mathtt{data}}_I &amp;\Rightarrow&amp; \{\href{#syntax-module}{\mathsf{data}}~\mathit{da}\} \\
\end{array}
\end{array}\end{split}\]</div>
<p>The following restrictions are imposed on the composition of <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">modules</span></a>: <span class="math notranslate">\(m_1 \href{#notation-compose}{\oplus} m_2\)</span> is defined if and only if</p>
<ul class="simple">
<li><span class="math notranslate">\(m_1.\href{#syntax-module}{\mathsf{start}} = \epsilon \vee m_2.\href{#syntax-module}{\mathsf{start}} = \epsilon\)</span></li>
<li><span class="math notranslate">\(m_1.\href{#syntax-module}{\mathsf{funcs}} = m_1.\href{#syntax-module}{\mathsf{tables}} = m_1.\href{#syntax-module}{\mathsf{mems}} = m_1.\href{#syntax-module}{\mathsf{globals}} = \epsilon \vee m_2.\href{#syntax-module}{\mathsf{imports}} = \epsilon\)</span></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The first condition ensures that there is at most one start function.
The second condition enforces that all <a class="reference internal" href="#text-import"><span class="std std-ref">imports</span></a> must occur before any regular definition of a <a class="reference internal" href="#text-func"><span class="std std-ref">function</span></a>, <a class="reference internal" href="#text-table"><span class="std std-ref">table</span></a>, <a class="reference internal" href="#text-mem"><span class="std std-ref">memory</span></a>, or <a class="reference internal" href="#text-global"><span class="std std-ref">global</span></a>,
thereby maintaining the ordering of the respective <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">index spaces</span></a>.</p>
<p class="last">The <a class="reference internal" href="index.html#text-context-wf"><span class="std std-ref">well-formedness</span></a> condition on <span class="math notranslate">\(I\)</span> in the grammar for <span class="math notranslate">\(\href{#text-module}{\mathtt{module}}\)</span> ensures that no namespace contains duplicate identifiers.</p>
</div>
<p>The definition of the initial <a class="reference internal" href="index.html#text-context"><span class="std std-ref">identifier context</span></a> <span class="math notranslate">\(I\)</span> uses the following auxiliary definition which maps each relevant definition to a singular context with one (possibly empty) identifier:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{&#64;{}lcl&#64;{\qquad\qquad}l}
\mathrm{idc}(\def\mathdef3118#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3118{(}~\def\mathdef3119#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3119{type}~\href{#text-id}{\mathtt{id}}^?~\mathit{ft}{:}\href{#text-functype}{\mathtt{functype}}~\def\mathdef3120#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3120{)}) &amp;=&amp;
  \{\href{#text-context}{\mathsf{types}}~(\href{#text-id}{\mathtt{id}}^?), \href{#text-context}{\mathsf{typedefs}}~\mathit{ft}\} \\
\mathrm{idc}(\def\mathdef3121#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3121{(}~\def\mathdef3122#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3122{func}~\href{#text-id}{\mathtt{id}}^?~\dots~\def\mathdef3123#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3123{)}) &amp;=&amp;
  \{\href{#text-context}{\mathsf{funcs}}~(\href{#text-id}{\mathtt{id}}^?)\} \\
\mathrm{idc}(\def\mathdef3124#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3124{(}~\def\mathdef3125#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3125{table}~\href{#text-id}{\mathtt{id}}^?~\dots~\def\mathdef3126#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3126{)}) &amp;=&amp;
  \{\href{#text-context}{\mathsf{tables}}~(\href{#text-id}{\mathtt{id}}^?)\} \\
\mathrm{idc}(\def\mathdef3127#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3127{(}~\def\mathdef3128#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3128{memory}~\href{#text-id}{\mathtt{id}}^?~\dots~\def\mathdef3129#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3129{)}) &amp;=&amp;
  \{\href{#text-context}{\mathsf{mems}}~(\href{#text-id}{\mathtt{id}}^?)\} \\
\mathrm{idc}(\def\mathdef3130#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3130{(}~\def\mathdef3131#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3131{global}~\href{#text-id}{\mathtt{id}}^?~\dots~\def\mathdef3132#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3132{)}) &amp;=&amp;
  \{\href{#text-context}{\mathsf{globals}}~(\href{#text-id}{\mathtt{id}}^?)\} \\
\mathrm{idc}(\def\mathdef3133#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3133{(}~\def\mathdef3134#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3134{import}~\dots~\def\mathdef3135#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3135{(}~\def\mathdef3136#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3136{func}~\href{#text-id}{\mathtt{id}}^?~\dots~\def\mathdef3137#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3137{)}~\def\mathdef3138#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3138{)}) &amp;=&amp;
  \{\href{#text-context}{\mathsf{funcs}}~(\href{#text-id}{\mathtt{id}}^?)\} \\
\mathrm{idc}(\def\mathdef3139#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3139{(}~\def\mathdef3140#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3140{import}~\dots~\def\mathdef3141#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3141{(}~\def\mathdef3142#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3142{table}~\href{#text-id}{\mathtt{id}}^?~\dots~\def\mathdef3143#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3143{)}~\def\mathdef3144#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3144{)}) &amp;=&amp;
  \{\href{#text-context}{\mathsf{tables}}~(\href{#text-id}{\mathtt{id}}^?)\} \\
\mathrm{idc}(\def\mathdef3145#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3145{(}~\def\mathdef3146#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3146{import}~\dots~\def\mathdef3147#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3147{(}~\def\mathdef3148#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3148{memory}~\href{#text-id}{\mathtt{id}}^?~\dots~\def\mathdef3149#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3149{)}~\def\mathdef3150#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3150{)}) &amp;=&amp;
  \{\href{#text-context}{\mathsf{mems}}~(\href{#text-id}{\mathtt{id}}^?)\} \\
\mathrm{idc}(\def\mathdef3151#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3151{(}~\def\mathdef3152#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3152{import}~\dots~\def\mathdef3153#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3153{(}~\def\mathdef3154#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3154{global}~\href{#text-id}{\mathtt{id}}^?~\dots~\def\mathdef3155#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3155{)}~\def\mathdef3156#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3156{)}) &amp;=&amp;
  \{\href{#text-context}{\mathsf{globals}}~(\href{#text-id}{\mathtt{id}}^?)\} \\
\mathrm{idc}(\def\mathdef3157#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3157{(}~\dots~\def\mathdef3158#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3158{)}) &amp;=&amp;
  \{\} \\
\end{array}\end{split}\]</div>
<div class="section" id="id10">
<h5>Abbreviations</h5>
<p>In a source file, the toplevel <span class="math notranslate">\(\mathtt{(module}~\dots\mathtt{)}\)</span> surrounding the module body may be omitted.</p>
<div class="math notranslate">
\[\begin{array}{llcll}
\def\mathdef2796#1{{}}\mathdef2796{module} &amp;
  \href{#text-modulefield}{\mathtt{modulefield}}^\ast &amp;\equiv&amp;
  \def\mathdef3159#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3159{(}~\def\mathdef3160#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3160{module}~~\href{#text-modulefield}{\mathtt{modulefield}}^\ast~\def\mathdef3161#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef3161{)}
\end{array}\]</div>
</div>
</div>
</div>
</div>
</div>
<span id="document-appendix/index"></span><div class="section" id="appendix">
<span id="id1"></span><h2>Appendix</h2>
<div class="toctree-wrapper compound">
<span id="document-appendix/embedding"></span><div class="section" id="embedding">
<span id="embed"></span><span id="index-0"></span><h3>Embedding</h3>
<p>A WebAssembly implementation will typically be <em>embedded</em> into a <em>host</em> environment.
An <em>embedder</em> implements the connection between such a host environment and the WebAssembly semantics as defined in the main body of this specification.
An embedder is expected to interact with the semantics in well-defined ways.</p>
<p>This section defines a suitable interface to the WebAssembly semantics in the form of entry points through which an embedder can access it.
The interface is intended to be complete, in the sense that an embedder does not need to reference other functional parts of the WebAssembly specification directly.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On the other hand, an embedder does not need to provide the host environment with access to all functionality defined in this interface.
For example, an implementation may not support <a class="reference internal" href="#embed-parse-module"><span class="std std-ref">parsing</span></a> of the <a class="reference internal" href="index.html#text"><span class="std std-ref">text format</span></a>.</p>
</div>
<p>In the description of the embedder interface, syntactic classes from the <a class="reference internal" href="index.html#syntax"><span class="std std-ref">abstract syntax</span></a> and the <a class="reference internal" href="index.html#syntax-runtime"><span class="std std-ref">runtime’s abstract machine</span></a> are used as names for variables that range over the possible objects from that class.
Hence, these syntactic classes can also be interpreted as types.</p>
<p id="embed-error">Failure of an interface operation is indicated by an auxiliary syntactic class:</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llll}
\def\mathdef121#1{{}}\mathdef121{(error)} &amp; \href{#embed-error}{\mathit{error}} &amp;::=&amp; \href{#embed-error}{\mathsf{error}} \\
\end{array}\end{split}\]</div>
<p>In addition to the error conditions specified explicitly in this section, implementations may also return errors when specific <a class="reference internal" href="index.html#impl"><span class="std std-ref">implementation limitations</span></a> are reached.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Errors are abstract and unspecific with this definition.
Implementations can refine it to carry suitable classifications and diagnostic messages.</p>
</div>
<div class="section" id="store">
<span id="embed-store"></span><span id="index-1"></span><h4>Store</h4>
<div class="section" id="embed-init-store">
<span id="id1"></span><h5><span class="math notranslate">\(\mathrm{init\_store}() : \href{#syntax-store}{\mathit{store}}\)</span></h5>
<ol class="arabic simple">
<li>Return the empty <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{init\_store}() &amp;=&amp; \{ \href{#syntax-store}{\mathsf{funcs}}~\epsilon,~ \href{#syntax-store}{\mathsf{mems}}~\epsilon,~ \href{#syntax-store}{\mathsf{tables}}~\epsilon,~ \href{#syntax-store}{\mathsf{globals}}~\epsilon \} \\
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="modules">
<span id="embed-module"></span><span id="index-2"></span><h4>Modules</h4>
<div class="section" id="embed-decode-module">
<span id="index-3"></span><span id="id2"></span><h5><span class="math notranslate">\(\mathrm{decode\_module}(\href{#syntax-byte}{\mathit{byte}}^\ast) : \href{#syntax-module}{\mathit{module}} ~|~ \href{#embed-error}{\mathit{error}}\)</span></h5>
<ol class="arabic simple">
<li>If there exists a derivation for the <a class="reference internal" href="index.html#syntax-byte"><span class="std std-ref">byte</span></a> sequence <span class="math notranslate">\(\href{#syntax-byte}{\mathit{byte}}^\ast\)</span> as a <span class="math notranslate">\(\href{#binary-module}{\mathtt{module}}\)</span> according to the <a class="reference internal" href="index.html#binary-module"><span class="std std-ref">binary grammar for modules</span></a>, yielding a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a> <span class="math notranslate">\(m\)</span>, then return <span class="math notranslate">\(m\)</span>.</li>
<li>Else, return <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{decode\_module}(b^\ast) &amp;=&amp; m &amp;&amp; (\mathrel{\mbox{if}} \href{#binary-module}{\mathtt{module}} \stackrel\ast\Longrightarrow m{:}b^\ast) \\
\mathrm{decode\_module}(b^\ast) &amp;=&amp; \href{#embed-error}{\mathsf{error}} &amp;&amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-parse-module">
<span id="index-4"></span><span id="id3"></span><h5><span class="math notranslate">\(\mathrm{parse\_module}(\href{#syntax-name}{\mathit{codepoint}}^\ast) : \href{#syntax-module}{\mathit{module}} ~|~ \href{#embed-error}{\mathit{error}}\)</span></h5>
<ol class="arabic simple">
<li>If there exists a derivation for the <a class="reference internal" href="index.html#text-source"><span class="std std-ref">source</span></a> <span class="math notranslate">\(\href{#syntax-name}{\mathit{codepoint}}^\ast\)</span> as a <span class="math notranslate">\(\href{#text-module}{\mathtt{module}}\)</span> according to the <a class="reference internal" href="index.html#text-module"><span class="std std-ref">text grammar for modules</span></a>, yielding a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a> <span class="math notranslate">\(m\)</span>, then return <span class="math notranslate">\(m\)</span>.</li>
<li>Else, return <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{parse\_module}(c^\ast) &amp;=&amp; m &amp;&amp; (\mathrel{\mbox{if}} \href{#text-module}{\mathtt{module}} \stackrel\ast\Longrightarrow m{:}c^\ast) \\
\mathrm{parse\_module}(c^\ast) &amp;=&amp; \href{#embed-error}{\mathsf{error}} &amp;&amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-validate-module">
<span id="index-5"></span><span id="id4"></span><h5><span class="math notranslate">\(\mathrm{validate\_module}(\href{#syntax-module}{\mathit{module}}) : \href{#embed-error}{\mathit{error}}^?\)</span></h5>
<ol class="arabic simple">
<li>If <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}\)</span> is <a class="reference internal" href="index.html#valid-module"><span class="std std-ref">valid</span></a>, then return nothing.</li>
<li>Else, return <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{validate\_module}(m) &amp;=&amp; \epsilon &amp;&amp; (\mathrel{\mbox{if}} {} \href{#valid-module}{\vdash} m : \href{#syntax-externtype}{\mathit{externtype}}^\ast \href{#syntax-functype}{\rightarrow} {\href{#syntax-externtype}{\mathit{externtype}}'}^\ast) \\
\mathrm{validate\_module}(m) &amp;=&amp; \href{#embed-error}{\mathsf{error}} &amp;&amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-instantiate-module">
<span id="index-6"></span><span id="id5"></span><h5><span class="math notranslate">\(\mathrm{instantiate\_module}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-module}{\mathit{module}}, \href{#syntax-externval}{\mathit{externval}}^\ast) : (\href{#syntax-store}{\mathit{store}}, \href{#syntax-moduleinst}{\mathit{moduleinst}} ~|~ \href{#embed-error}{\mathit{error}})\)</span></h5>
<ol class="arabic simple">
<li>Try <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">instantiating</span></a> <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}\)</span> in <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}\)</span> with <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external values</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}^\ast\)</span> as imports:</li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li>If it succeeds with a <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module instance</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span>, then let <span class="math notranslate">\(\mathit{result}\)</span> be <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span>.</li>
<li>Else, let <span class="math notranslate">\(\mathit{result}\)</span> be <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="2">
<li>Return the new store paired with <span class="math notranslate">\(\mathit{result}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{instantiate\_module}(S, m, \mathit{ev}^\ast) &amp;=&amp; (S', F.\href{#syntax-frame}{\mathsf{module}}) &amp;&amp; (\mathrel{\mbox{if}} \href{#exec-instantiation}{\mathrm{instantiate}}(S, m, \mathit{ev}^\ast) \href{#formal-notation}{\hookrightarrow}^\ast S'; F; \epsilon) \\
\mathrm{instantiate\_module}(S, m, \mathit{ev}^\ast) &amp;=&amp; (S', \href{#embed-error}{\mathsf{error}}) &amp;&amp; (\mathrel{\mbox{if}} \href{#exec-instantiation}{\mathrm{instantiate}}(S, m, \mathit{ev}^\ast) \href{#formal-notation}{\hookrightarrow}^\ast S'; F; \href{#syntax-trap}{\mathsf{trap}}) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The store may be modified even in case of an error.</p>
</div>
</div>
<div class="section" id="embed-imports">
<span id="index-7"></span><span id="id6"></span><h5><span class="math notranslate">\(\mathrm{module\_imports}(\href{#syntax-module}{\mathit{module}}) : (\href{#syntax-name}{\mathit{name}}, \href{#syntax-name}{\mathit{name}}, \href{#syntax-externtype}{\mathit{externtype}})^\ast\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}\)</span> is <a class="reference internal" href="index.html#valid-module"><span class="std std-ref">valid</span></a> with external import types <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}^\ast\)</span> and external export types <span class="math notranslate">\({\href{#syntax-externtype}{\mathit{externtype}}'}^\ast\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-import}{\mathit{import}}^\ast\)</span> be the <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">imports</span></a> <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{imports}}\)</span>.</li>
<li>Assert: the length of <span class="math notranslate">\(\href{#syntax-import}{\mathit{import}}^\ast\)</span> equals the length of <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}^\ast\)</span>.</li>
<li>For each <span class="math notranslate">\(\href{#syntax-import}{\mathit{import}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-import}{\mathit{import}}^\ast\)</span> and corresponding <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}^\ast\)</span>, do:</li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li>Let <span class="math notranslate">\(\mathit{result}_i\)</span> be the triple <span class="math notranslate">\((\href{#syntax-import}{\mathit{import}}_i.\href{#syntax-import}{\mathsf{module}}, \href{#syntax-import}{\mathit{import}}_i.\href{#syntax-import}{\mathsf{name}}, \href{#syntax-externtype}{\mathit{externtype}}_i)\)</span>.</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="5">
<li>Return the concatenation of all <span class="math notranslate">\(\mathit{result}_i\)</span>, in index order.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~ \\
\begin{array}{lclll}
\mathrm{module\_imports}(m) &amp;=&amp; (\mathit{im}.\href{#syntax-import}{\mathsf{module}}, \mathit{im}.\href{#syntax-import}{\mathsf{name}}, \href{#syntax-externtype}{\mathit{externtype}})^\ast \\
  &amp;&amp; \qquad (\mathrel{\mbox{if}} \mathit{im}^\ast = m.\href{#syntax-module}{\mathsf{imports}} \wedge {} \href{#valid-module}{\vdash} m : \href{#syntax-externtype}{\mathit{externtype}}^\ast \href{#syntax-functype}{\rightarrow} {\href{#syntax-externtype}{\mathit{externtype}}'}^\ast) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-exports">
<span id="index-8"></span><span id="id7"></span><h5><span class="math notranslate">\(\mathrm{module\_exports}(\href{#syntax-module}{\mathit{module}}) : (\href{#syntax-name}{\mathit{name}}, \href{#syntax-externtype}{\mathit{externtype}})^\ast\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}\)</span> is <a class="reference internal" href="index.html#valid-module"><span class="std std-ref">valid</span></a> with external import types <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}^\ast\)</span> and external export types <span class="math notranslate">\({\href{#syntax-externtype}{\mathit{externtype}}'}^\ast\)</span>.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}^\ast\)</span> be the <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">exports</span></a> <span class="math notranslate">\(\href{#syntax-module}{\mathit{module}}.\href{#syntax-module}{\mathsf{exports}}\)</span>.</li>
<li>Assert: the length of <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}^\ast\)</span> equals the length of <span class="math notranslate">\({\href{#syntax-externtype}{\mathit{externtype}}'}^\ast\)</span>.</li>
<li>For each <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-export}{\mathit{export}}^\ast\)</span> and corresponding <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}'_i\)</span> in <span class="math notranslate">\({\href{#syntax-externtype}{\mathit{externtype}}'}^\ast\)</span>, do:</li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li>Let <span class="math notranslate">\(\mathit{result}_i\)</span> be the pair <span class="math notranslate">\((\href{#syntax-export}{\mathit{export}}_i.\href{#syntax-export}{\mathsf{name}}, \href{#syntax-externtype}{\mathit{externtype}}'_i)\)</span>.</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="5">
<li>Return the concatenation of all <span class="math notranslate">\(\mathit{result}_i\)</span>, in index order.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~ \\
\begin{array}{lclll}
\mathrm{module\_exports}(m) &amp;=&amp; (\mathit{ex}.\href{#syntax-export}{\mathsf{name}}, \href{#syntax-externtype}{\mathit{externtype}}')^\ast \\
  &amp;&amp; \qquad (\mathrel{\mbox{if}} \mathit{ex}^\ast = m.\href{#syntax-module}{\mathsf{exports}} \wedge {} \href{#valid-module}{\vdash} m : \href{#syntax-externtype}{\mathit{externtype}}^\ast \href{#syntax-functype}{\rightarrow} {\href{#syntax-externtype}{\mathit{externtype}}'}^\ast) \\
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="exports">
<span id="embed-export"></span><span id="index-9"></span><h4>Exports</h4>
<div class="section" id="embed-get-export">
<span id="id8"></span><h5><span class="math notranslate">\(\mathrm{get\_export}(\href{#syntax-moduleinst}{\mathit{moduleinst}}, \href{#syntax-name}{\mathit{name}}) : \href{#syntax-externval}{\mathit{externval}} ~|~ \href{#embed-error}{\mathit{error}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: due to <a class="reference internal" href="index.html#valid-moduleinst"><span class="std std-ref">validity</span></a> of the <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module instance</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span>, all its <a class="reference internal" href="index.html#syntax-exportinst"><span class="std std-ref">export names</span></a> are different.</li>
<li>If there exists an <span class="math notranslate">\(\href{#syntax-exportinst}{\mathit{exportinst}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{exports}}\)</span> such that <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">name</span></a> <span class="math notranslate">\(\href{#syntax-exportinst}{\mathit{exportinst}}_i.\href{#syntax-exportinst}{\mathsf{name}}\)</span> equals <span class="math notranslate">\(\href{#syntax-name}{\mathit{name}}\)</span>, then:<ol class="loweralpha">
<li>Return the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-exportinst}{\mathit{exportinst}}_i.\href{#syntax-exportinst}{\mathsf{value}}\)</span>.</li>
</ol>
</li>
<li>Else, return <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~ \\
\begin{array}{lclll}
\mathrm{get\_export}(m, \href{#syntax-name}{\mathit{name}}) &amp;=&amp; m.\href{#syntax-moduleinst}{\mathsf{exports}}[i].\href{#syntax-exportinst}{\mathsf{value}} &amp;&amp; (\mathrel{\mbox{if}} m.\href{#syntax-module}{\mathsf{exports}}[i].\href{#syntax-exportinst}{\mathsf{name}} = \href{#syntax-name}{\mathit{name}}) \\
\mathrm{get\_export}(m, \href{#syntax-name}{\mathit{name}}) &amp;=&amp; \href{#embed-error}{\mathsf{error}} &amp;&amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="functions">
<span id="embed-func"></span><span id="index-10"></span><h4>Functions</h4>
<div class="section" id="embed-alloc-func">
<span id="id9"></span><h5><span class="math notranslate">\(\mathrm{alloc\_func}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-functype}{\mathit{functype}}, \href{#syntax-hostfunc}{\mathit{hostfunc}}) : (\href{#syntax-store}{\mathit{store}}, \href{#syntax-funcaddr}{\mathit{funcaddr}})\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}\)</span> be the result of <a class="reference internal" href="index.html#alloc-func"><span class="std std-ref">allocating a host function</span></a> in <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}\)</span> with <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}\)</span> and host function code <span class="math notranslate">\(\href{#syntax-hostfunc}{\mathit{hostfunc}}\)</span>.</li>
<li>Return the new store paired with <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{alloc\_func}(S, \mathit{ft}, \mathit{code}) &amp;=&amp; (S', \mathit{a}) &amp;&amp; (\mathrel{\mbox{if}} \href{#alloc-hostfunc}{\mathrm{allochostfunc}}(S, \mathit{ft}, \mathit{code}) = S', \mathit{a}) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This operation assumes that <span class="math notranslate">\(\href{#syntax-hostfunc}{\mathit{hostfunc}}\)</span> satisfies the <a class="reference internal" href="index.html#exec-invoke-host"><span class="std std-ref">pre- and post-conditions</span></a> required for a function instance with type <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}\)</span>.</p>
<p class="last">Regular (non-host) function instances can only be created indirectly through <a class="reference internal" href="#embed-instantiate-module"><span class="std std-ref">module instantiation</span></a>.</p>
</div>
</div>
<div class="section" id="embed-type-func">
<span id="id10"></span><h5><span class="math notranslate">\(\mathrm{type\_func}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-funcaddr}{\mathit{funcaddr}}) : \href{#syntax-functype}{\mathit{functype}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{funcs}}[\href{#syntax-funcaddr}{\mathit{funcaddr}}]\)</span> exists.</li>
<li>Assert: the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{func}}~\href{#syntax-funcaddr}{\mathit{funcaddr}}\)</span> is <a class="reference internal" href="index.html#valid-externval"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}}\)</span>.</li>
<li>Return <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{type\_func}(S, a) &amp;=&amp; \mathit{ft} &amp;&amp; (\mathrel{\mbox{if}} S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{func}}~a : \href{#syntax-externtype}{\mathsf{func}}~\mathit{ft}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-invoke-func">
<span id="index-11"></span><span id="id11"></span><h5><span class="math notranslate">\(\mathrm{invoke\_func}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-funcaddr}{\mathit{funcaddr}}, \href{#syntax-val}{\mathit{val}}^\ast) : (\href{#syntax-store}{\mathit{store}}, \href{#syntax-val}{\mathit{val}}^\ast ~|~ \href{#embed-error}{\mathit{error}})\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{funcs}}[\href{#syntax-funcaddr}{\mathit{funcaddr}}]\)</span> exists.</li>
<li>Try <a class="reference internal" href="index.html#exec-invocation"><span class="std std-ref">invoking</span></a> the function <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}\)</span> in <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}\)</span> with <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span> as arguments:</li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li>If it succeeds with <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> <span class="math notranslate">\({\href{#syntax-val}{\mathit{val}}'}^\ast\)</span> as results, then let <span class="math notranslate">\(\mathit{result}\)</span> be <span class="math notranslate">\({\href{#syntax-val}{\mathit{val}}'}^\ast\)</span>.</li>
<li>Else it has trapped, hence let <span class="math notranslate">\(\mathit{result}\)</span> be <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="3">
<li>Return the new store paired with <span class="math notranslate">\(\mathit{result}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~ \\
\begin{array}{lclll}
\mathrm{invoke\_func}(S, a, v^\ast) &amp;=&amp; (S', {v'}^\ast) &amp;&amp; (\mathrel{\mbox{if}} \href{#exec-invocation}{\mathrm{invoke}}(S, a, v^\ast) \href{#formal-notation}{\hookrightarrow}^\ast S'; F; {v'}^\ast) \\
\mathrm{invoke\_func}(S, a, v^\ast) &amp;=&amp; (S', \href{#embed-error}{\mathsf{error}}) &amp;&amp; (\mathrel{\mbox{if}} \href{#exec-invocation}{\mathrm{invoke}}(S, a, v^\ast) \href{#formal-notation}{\hookrightarrow}^\ast S'; F; \href{#syntax-trap}{\mathsf{trap}}) \\
\end{array}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The store may be modified even in case of an error.</p>
</div>
</div>
</div>
<div class="section" id="tables">
<span id="embed-table"></span><span id="index-12"></span><h4>Tables</h4>
<div class="section" id="embed-alloc-table">
<span id="id12"></span><h5><span class="math notranslate">\(\mathrm{alloc\_table}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-tabletype}{\mathit{tabletype}}) : (\href{#syntax-store}{\mathit{store}}, \href{#syntax-tableaddr}{\mathit{tableaddr}})\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(\href{#syntax-tableaddr}{\mathit{tableaddr}}\)</span> be the result of <a class="reference internal" href="index.html#alloc-table"><span class="std std-ref">allocating a table</span></a> in <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}\)</span> with <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate">\(\href{#syntax-tabletype}{\mathit{tabletype}}\)</span>.</li>
<li>Return the new store paired with <span class="math notranslate">\(\href{#syntax-tableaddr}{\mathit{tableaddr}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{alloc\_table}(S, \mathit{tt}) &amp;=&amp; (S', \mathit{a}) &amp;&amp; (\mathrel{\mbox{if}} \href{#alloc-table}{\mathrm{alloctable}}(S, \mathit{tt}) = S', \mathit{a}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-type-table">
<span id="id13"></span><h5><span class="math notranslate">\(\mathrm{type\_table}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-tableaddr}{\mathit{tableaddr}}) : \href{#syntax-tabletype}{\mathit{tabletype}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}]\)</span> exists.</li>
<li>Assert: the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{table}}~\href{#syntax-tableaddr}{\mathit{tableaddr}}\)</span> is <a class="reference internal" href="index.html#valid-externval"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{table}}~\href{#syntax-tabletype}{\mathit{tabletype}}\)</span>.</li>
<li>Return <span class="math notranslate">\(\href{#syntax-tabletype}{\mathit{tabletype}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{type\_table}(S, a) &amp;=&amp; \mathit{tt} &amp;&amp; (\mathrel{\mbox{if}} S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{table}}~a : \href{#syntax-externtype}{\mathsf{table}}~\mathit{tt}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-read-table">
<span id="id14"></span><h5><span class="math notranslate">\(\mathrm{read\_table}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-tableaddr}{\mathit{tableaddr}}, i) : \href{#syntax-funcaddr}{\mathit{funcaddr}}^? ~|~ \href{#embed-error}{\mathit{error}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}]\)</span> exists.</li>
<li>Assert: <span class="math notranslate">\(i\)</span> is a non-negative integer.</li>
<li>Let <span class="math notranslate">\(\mathit{ti}\)</span> be the <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instance</span></a> <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}]\)</span>.</li>
<li>If <span class="math notranslate">\(i\)</span> is larger than or equal to the length of <span class="math notranslate">\(\mathit{ti}.\href{#syntax-tableinst}{\mathsf{elem}}\)</span>, then return <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
<li>Else, return <span class="math notranslate">\(\mathit{ti}.\href{#syntax-tableinst}{\mathsf{elem}}[i]\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{read\_table}(S, a, i) &amp;=&amp; \mathit{fa}^? &amp;&amp; (\mathrel{\mbox{if}} S.\href{#syntax-store}{\mathsf{tables}}[a].\href{#syntax-tableinst}{\mathsf{elem}}[i] = \mathit{fa}^?) \\
\mathrm{read\_table}(S, a, i) &amp;=&amp; \href{#embed-error}{\mathsf{error}} &amp;&amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-write-table">
<span id="id15"></span><h5><span class="math notranslate">\(\mathrm{write\_table}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-tableaddr}{\mathit{tableaddr}}, i, \href{#syntax-funcaddr}{\mathit{funcaddr}}^?) : \href{#syntax-store}{\mathit{store}} ~|~ \href{#embed-error}{\mathit{error}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}]\)</span> exists.</li>
<li>Assert: <span class="math notranslate">\(i\)</span> is a non-negative integer.</li>
<li>Let <span class="math notranslate">\(\mathit{ti}\)</span> be the <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instance</span></a> <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}]\)</span>.</li>
<li>If <span class="math notranslate">\(i\)</span> is larger than or equal to the length of <span class="math notranslate">\(\mathit{ti}.\href{#syntax-tableinst}{\mathsf{elem}}\)</span>, then return <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
<li>Replace <span class="math notranslate">\(\mathit{ti}.\href{#syntax-tableinst}{\mathsf{elem}}[i]\)</span> with the optional <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> <span class="math notranslate">\(\mathit{fa}^?\)</span>.</li>
<li>Return the updated store.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{write\_table}(S, a, i, \mathit{fa}^?) &amp;=&amp; S' &amp;&amp; (\mathrel{\mbox{if}} S' = S \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-store}{\mathsf{tables}}[a].\href{#syntax-tableinst}{\mathsf{elem}}[i] = \mathit{fa}^?) \\
\mathrm{write\_table}(S, a, i, \mathit{fa}^?) &amp;=&amp; \href{#embed-error}{\mathsf{error}} &amp;&amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-size-table">
<span id="id16"></span><h5><span class="math notranslate">\(\mathrm{size\_table}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-tableaddr}{\mathit{tableaddr}}) : \mathit{i32}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}]\)</span> exists.</li>
<li>Return the length of <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}].\href{#syntax-tableinst}{\mathsf{elem}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~ \\
\begin{array}{lclll}
\mathrm{size\_table}(S, a) &amp;=&amp; n &amp;&amp;
  (\mathrel{\mbox{if}} |S.\href{#syntax-store}{\mathsf{tables}}[a].\href{#syntax-tableinst}{\mathsf{elem}}| = n) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-grow-table">
<span id="id17"></span><h5><span class="math notranslate">\(\mathrm{grow\_table}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-tableaddr}{\mathit{tableaddr}}, n) : \href{#syntax-store}{\mathit{store}} ~|~ \href{#embed-error}{\mathit{error}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}]\)</span> exists.</li>
<li>Assert: <span class="math notranslate">\(n\)</span> is a non-negative integer.</li>
<li>Try <a class="reference internal" href="index.html#grow-table"><span class="std std-ref">growing</span></a> the <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instance</span></a> <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{tables}}[\href{#syntax-tableaddr}{\mathit{tableaddr}}]\)</span> by <span class="math notranslate">\(n\)</span> elements:<ol class="loweralpha">
<li>If it succeeds, return the updated store.</li>
<li>Else, return <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
</ol>
</li>
</ol>
<div class="math notranslate">
\[\begin{split}~ \\
\begin{array}{lclll}
\mathrm{grow\_table}(S, a, n) &amp;=&amp; S' &amp;&amp;
  (\mathrel{\mbox{if}} S' = S \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-store}{\mathsf{tables}}[a] = \href{#grow-table}{\mathrm{growtable}}(S.\href{#syntax-store}{\mathsf{tables}}[a], n)) \\
\mathrm{grow\_table}(S, a, n) &amp;=&amp; \href{#embed-error}{\mathsf{error}} &amp;&amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="memories">
<span id="embed-mem"></span><span id="index-13"></span><h4>Memories</h4>
<div class="section" id="embed-alloc-mem">
<span id="id18"></span><h5><span class="math notranslate">\(\mathrm{alloc\_mem}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-memtype}{\mathit{memtype}}) : (\href{#syntax-store}{\mathit{store}}, \href{#syntax-memaddr}{\mathit{memaddr}})\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(\href{#syntax-memaddr}{\mathit{memaddr}}\)</span> be the result of <a class="reference internal" href="index.html#alloc-mem"><span class="std std-ref">allocating a memory</span></a> in <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}\)</span> with <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory type</span></a> <span class="math notranslate">\(\href{#syntax-memtype}{\mathit{memtype}}\)</span>.</li>
<li>Return the new store paired with <span class="math notranslate">\(\href{#syntax-memaddr}{\mathit{memaddr}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{alloc\_mem}(S, \mathit{mt}) &amp;=&amp; (S', \mathit{a}) &amp;&amp; (\mathrel{\mbox{if}} \href{#alloc-mem}{\mathrm{allocmem}}(S, \mathit{mt}) = S', \mathit{a}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-type-mem">
<span id="id19"></span><h5><span class="math notranslate">\(\mathrm{type\_mem}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-memaddr}{\mathit{memaddr}}) : \href{#syntax-memtype}{\mathit{memtype}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}]\)</span> exists.</li>
<li>Assert: the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{mem}}~\href{#syntax-memaddr}{\mathit{memaddr}}\)</span> is <a class="reference internal" href="index.html#valid-externval"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-memtype}{\mathit{memtype}}\)</span>.</li>
<li>Return <span class="math notranslate">\(\href{#syntax-memtype}{\mathit{memtype}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{type\_mem}(S, a) &amp;=&amp; \mathit{mt} &amp;&amp; (\mathrel{\mbox{if}} S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{mem}}~a : \href{#syntax-externtype}{\mathsf{mem}}~\mathit{mt}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-read-mem">
<span id="id20"></span><h5><span class="math notranslate">\(\mathrm{read\_mem}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-memaddr}{\mathit{memaddr}}, i) : \href{#syntax-byte}{\mathit{byte}} ~|~ \href{#embed-error}{\mathit{error}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}]\)</span> exists.</li>
<li>Assert: <span class="math notranslate">\(i\)</span> is a non-negative integer.</li>
<li>Let <span class="math notranslate">\(\mathit{mi}\)</span> be the <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}]\)</span>.</li>
<li>If <span class="math notranslate">\(i\)</span> is larger than or equal to the length of <span class="math notranslate">\(\mathit{mi}.\href{#syntax-meminst}{\mathsf{data}}\)</span>, then return <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
<li>Else, return the  <a class="reference internal" href="index.html#syntax-byte"><span class="std std-ref">byte</span></a> <span class="math notranslate">\(\mathit{mi}.\href{#syntax-meminst}{\mathsf{data}}[i]\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{read\_mem}(S, a, i) &amp;=&amp; b &amp;&amp; (\mathrel{\mbox{if}} S.\href{#syntax-store}{\mathsf{mems}}[a].\href{#syntax-meminst}{\mathsf{data}}[i] = b) \\
\mathrm{read\_mem}(S, a, i) &amp;=&amp; \href{#embed-error}{\mathsf{error}} &amp;&amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-write-mem">
<span id="id21"></span><h5><span class="math notranslate">\(\mathrm{write\_mem}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-memaddr}{\mathit{memaddr}}, i, \href{#syntax-byte}{\mathit{byte}}) : \href{#syntax-store}{\mathit{store}} ~|~ \href{#embed-error}{\mathit{error}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}]\)</span> exists.</li>
<li>Assert: <span class="math notranslate">\(i\)</span> is a non-negative integer.</li>
<li>Let <span class="math notranslate">\(\mathit{mi}\)</span> be the <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}]\)</span>.</li>
<li>If <span class="math notranslate">\(i\)</span> is larger than or equal to the length of <span class="math notranslate">\(\mathit{mi}.\href{#syntax-meminst}{\mathsf{data}}\)</span>, then return <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
<li>Replace <span class="math notranslate">\(\mathit{mi}.\href{#syntax-meminst}{\mathsf{data}}[i]\)</span> with <span class="math notranslate">\(\href{#syntax-byte}{\mathit{byte}}\)</span>.</li>
<li>Return the updated store.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{write\_mem}(S, a, i, b) &amp;=&amp; S' &amp;&amp; (\mathrel{\mbox{if}} S' = S \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-store}{\mathsf{mems}}[a].\href{#syntax-meminst}{\mathsf{data}}[i] = b) \\
\mathrm{write\_mem}(S, a, i, b) &amp;=&amp; \href{#embed-error}{\mathsf{error}} &amp;&amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-size-mem">
<span id="id22"></span><h5><span class="math notranslate">\(\mathrm{size\_mem}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-memaddr}{\mathit{memaddr}}) : \mathit{i32}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}]\)</span> exists.</li>
<li>Return the length of <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}].\href{#syntax-meminst}{\mathsf{data}}\)</span> divided by the <a class="reference internal" href="index.html#page-size"><span class="std std-ref">page size</span></a>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~ \\
\begin{array}{lclll}
\mathrm{size\_mem}(S, a) &amp;=&amp; n &amp;&amp;
  (\mathrel{\mbox{if}} |S.\href{#syntax-store}{\mathsf{mems}}[a].\href{#syntax-meminst}{\mathsf{data}}| = n \cdot 64\,\mathrm{Ki}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-grow-mem">
<span id="id23"></span><h5><span class="math notranslate">\(\mathrm{grow\_mem}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-memaddr}{\mathit{memaddr}}, n) : \href{#syntax-store}{\mathit{store}} ~|~ \href{#embed-error}{\mathit{error}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}]\)</span> exists.</li>
<li>Assert: <span class="math notranslate">\(n\)</span> is a non-negative integer.</li>
<li>Try <a class="reference internal" href="index.html#grow-mem"><span class="std std-ref">growing</span></a> the <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{mems}}[\href{#syntax-memaddr}{\mathit{memaddr}}]\)</span> by <span class="math notranslate">\(n\)</span> <a class="reference internal" href="index.html#page-size"><span class="std std-ref">pages</span></a>:<ol class="loweralpha">
<li>If it succeeds, return the updated store.</li>
<li>Else, return <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
</ol>
</li>
</ol>
<div class="math notranslate">
\[\begin{split}~ \\
\begin{array}{lclll}
\mathrm{grow\_mem}(S, a, n) &amp;=&amp; S' &amp;&amp;
  (\mathrel{\mbox{if}} S' = S \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-store}{\mathsf{mems}}[a] = \href{#grow-mem}{\mathrm{growmem}}(S.\href{#syntax-store}{\mathsf{mems}}[a], n)) \\
\mathrm{grow\_mem}(S, a, n) &amp;=&amp; \href{#embed-error}{\mathsf{error}} &amp;&amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="globals">
<span id="embed-global"></span><span id="index-14"></span><h4>Globals</h4>
<div class="section" id="embed-alloc-global">
<span id="id24"></span><h5><span class="math notranslate">\(\mathrm{alloc\_global}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-globaltype}{\mathit{globaltype}}, \href{#syntax-val}{\mathit{val}}) : (\href{#syntax-store}{\mathit{store}}, \href{#syntax-globaladdr}{\mathit{globaladdr}})\)</span></h5>
<ol class="arabic simple">
<li>Let <span class="math notranslate">\(\href{#syntax-globaladdr}{\mathit{globaladdr}}\)</span> be the result of <a class="reference internal" href="index.html#alloc-global"><span class="std std-ref">allocating a global</span></a> in <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}\)</span> with <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate">\(\href{#syntax-globaltype}{\mathit{globaltype}}\)</span> and initialization value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span>.</li>
<li>Return the new store paired with <span class="math notranslate">\(\href{#syntax-globaladdr}{\mathit{globaladdr}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{alloc\_global}(S, \mathit{gt}, v) &amp;=&amp; (S', \mathit{a}) &amp;&amp; (\mathrel{\mbox{if}} \href{#alloc-global}{\mathrm{allocglobal}}(S, \mathit{gt}, v) = S', \mathit{a}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-type-global">
<span id="id25"></span><h5><span class="math notranslate">\(\mathrm{type\_global}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-globaladdr}{\mathit{globaladdr}}) : \href{#syntax-globaltype}{\mathit{globaltype}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{globals}}[\href{#syntax-globaladdr}{\mathit{globaladdr}}]\)</span> exists.</li>
<li>Assert: the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{global}}~\href{#syntax-globaladdr}{\mathit{globaladdr}}\)</span> is <a class="reference internal" href="index.html#valid-externval"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}}\)</span>.</li>
<li>Return <span class="math notranslate">\(\href{#syntax-globaltype}{\mathit{globaltype}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{type\_global}(S, a) &amp;=&amp; \mathit{gt} &amp;&amp; (\mathrel{\mbox{if}} S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{global}}~a : \href{#syntax-externtype}{\mathsf{global}}~\mathit{gt}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-read-global">
<span id="id26"></span><h5><span class="math notranslate">\(\mathrm{read\_global}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-globaladdr}{\mathit{globaladdr}}) : \href{#syntax-val}{\mathit{val}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{globals}}[\href{#syntax-globaladdr}{\mathit{globaladdr}}]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{gi}\)</span> be the <a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">global instance</span></a> <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{globals}}[\href{#syntax-globaladdr}{\mathit{globaladdr}}]\)</span>.</li>
<li>Return the <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">value</span></a> <span class="math notranslate">\(\mathit{gi}.\href{#syntax-globalinst}{\mathsf{value}}\)</span>.</li>
</ol>
<div class="math notranslate">
\[\begin{split}\begin{array}{lclll}
\mathrm{read\_global}(S, a) &amp;=&amp; v &amp;&amp; (\mathrel{\mbox{if}} S.\href{#syntax-store}{\mathsf{globals}}[a].\href{#syntax-globalinst}{\mathsf{value}} = v) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="embed-write-global">
<span id="id27"></span><h5><span class="math notranslate">\(\mathrm{write\_global}(\href{#syntax-store}{\mathit{store}}, \href{#syntax-globaladdr}{\mathit{globaladdr}}, \href{#syntax-val}{\mathit{val}}) : \href{#syntax-store}{\mathit{store}} ~|~ \href{#embed-error}{\mathit{error}}\)</span></h5>
<ol class="arabic simple">
<li>Assert: <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{globals}}[a]\)</span> exists.</li>
<li>Let <span class="math notranslate">\(\mathit{gi}\)</span> be the <a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">global instance</span></a> <span class="math notranslate">\(\href{#syntax-store}{\mathit{store}}.\href{#syntax-store}{\mathsf{globals}}[\href{#syntax-globaladdr}{\mathit{globaladdr}}]\)</span>.</li>
<li>If <span class="math notranslate">\(\mathit{gi}.\href{#syntax-globalinst}{\mathsf{mut}}\)</span> is not <span class="math notranslate">\(\href{#syntax-mut}{\mathsf{var}}\)</span>, then return <span class="math notranslate">\(\href{#embed-error}{\mathsf{error}}\)</span>.</li>
<li>Replace <span class="math notranslate">\(\mathit{gi}.\href{#syntax-globalinst}{\mathsf{value}}\)</span> with the <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">value</span></a> <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}\)</span>.</li>
<li>Return the updated store.</li>
</ol>
<div class="math notranslate">
\[\begin{split}~ \\
\begin{array}{lclll}
\mathrm{write\_global}(S, a, v) &amp;=&amp; S' &amp;&amp; (\mathrel{\mbox{if}} S.\href{#syntax-store}{\mathsf{globals}}[a].\href{#syntax-globalinst}{\mathsf{mut}} = \href{#syntax-mut}{\mathsf{var}} \wedge S' = S \href{#notation-replace}{\mathrel{\mbox{with}}} \href{#syntax-store}{\mathsf{globals}}[a].\href{#syntax-globalinst}{\mathsf{value}} = v) \\
\mathrm{write\_global}(S, a, v) &amp;=&amp; \href{#embed-error}{\mathsf{error}} &amp;&amp; (\mathrel{\mbox{otherwise}}) \\
\end{array}\end{split}\]</div>
</div>
</div>
</div>
<span id="document-appendix/implementation"></span><div class="section" id="implementation-limitations">
<span id="impl"></span><span id="index-0"></span><h3>Implementation Limitations</h3>
<p>Implementations typically impose additional restrictions on a number of aspects of a WebAssembly module or execution.
These may stem from:</p>
<ul class="simple">
<li>physical resource limits,</li>
<li>constraints imposed by the embedder or its environment,</li>
<li>limitations of selected implementation strategies.</li>
</ul>
<p>This section lists allowed limitations.
Where restrictions take the form of numeric limits, no minimum requirements are given,
nor are the limits assumed to be concrete, fixed numbers.
However, it is expected that all implementations have “reasonably” large limits  to enable common applications.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A conforming implementation is not allowed to leave out individual <em>features</em>.
However, designated subsets of WebAssembly may be specified in the future.</p>
</div>
<div class="section" id="syntactic-limits">
<h4>Syntactic Limits</h4>
<div class="section" id="structure">
<span id="impl-syntax"></span><span id="index-1"></span><h5>Structure</h5>
<p>An implementation may impose restrictions on the following dimensions of a module:</p>
<ul class="simple">
<li>the number of <a class="reference internal" href="index.html#syntax-type"><span class="std std-ref">types</span></a> in a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a></li>
<li>the number of <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">functions</span></a> in a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>, including imports</li>
<li>the number of <a class="reference internal" href="index.html#syntax-table"><span class="std std-ref">tables</span></a> in a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>, including imports</li>
<li>the number of <a class="reference internal" href="index.html#syntax-mem"><span class="std std-ref">memories</span></a> in a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>, including imports</li>
<li>the number of <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">globals</span></a> in a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a>, including imports</li>
<li>the number of <a class="reference internal" href="index.html#syntax-elem"><span class="std std-ref">element segments</span></a> in a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a></li>
<li>the number of <a class="reference internal" href="index.html#syntax-data"><span class="std std-ref">data segments</span></a> in a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a></li>
<li>the number of <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">imports</span></a> to a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a></li>
<li>the number of <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">exports</span></a> form a <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a></li>
<li>the number of parameters in a <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a></li>
<li>the number of results in a <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a></li>
<li>the number of <a class="reference internal" href="index.html#syntax-local"><span class="std std-ref">locals</span></a> in a <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a></li>
<li>the size of a <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a> body</li>
<li>the size of a <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">structured control instruction</span></a></li>
<li>the number of <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">structured control instructions</span></a> in a <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a></li>
<li>the nesting depth of <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">structured control instructions</span></a></li>
<li>the number of <a class="reference internal" href="index.html#syntax-labelidx"><span class="std std-ref">label indices</span></a> in a <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br\_table}}\)</span> instruction</li>
<li>the length of an <a class="reference internal" href="index.html#syntax-elem"><span class="std std-ref">element segment</span></a></li>
<li>the length of a <a class="reference internal" href="index.html#syntax-data"><span class="std std-ref">data segment</span></a></li>
<li>the length of a <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">name</span></a></li>
<li>the range of <a class="reference internal" href="index.html#syntax-codepoint"><span class="std std-ref">code points</span></a> in a <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">name</span></a></li>
</ul>
<p>If the limits of an implementation are exceeded for a given module,
then the implementation may reject the <a class="reference internal" href="index.html#valid"><span class="std std-ref">validation</span></a>, compilation, or <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">instantiation</span></a> of that module with an embedder-specific error.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The last item allows <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedders</span></a> that operate in limited environments without support for
<a class="reference external" href="http://www.unicode.org/versions/latest/">Unicode</a> to limit the
names of <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">imports</span></a> and <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">exports</span></a>
to common subsets like <a class="reference external" href="http://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a>.</p>
</div>
</div>
<div class="section" id="binary-format">
<span id="impl-binary"></span><span id="index-2"></span><h5>Binary Format</h5>
<p>For a module given in <a class="reference internal" href="index.html#binary"><span class="std std-ref">binary format</span></a>, additional limitations may be imposed on the following dimensions:</p>
<ul class="simple">
<li>the size of a <a class="reference internal" href="index.html#binary-module"><span class="std std-ref">module</span></a></li>
<li>the size of any <a class="reference internal" href="index.html#binary-section"><span class="std std-ref">section</span></a></li>
<li>the size of an individual function’s <a class="reference internal" href="index.html#binary-code"><span class="std std-ref">code</span></a></li>
<li>the number of <a class="reference internal" href="index.html#binary-section"><span class="std std-ref">sections</span></a></li>
</ul>
</div>
<div class="section" id="text-format">
<span id="impl-text"></span><span id="index-3"></span><h5>Text Format</h5>
<p>For a module given in <a class="reference internal" href="index.html#text"><span class="std std-ref">text format</span></a>, additional limitations may be imposed on the following dimensions:</p>
<ul class="simple">
<li>the size of the <a class="reference internal" href="index.html#source"><span class="std std-ref">source text</span></a></li>
<li>the size of any syntactic element</li>
<li>the size of an individual <a class="reference internal" href="index.html#text-token"><span class="std std-ref">token</span></a></li>
<li>the nesting depth of <a class="reference internal" href="index.html#text-foldedinstr"><span class="std std-ref">folded instructions</span></a></li>
<li>the length of symbolic <a class="reference internal" href="index.html#text-id"><span class="std std-ref">identifiers</span></a></li>
<li>the range of literal <a class="reference internal" href="index.html#text-char"><span class="std std-ref">characters</span></a> (code points) allowed in the <a class="reference internal" href="index.html#source"><span class="std std-ref">source text</span></a></li>
</ul>
</div>
</div>
<div class="section" id="validation">
<span id="impl-valid"></span><span id="index-4"></span><h4>Validation</h4>
<p>An implementation may defer <a class="reference internal" href="index.html#valid"><span class="std std-ref">validation</span></a> of individual <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">functions</span></a> until they are first <a class="reference internal" href="index.html#exec-invoke"><span class="std std-ref">invoked</span></a>.</p>
<p>If a function turns out to be invalid, then the invocation, and every consecutive call to the same function, results in a <a class="reference internal" href="index.html#trap"><span class="std std-ref">trap</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is to allow implementations to use interpretation or just-in-time compilation for functions.
The function must still be fully validated before execution of its body begins.</p>
</div>
</div>
<div class="section" id="execution">
<span id="impl-exec"></span><span id="index-5"></span><h4>Execution</h4>
<p>Restrictions on the following dimensions may be imposed during <a class="reference internal" href="index.html#exec"><span class="std std-ref">execution</span></a> of a WebAssembly program:</p>
<ul class="simple">
<li>the number of allocated <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module instances</span></a></li>
<li>the number of allocated <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">function instances</span></a></li>
<li>the number of allocated <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instances</span></a></li>
<li>the number of allocated <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instances</span></a></li>
<li>the number of allocated <a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">global instances</span></a></li>
<li>the size of a <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instance</span></a></li>
<li>the size of a <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a></li>
<li>the number of <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frames</span></a> on the <a class="reference internal" href="index.html#stack"><span class="std std-ref">stack</span></a></li>
<li>the number of <a class="reference internal" href="index.html#syntax-label"><span class="std std-ref">labels</span></a> on the <a class="reference internal" href="index.html#stack"><span class="std std-ref">stack</span></a></li>
<li>the number of <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> on the <a class="reference internal" href="index.html#stack"><span class="std std-ref">stack</span></a></li>
</ul>
<p>If the runtime limits of an implementation are exceeded during execution of a computation,
then it may terminate that computation and report an embedder-specific error to the invoking code.</p>
<p>Some of the above limits may already be verified during instantiation, in which case an implementation may report exceedance in the same manner as for <a class="reference internal" href="#impl-syntax"><span class="std std-ref">syntactic limits</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Concrete limits are usually not fixed but may be dependent on specifics, interdependent, vary over time, or depend on other implementation- or embedder-specific situations or events.</p>
</div>
</div>
</div>
<span id="document-appendix/algorithm"></span><div class="section" id="validation-algorithm">
<span id="algo-valid"></span><span id="index-0"></span><h3>Validation Algorithm</h3>
<p>The specification of WebAssembly <a class="reference internal" href="index.html#valid"><span class="std std-ref">validation</span></a> is purely <em>declarative</em>.
It describes the constraints that must be met by a <a class="reference internal" href="index.html#valid-module"><span class="std std-ref">module</span></a> or <a class="reference internal" href="index.html#valid-instr"><span class="std std-ref">instruction</span></a> sequence to be valid.</p>
<p>This section sketches the skeleton of a sound and complete <em>algorithm</em> for effectively validating code, i.e., sequences of <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instructions</span></a>.
(Other aspects of validation are straightforward to implement.)</p>
<p>In fact, the algorithm is expressed over the flat sequence of opcodes as occurring in the <a class="reference internal" href="index.html#binary"><span class="std std-ref">binary format</span></a>, and performs only a single pass over it.
Consequently, it can be integrated directly into a decoder.</p>
<p>The algorithm is expressed in typed pseudo code whose semantics is intended to be self-explanatory.</p>
<div class="section" id="data-structures">
<span id="index-1"></span><h4>Data Structures</h4>
<p>The algorithm uses two separate stacks: the <em>operand stack</em> and the <em>control stack</em>.
The former tracks the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">types</span></a> of operand values on the <a class="reference internal" href="index.html#stack"><span class="std std-ref">stack</span></a>,
the latter surrounding <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">structured control instructions</span></a> and their associated <a class="reference internal" href="index.html#syntax-instr-control"><span class="std std-ref">blocks</span></a>.</p>
<div class="highlight-pseudo notranslate"><div class="highlight"><pre><span></span><span class="k">type</span> <span class="nf">val_type</span> = I32 | I64 | F32 | F64

<span class="k">type</span> <span class="nf">opd_stack</span> = stack(val_type | Unknown)

<span class="k">type</span> <span class="nf">ctrl_stack</span> = stack(ctrl_frame)
<span class="k">type</span> <span class="nf">ctrl_frame</span> = {
  <span class="nf">opcode</span> : opcode
  <span class="nf">start_types</span> : list(val_type)
  <span class="nf">end_types</span> : list(val_type)
  <span class="nf">height</span> : nat
  <span class="nf">unreachable</span> : bool
}
</pre></div>
</div>
<p>For each value, the operand stack records its <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a>, or <code class="code docutils literal notranslate"><span class="pre">Unknown</span></code> when the type is not known.</p>
<p>For each entered block, the control stack records a <em>control frame</em> with the originating opcode, the types on the top of the operand stack at the start and end of the block (used to check its result as well as branches), the height of the operand stack at the start of the block (used to check that operands do not underflow the current block), and a flag recording whether the remainder of the block is unreachable (used to handle <a class="reference internal" href="index.html#polymorphism"><span class="std std-ref">stack-polymorphic</span></a> typing after branches).</p>
<p>For the purpose of presenting the algorithm, the operand and control stacks are simply maintained as global variables:</p>
<div class="highlight-pseudo notranslate"><div class="highlight"><pre><span></span><span class="k">var</span> <span class="nf">opds</span> : opd_stack
<span class="k">var</span> <span class="nf">ctrls</span> : ctrl_stack
</pre></div>
</div>
<p>However, these variables are not manipulated directly by the main checking function, but through a set of auxiliary functions:</p>
<div class="highlight-pseudo notranslate"><div class="highlight"><pre><span></span><span class="k">func</span> <span class="nf">push_opd</span>(<span class="nf">type</span> : val_type | Unknown) =
  opds.push(type)

<span class="k">func</span> <span class="nf">pop_opd</span>() : val_type | Unknown =
  <span class="k">if</span> (opds.size() = ctrls[0].height &amp;&amp; ctrls[0].unreachable) <span class="k">return</span> Unknown
  error_if(opds.size() = ctrls[0].height)
  <span class="k">return</span> opds.pop()

<span class="k">func</span> <span class="nf">pop_opd</span>(<span class="nf">expect</span> : val_type | Unknown) : val_type | Unknown =
  <span class="k">let</span> <span class="nf">actual</span> = pop_opd()
  <span class="k">if</span> (actual = Unknown) <span class="k">return</span> expect
  <span class="k">if</span> (expect = Unknown) <span class="k">return</span> actual
  error_if(actual =/= expect)
  <span class="k">return</span> actual

<span class="k">func</span> <span class="nf">push_opds</span>(<span class="nf">types</span> : list(val_type)) = <span class="k">foreach</span> (t <span class="k">in</span> types) push_opd(t)
<span class="k">func</span> <span class="nf">pop_opds</span>(<span class="nf">types</span> : list(val_type)) = <span class="k">foreach</span> (t <span class="k">in</span> reverse(types)) pop_opd(t)
</pre></div>
</div>
<p>Pushing an operand simply pushes the respective type to the operand stack.</p>
<p>Popping an operand checks that the operand stack does not underflow the current block and then removes one type.
But first, a special case is handled where the block contains no known operands, but has been marked as unreachable.
That can occur after an unconditional branch, when the stack is typed <a class="reference internal" href="index.html#polymorphism"><span class="std std-ref">polymorphically</span></a>.
In that case, an unknown type is returned.</p>
<p>A second function for popping an operand takes an expected type, which the actual operand type is checked against.
The types may differ in case one of them is Unknown.
The more specific type is returned.</p>
<p>Finally, there are accumulative functions for pushing or popping multiple operand types.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The notation <code class="code docutils literal notranslate"><span class="pre">stack[i]</span></code> is meant to index the stack from the top,
so that <code class="code docutils literal notranslate"><span class="pre">ctrls[0]</span></code> accesses the element pushed last.</p>
</div>
<p>The control stack is likewise manipulated through auxiliary functions:</p>
<div class="highlight-pseudo notranslate"><div class="highlight"><pre><span></span><span class="k">func</span> <span class="nf">push_ctrl</span>(<span class="nf">opcode</span> : opcode, <span class="k">in</span> : list(val_type), <span class="nf">out</span> : list(val_type)) =
  <span class="k">let</span> <span class="nf">frame</span> = ctrl_frame(opcode, <span class="k">in</span>, out, opds.size(), false)
  ctrls.push(frame)
  push_opds(<span class="k">in</span>)

<span class="k">func</span> <span class="nf">pop_ctrl</span>() : ctrl_frame =
  error_if(ctrls.is_empty())
  <span class="k">let</span> <span class="nf">frame</span> = ctrls[0]
  pop_opds(frame.end_types)
  error_if(opds.size() =/= frame.height)
  ctrls.pop()
  <span class="k">return</span> frame

<span class="k">func</span> <span class="nf">label_types</span>(<span class="nf">frame</span> : ctrl_frame) : list(val_types) =
  <span class="k">return</span> (if frame.opcode == loop then frame.start_types else frame.end_types)

<span class="k">func</span> <span class="nf">unreachable</span>() =
  opds.resize(ctrls[0].height)
  ctrls[0].unreachable := true
</pre></div>
</div>
<p>Pushing a control frame takes the types of the label and result values.
It allocates a new frame record recording them along with the current height of the operand stack and marks the block as reachable.</p>
<p>Popping a frame first checks that the control stack is not empty.
It then verifies that the operand stack contains the right types of values expected at the end of the exited block and pops them off the operand stack.
Afterwards, it checks that the stack has shrunk back to its initial height.</p>
<p>The type of the <a class="reference internal" href="index.html#syntax-label"><span class="std std-ref">label</span></a> associated with a control frame is either that of the stack at the start or the end of the frame, determined by the opcode that it originates from.</p>
<p>Finally, the current frame can be marked as unreachable.
In that case, all existing operand types are purged from the operand stack, in order to allow for the <a class="reference internal" href="index.html#polymorphism"><span class="std std-ref">stack-polymorphism</span></a> logic in <code class="code docutils literal notranslate"><span class="pre">pop_opd</span></code> to take effect.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Even with the unreachable flag set, consecutive operands are still pushed to and popped from the operand stack.
That is necessary to detect invalid <a class="reference internal" href="index.html#polymorphism"><span class="std std-ref">examples</span></a> like <span class="math notranslate">\((\href{#syntax-instr-control}{\mathsf{unreachable}}~(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}})~\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{add}})\)</span>.
However, a polymorphic stack cannot underflow, but instead generates <code class="code docutils literal notranslate"><span class="pre">Unknown</span></code> types as needed.</p>
</div>
</div>
<div class="section" id="validation-of-opcode-sequences">
<span id="index-2"></span><h4>Validation of Opcode Sequences</h4>
<p>The following function shows the validation of a number of representative instructions that manipulate the stack.
Other instructions are checked in a similar manner.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Various instructions not shown here will additionally require the presence of a validation <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> for checking uses of <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">indices</span></a>.
That is an easy addition and therefore omitted from this presentation.</p>
</div>
<div class="highlight-pseudo notranslate"><div class="highlight"><pre><span></span><span class="k">func</span> <span class="nf">validate</span>(opcode) =
  <span class="k">switch</span> (opcode)
    <span class="k">case</span> (i32.add)
      pop_opd(I32)
      pop_opd(I32)
      push_opd(I32)

    <span class="k">case</span> (drop)
      pop_opd()

    <span class="k">case</span> (select)
      pop_opd(I32)
      <span class="k">let</span> <span class="nf">t1</span> = pop_opd()
      <span class="k">let</span> <span class="nf">t2</span> = pop_opd(t1)
      push_opd(t2)

    <span class="k">case</span> (unreachable)
      unreachable()

    <span class="k">case</span> (block t1*-&gt;t2*)
      pop_opds([t1*])
      push_ctrl(block, [t1*], [t2*])

    <span class="k">case</span> (loop t1*-&gt;t2*)
      pop_opds([t1*])
      push_ctrl(loop, [t1*], [t2*])

    <span class="k">case</span> (if t1*-&gt;t2*)
      pop_opd(I32)
      pop_opds([t1*])
      push_ctrl(if, [t1*], [t2*])

    <span class="k">case</span> (end)
      <span class="k">let</span> <span class="nf">frame</span> = pop_ctrl()
      push_opds(frame.end_types)

    <span class="k">case</span> (else)
      <span class="k">let</span> <span class="nf">frame</span> = pop_ctrl()
      error_if(frame.opcode =/= <span class="k">if</span>)
      push_ctrl(else, frame.start_types, frame.end_types)

    <span class="k">case</span> (br n)
      error_if(ctrls.size() &lt; n)
      pop_opds(label_types(ctrls[n]))
      unreachable()

    <span class="k">case</span> (br_if n)
      error_if(ctrls.size() &lt; n)
      pop_opd(I32)
      pop_opds(label_types(ctrls[n]))
      push_opds(label_types(ctrls[n]))

    <span class="k">case</span> (br_table n* m)
      error_if(ctrls.size() &lt; m)
      <span class="k">foreach</span> (n <span class="k">in</span> n*)
        error_if(ctrls.size() &lt; n || label_types(ctrls[n]) =/= label_types(ctrls[m]))
      pop_opd(I32)
      pop_opds(label_types(ctrls[m]))
      unreachable()
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is an invariant under the current WebAssembly instruction set that an operand of <code class="code docutils literal notranslate"><span class="pre">Unknown</span></code> type is never duplicated on the stack.
This would change if the language were extended with stack operators like <code class="code docutils literal notranslate"><span class="pre">dup</span></code>.
Under such an extension, the above algorithm would need to be refined by replacing the <code class="code docutils literal notranslate"><span class="pre">Unknown</span></code> type with proper <em>type variables</em> to ensure that all uses are consistent.</p>
</div>
</div>
</div>
<span id="document-appendix/custom"></span><div class="section" id="custom-sections">
<span id="index-0"></span><h3>Custom Sections</h3>
<p>This appendix defines dedicated <a class="reference internal" href="index.html#binary-customsec"><span class="std std-ref">custom sections</span></a> for WebAssembly’s <a class="reference internal" href="index.html#binary"><span class="std std-ref">binary format</span></a>.
Such sections do not contribute to, or otherwise affect, the WebAssembly semantics, and like any custom section they may be ignored by an implementation.
However, they provide useful meta data that implementations can make use of to improve user experience or take compilation hints.</p>
<p>Currently, only one dedicated custom section is defined, the <a class="reference internal" href="#binary-namesec"><span class="std std-ref">name section</span></a>.</p>
<div class="section" id="name-section">
<span id="binary-namesec"></span><span id="index-1"></span><h4>Name Section</h4>
<p>The <em>name section</em> is a <a class="reference internal" href="index.html#binary-customsec"><span class="std std-ref">custom section</span></a> whose name string is itself <span class="math notranslate">\(\def\mathdef119#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef119{name}\)</span>.
The name section should appear only once in a module, and only after the <a class="reference internal" href="index.html#binary-datasec"><span class="std std-ref">data section</span></a>.</p>
<p>The purpose of this section is to attach printable names to definitions in a module, which e.g. can be used by a debugger or when parts of the module are to be rendered in <a class="reference internal" href="index.html#text"><span class="std std-ref">text form</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All <a class="reference internal" href="index.html#binary-name"><span class="std std-ref">names</span></a> are represented in <a class="reference external" href="http://www.unicode.org/versions/latest/">Unicode</a> encoded in UTF-8.
Names need not be unique.</p>
</div>
<div class="section" id="subsections">
<span id="binary-namesubsection"></span><h5>Subsections</h5>
<p>The <a class="reference internal" href="index.html#binary-customsec"><span class="std std-ref">data</span></a> of a name section consists of a sequence of <em>subsections</em>.
Each subsection consists of a</p>
<ul class="simple">
<li>a one-byte subsection <em>id</em>,</li>
<li>the <span class="math notranslate">\(\href{#syntax-int}{\def\mathdef66#1{{\mathit{u}#1}}\mathdef66{\mathit{32}}}\)</span> <em>size</em> of the contents, in bytes,</li>
<li>the actual <em>contents</em>, whose structure is depended on the subsection id.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\begin{array}{llcll}
\def\mathdef60#1{{}}\mathdef60{name section} &amp; \href{#binary-namesubsection}{\mathtt{namesec}} &amp;::=&amp;
  \href{#binary-section}{\mathtt{section}}_0(\href{#binary-namesubsection}{\mathtt{namedata}}) \\
\def\mathdef60#1{{}}\mathdef60{name data} &amp; \href{#binary-namesubsection}{\mathtt{namedata}} &amp;::=&amp;
  n{:}\href{#binary-name}{\mathtt{name}}~~\href{#binary-namesubsection}{\mathtt{namesubsection}}^\ast &amp; (\mathrel{\mbox{if}} n = \def\mathdef120#1{\mbox{‘}\mathtt{#1}\mbox{’}}\mathdef120{name}) \\
\def\mathdef60#1{{}}\mathdef60{name subsection} &amp; \href{#binary-namesubsection}{\mathtt{namesubsection}}_N(\mathtt{B}) &amp;::=&amp;
  N{:}\href{#binary-byte}{\mathtt{byte}}~~\mathit{size}{:}\href{#binary-int}{\def\mathdef87#1{{\mathtt{u}#1}}\mathdef87{\mathtt{32}}}~~\mathtt{B}
    &amp; (\mathrel{\mbox{if}} \mathit{size} = ||\mathtt{B}||) \\
\end{array}\end{split}\]</div>
<p>The following subsection ids are used:</p>
<table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="96%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Id</th>
<th class="head">Subsection</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td><a class="reference internal" href="#binary-modulenamesec"><span class="std std-ref">module name</span></a></td>
</tr>
<tr class="row-odd"><td>1</td>
<td><a class="reference internal" href="#binary-funcnamesec"><span class="std std-ref">function names</span></a></td>
</tr>
<tr class="row-even"><td>2</td>
<td><a class="reference internal" href="#binary-localnamesec"><span class="std std-ref">local names</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="name-maps">
<span id="binary-namemap"></span><span id="binary-indirectnamemap"></span><span id="index-2"></span><h5>Name Maps</h5>
<p>A <em>name map</em> assigns <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">names</span></a> to <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">indices</span></a> in a given <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">index space</span></a>.
It consists of a <a class="reference internal" href="index.html#binary-vec"><span class="std std-ref">vector</span></a> of index/name pairs in order of increasing index value.
Each index must be unique, but the assigned names need not be.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef60#1{{}}\mathdef60{name map} &amp; \href{#binary-namemap}{\mathtt{namemap}} &amp;::=&amp;
  \href{#binary-vec}{\mathtt{vec}}(\href{#binary-namemap}{\mathtt{nameassoc}}) \\
\def\mathdef60#1{{}}\mathdef60{name association} &amp; \href{#binary-namemap}{\mathtt{nameassoc}} &amp;::=&amp;
  \href{#binary-index}{\mathtt{idx}}~\href{#binary-name}{\mathtt{name}} \\
\end{array}\end{split}\]</div>
<p>An <em>indirect name map</em> assigns <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">names</span></a> to a two-dimensional <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">index space</span></a>, where secondary indices are <em>grouped</em> by primary indices.
It consists of a vector of primary index/name map pairs in order of increasing index value, where each name map in turn maps secondary indices to names.
Each primary index must be unique, and likewise each secondary index per individual name map.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef60#1{{}}\mathdef60{indirect name map} &amp; \href{#binary-indirectnamemap}{\mathtt{indirectnamemap}} &amp;::=&amp;
  \href{#binary-vec}{\mathtt{vec}}(\href{#binary-indirectnamemap}{\mathtt{indirectnameassoc}}) \\
\def\mathdef60#1{{}}\mathdef60{indirect name association} &amp; \href{#binary-indirectnamemap}{\mathtt{indirectnameassoc}} &amp;::=&amp;
  \href{#binary-index}{\mathtt{idx}}~\href{#binary-namemap}{\mathtt{namemap}} \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="module-names">
<span id="binary-modulenamesec"></span><span id="index-3"></span><h5>Module Names</h5>
<p>The <em>module name subsection</em> has the id 0.
It simply consists of a single <a class="reference internal" href="index.html#binary-name"><span class="std std-ref">name</span></a> that is assigned to the module itself.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef60#1{{}}\mathdef60{module name subsection} &amp; \href{#binary-modulenamesec}{\mathtt{modulenamesubsec}} &amp;::=&amp;
  \href{#binary-namesubsection}{\mathtt{namesubsection}}_0(\href{#binary-name}{\mathtt{name}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="function-names">
<span id="binary-funcnamesec"></span><span id="index-4"></span><h5>Function Names</h5>
<p>The <em>function name subsection</em> has the id 1.
It consists of a <a class="reference internal" href="#binary-namemap"><span class="std std-ref">name map</span></a> assigning function names to <a class="reference internal" href="index.html#syntax-funcidx"><span class="std std-ref">function indices</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef60#1{{}}\mathdef60{function name subsection} &amp; \href{#binary-funcnamesec}{\mathtt{funcnamesubsec}} &amp;::=&amp;
  \href{#binary-namesubsection}{\mathtt{namesubsection}}_1(\href{#binary-namemap}{\mathtt{namemap}}) \\
\end{array}\end{split}\]</div>
</div>
<div class="section" id="local-names">
<span id="binary-localnamesec"></span><span id="index-5"></span><h5>Local Names</h5>
<p>The <em>local name subsection</em> has the id 2.
It consists of an <a class="reference internal" href="#binary-indirectnamemap"><span class="std std-ref">indirect name map</span></a> assigning local names to <a class="reference internal" href="index.html#syntax-localidx"><span class="std std-ref">local indices</span></a> grouped by <a class="reference internal" href="index.html#syntax-funcidx"><span class="std std-ref">function indices</span></a>.</p>
<div class="math notranslate">
\[\begin{split}\begin{array}{llclll}
\def\mathdef60#1{{}}\mathdef60{local name subsection} &amp; \href{#binary-localnamesec}{\mathtt{localnamesubsec}} &amp;::=&amp;
  \href{#binary-namesubsection}{\mathtt{namesubsection}}_2(\href{#binary-indirectnamemap}{\mathtt{indirectnamemap}}) \\
\end{array}\end{split}\]</div>
</div>
</div>
</div>
<span id="document-appendix/properties"></span><div class="section" id="soundness">
<span id="index-0"></span><span id="id1"></span><h3>Soundness</h3>
<p>The <a class="reference internal" href="index.html#type-system"><span class="std std-ref">type system</span></a> of WebAssembly is <em>sound</em>, implying both <em>type safety</em> and <em>memory safety</em> with respect to the WebAssembly semantics. For example:</p>
<ul class="simple">
<li>All types declared and derived during validation are respected at run time;
e.g., every <a class="reference internal" href="index.html#syntax-local"><span class="std std-ref">local</span></a> or <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">global</span></a> variable will only contain type-correct values, every <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instruction</span></a> will only be applied to operands of the expected type, and every <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a> <a class="reference internal" href="index.html#exec-invocation"><span class="std std-ref">invocation</span></a> always evaluates to a result of the right type (if it does not <a class="reference internal" href="index.html#trap"><span class="std std-ref">trap</span></a> or diverge).</li>
<li>No memory location will be read or written except those explicitly defined by the program, i.e., as a <a class="reference internal" href="index.html#syntax-local"><span class="std std-ref">local</span></a>, a <a class="reference internal" href="index.html#syntax-global"><span class="std std-ref">global</span></a>, an element in a <a class="reference internal" href="index.html#syntax-table"><span class="std std-ref">table</span></a>, or a location within a linear <a class="reference internal" href="index.html#syntax-mem"><span class="std std-ref">memory</span></a>.</li>
<li>There is no undefined behavior,
i.e., the <a class="reference internal" href="index.html#exec"><span class="std std-ref">execution rules</span></a> cover all possible cases that can occur in a <a class="reference internal" href="index.html#valid"><span class="std std-ref">valid</span></a> program, and the rules are mutually consistent.</li>
</ul>
<p>Soundness also is instrumental in ensuring additional properties, most notably, <em>encapsulation</em> of function and module scopes: no <a class="reference internal" href="index.html#syntax-local"><span class="std std-ref">locals</span></a> can be accessed outside their own function and no <a class="reference internal" href="index.html#syntax-module"><span class="std std-ref">module</span></a> components can be accessed outside their own module unless they are explicitly <a class="reference internal" href="index.html#syntax-export"><span class="std std-ref">exported</span></a> or <a class="reference internal" href="index.html#syntax-import"><span class="std std-ref">imported</span></a>.</p>
<p>The typing rules defining WebAssembly <a class="reference internal" href="index.html#valid"><span class="std std-ref">validation</span></a> only cover the <em>static</em> components of a WebAssembly program.
In order to state and prove soundness precisely, the typing rules must be extended to the <em>dynamic</em> components of the abstract <a class="reference internal" href="index.html#syntax-runtime"><span class="std std-ref">runtime</span></a>, that is, the <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a>, <a class="reference internal" href="index.html#syntax-config"><span class="std std-ref">configurations</span></a>, and <a class="reference internal" href="index.html#syntax-instr-admin"><span class="std std-ref">administrative instructions</span></a>. <a class="footnote-reference" href="#cite-pldi2017" id="id2">[1]</a></p>
<div class="section" id="values-and-results">
<span id="valid-result"></span><span id="valid-val"></span><span id="index-1"></span><h4>Values and Results</h4>
<p><a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">Values</span></a> and <a class="reference internal" href="index.html#syntax-result"><span class="std std-ref">results</span></a> can be classified by <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> and <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result types</span></a> as follows.</p>
<div class="section" id="values">
<h5><a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">Values</span></a> <span class="math notranslate">\(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c\)</span></h5>
<ul class="simple">
<li>The value is valid with <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  \href{#valid-val}{\vdash} t.\href{#syntax-instr-numeric}{\mathsf{const}}~c : t
}\]</div>
</div>
<div class="section" id="results">
<h5><a class="reference internal" href="index.html#syntax-result"><span class="std std-ref">Results</span></a> <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span></h5>
<ul class="simple">
<li>For each <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">value</span></a> <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span>:<ul>
<li>The value <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_i\)</span> is <a class="reference internal" href="#valid-val"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t_i\)</span>.</li>
</ul>
</li>
<li>Let <span class="math notranslate">\(t^\ast\)</span> be the concatenation of all <span class="math notranslate">\(t_i\)</span>.</li>
<li>Then the result is valid with <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t^\ast]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  (\href{#valid-val}{\vdash} \href{#syntax-val}{\mathit{val}} : t)^\ast
}{
  \href{#valid-result}{\vdash} \href{#syntax-val}{\mathit{val}}^\ast : [t^\ast]
}\]</div>
</div>
<div class="section" id="id3">
<h5><a class="reference internal" href="index.html#syntax-result"><span class="std std-ref">Results</span></a> <span class="math notranslate">\(\href{#syntax-trap}{\mathsf{trap}}\)</span></h5>
<ul class="simple">
<li>The result is valid with <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t^\ast]\)</span>, for any sequence <span class="math notranslate">\(t^\ast\)</span> of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  \href{#valid-result}{\vdash} \href{#syntax-trap}{\mathsf{trap}} : [t^\ast]
}\]</div>
</div>
</div>
<div class="section" id="store-validity">
<span id="valid-store"></span><span id="module-context"></span><h4>Store Validity</h4>
<p>The following typing rules specify when a runtime <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a> <span class="math notranslate">\(S\)</span> is <em>valid</em>.
A valid store must consist of
<a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">function</span></a>, <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table</span></a>, <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory</span></a>, <a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">global</span></a>, and <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module</span></a> instances that are themselves valid, relative to <span class="math notranslate">\(S\)</span>.</p>
<p>To that end, each kind of instance is classified by a respective <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function</span></a>, <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table</span></a>, <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory</span></a>, or <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global</span></a> type.
Module instances are classified by <em>module contexts</em>, which are regular <a class="reference internal" href="index.html#context"><span class="std std-ref">contexts</span></a> repurposed as module types describing the <a class="reference internal" href="index.html#syntax-index"><span class="std std-ref">index spaces</span></a> defined by a module.</p>
<div class="section" id="store">
<span id="index-2"></span><h5><a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">Store</span></a> <span class="math notranslate">\(S\)</span></h5>
<ul class="simple">
<li>Each <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">function instance</span></a> <span class="math notranslate">\(\href{#syntax-funcinst}{\mathit{funcinst}}_i\)</span> in <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{funcs}}\)</span> must be <a class="reference internal" href="#valid-funcinst"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}_i\)</span>.</li>
<li>Each <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instance</span></a> <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}_i\)</span> in <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{tables}}\)</span> must be <a class="reference internal" href="#valid-tableinst"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate">\(\href{#syntax-tabletype}{\mathit{tabletype}}_i\)</span>.</li>
<li>Each <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}_i\)</span> in <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}\)</span> must be <a class="reference internal" href="#valid-meminst"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory type</span></a> <span class="math notranslate">\(\href{#syntax-memtype}{\mathit{memtype}}_i\)</span>.</li>
<li>Each <a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">global instance</span></a> <span class="math notranslate">\(\href{#syntax-globalinst}{\mathit{globalinst}}_i\)</span> in <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{globals}}\)</span> must be <a class="reference internal" href="#valid-globalinst"><span class="std std-ref">valid</span></a> with some  <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate">\(\href{#syntax-globaltype}{\mathit{globaltype}}_i\)</span>.</li>
<li>Then the store is valid.</li>
</ul>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\frac{
  \begin{array}{&#64;{}c&#64;{}}
  (S \href{#valid-funcinst}{\vdash} \href{#syntax-funcinst}{\mathit{funcinst}} : \href{#syntax-functype}{\mathit{functype}})^\ast
  \qquad
  (S \href{#valid-tableinst}{\vdash} \href{#syntax-tableinst}{\mathit{tableinst}} : \href{#syntax-tabletype}{\mathit{tabletype}})^\ast
  \\
  (S \href{#valid-meminst}{\vdash} \href{#syntax-meminst}{\mathit{meminst}} : \href{#syntax-memtype}{\mathit{memtype}})^\ast
  \qquad
  (S \href{#valid-globalinst}{\vdash} \href{#syntax-globalinst}{\mathit{globalinst}} : \href{#syntax-globaltype}{\mathit{globaltype}})^\ast
  \\
  S = \{
    \href{#syntax-store}{\mathsf{funcs}}~\href{#syntax-funcinst}{\mathit{funcinst}}^\ast,
    \href{#syntax-store}{\mathsf{tables}}~\href{#syntax-tableinst}{\mathit{tableinst}}^\ast,
    \href{#syntax-store}{\mathsf{mems}}~\href{#syntax-meminst}{\mathit{meminst}}^\ast,
    \href{#syntax-store}{\mathsf{globals}}~\href{#syntax-globalinst}{\mathit{globalinst}}^\ast \}
  \end{array}
}{
  \href{#valid-store}{\vdash} S \mathrel{\mbox{ok}}
}\end{split}\]</div>
</div>
<div class="section" id="function-instances">
<span id="valid-funcinst"></span><span id="index-3"></span><h5><a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">Function Instances</span></a> <span class="math notranslate">\(\{\href{#syntax-funcinst}{\mathsf{type}}~\href{#syntax-functype}{\mathit{functype}}, \href{#syntax-funcinst}{\mathsf{module}}~\href{#syntax-moduleinst}{\mathit{moduleinst}}, \href{#syntax-funcinst}{\mathsf{code}}~\href{#syntax-func}{\mathit{func}}\}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module instance</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span> must be <a class="reference internal" href="#valid-moduleinst"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate">\(C\)</span>.</li>
<li>Under <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate">\(C\)</span>, the <a class="reference internal" href="index.html#syntax-func"><span class="std std-ref">function</span></a> <span class="math notranslate">\(\href{#syntax-func}{\mathit{func}}\)</span> must be <a class="reference internal" href="index.html#valid-func"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}\)</span>.</li>
<li>Then the function instance is valid with <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S \href{#valid-moduleinst}{\vdash} \href{#syntax-moduleinst}{\mathit{moduleinst}} : C
  \qquad
  C \href{#valid-func}{\vdash} \href{#syntax-func}{\mathit{func}} : \href{#syntax-functype}{\mathit{functype}}
}{
  S \href{#valid-funcinst}{\vdash} \{\href{#syntax-funcinst}{\mathsf{type}}~\href{#syntax-functype}{\mathit{functype}}, \href{#syntax-funcinst}{\mathsf{module}}~\href{#syntax-moduleinst}{\mathit{moduleinst}}, \href{#syntax-funcinst}{\mathsf{code}}~\href{#syntax-func}{\mathit{func}}\} : \href{#syntax-functype}{\mathit{functype}}
}\]</div>
</div>
<div class="section" id="host-function-instances">
<span id="valid-hostfuncinst"></span><span id="index-4"></span><h5><a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">Host Function Instances</span></a> <span class="math notranslate">\(\{\href{#syntax-funcinst}{\mathsf{type}}~\href{#syntax-functype}{\mathit{functype}}, \href{#syntax-funcinst}{\mathsf{hostcode}}~\mathit{hf}\}\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span> be the <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}\)</span>.</li>
<li>For every <a class="reference internal" href="#valid-store"><span class="std std-ref">valid</span></a> <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a> <span class="math notranslate">\(S_1\)</span> <a class="reference internal" href="#extend-store"><span class="std std-ref">extending</span></a> <span class="math notranslate">\(S\)</span> and every sequence <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span> of <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">values</span></a> whose <a class="reference internal" href="#valid-val"><span class="std std-ref">types</span></a> coincide with <span class="math notranslate">\(t_1^\ast\)</span>:<ul>
<li><a class="reference internal" href="index.html#exec-invoke-host"><span class="std std-ref">Executing</span></a> <span class="math notranslate">\(\mathit{hf}\)</span> in store <span class="math notranslate">\(S_1\)</span> with arguments <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span> has a non-empty set of possible outcomes.</li>
<li>For every element <span class="math notranslate">\(R\)</span> of this set:<ul>
<li>Either <span class="math notranslate">\(R\)</span> must be <span class="math notranslate">\(\bot\)</span> (i.e., divergence).</li>
<li>Or <span class="math notranslate">\(R\)</span> consists of a <a class="reference internal" href="#valid-store"><span class="std std-ref">valid</span></a> <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a> <span class="math notranslate">\(S_2\)</span> <a class="reference internal" href="#extend-store"><span class="std std-ref">extending</span></a> <span class="math notranslate">\(S_1\)</span> and a <a class="reference internal" href="index.html#syntax-result"><span class="std std-ref">result</span></a> <span class="math notranslate">\(\href{#syntax-result}{\mathit{result}}\)</span> whose <a class="reference internal" href="#valid-result"><span class="std std-ref">type</span></a> coincides with <span class="math notranslate">\([t_2^\ast]\)</span>.</li>
</ul>
</li>
</ul>
</li>
<li>Then the function instance is valid with <a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">function type</span></a> <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\frac{
  \begin{array}[b]{&#64;{}l&#64;{}}
  \forall S_1, \href{#syntax-val}{\mathit{val}}^\ast,~
    {\href{#valid-store}{\vdash} S_1 \mathrel{\mbox{ok}}} \wedge
    {\href{#extend-store}{\vdash} S \href{#extend}{\preceq} S_1} \wedge
    {\href{#valid-result}{\vdash} \href{#syntax-val}{\mathit{val}}^\ast : [t_1^\ast]}
    \Longrightarrow {} \\ \qquad
    \mathit{hf}(S_1; \href{#syntax-val}{\mathit{val}}^\ast) \supset \emptyset \wedge {} \\ \qquad
  \forall R \in \mathit{hf}(S_1; \href{#syntax-val}{\mathit{val}}^\ast),~
    R = \bot \vee {} \\ \qquad\qquad
    \exists S_2, \href{#syntax-result}{\mathit{result}},~
    {\href{#valid-store}{\vdash} S_2 \mathrel{\mbox{ok}}} \wedge
    {\href{#extend-store}{\vdash} S_1 \href{#extend}{\preceq} S_2} \wedge
    {\href{#valid-result}{\vdash} \href{#syntax-result}{\mathit{result}} : [t_2^\ast]} \wedge
    R = (S_2; \href{#syntax-result}{\mathit{result}})
  \end{array}
}{
  S \href{#valid-funcinst}{\vdash} \{\href{#syntax-funcinst}{\mathsf{type}}~[t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast], \href{#syntax-funcinst}{\mathsf{hostcode}}~\mathit{hf}\} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This rule states that, if appropriate pre-conditions about store and arguments are satisfied, then executing the host function must satisfy appropriate post-conditions about store and results.
The post-conditions match the ones in the <a class="reference internal" href="index.html#exec-invoke-host"><span class="std std-ref">execution rule</span></a> for invoking host functions.</p>
<p class="last">Any store under which the function is invoked is assumed to be an extension of the current store.
That way, the function itself is able to make sufficient assumptions about future stores.</p>
</div>
</div>
<div class="section" id="table-instances">
<span id="valid-tableinst"></span><span id="index-5"></span><h5><a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">Table Instances</span></a> <span class="math notranslate">\(\{ \href{#syntax-tableinst}{\mathsf{elem}}~(\mathit{fa}^?)^n, \href{#syntax-tableinst}{\mathsf{max}}~m^? \}\)</span></h5>
<ul class="simple">
<li>For each optional <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> <span class="math notranslate">\(\mathit{fa}^?_i\)</span> in the table elements <span class="math notranslate">\((\mathit{fa}^?)^n\)</span>:<ul>
<li>Either <span class="math notranslate">\(\mathit{fa}^?_i\)</span> is empty.</li>
<li>Or the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{func}}~\mathit{fa}\)</span> must be <a class="reference internal" href="index.html#valid-externval-func"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{func}}~\mathit{ft}\)</span>.</li>
</ul>
</li>
<li>The <a class="reference internal" href="index.html#syntax-limits"><span class="std std-ref">limits</span></a> <span class="math notranslate">\(\{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}\)</span> must be <a class="reference internal" href="index.html#valid-limits"><span class="std std-ref">valid</span></a>.</li>
<li>Then the table instance is valid with <a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">table type</span></a> <span class="math notranslate">\(\{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}~\href{#syntax-elemtype}{\mathsf{funcref}}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  ((S \vdash \href{#syntax-externval}{\mathsf{func}}~\mathit{fa} : \href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}})^?)^n
  \qquad
  \href{#valid-limits}{\vdash} \{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\} \mathrel{\mbox{ok}}
}{
  S \href{#valid-tableinst}{\vdash} \{ \href{#syntax-tableinst}{\mathsf{elem}}~(\mathit{fa}^?)^n, \href{#syntax-tableinst}{\mathsf{max}}~m^? \} : \{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}~\href{#syntax-elemtype}{\mathsf{funcref}}
}\]</div>
</div>
<div class="section" id="memory-instances">
<span id="valid-meminst"></span><span id="index-6"></span><h5><a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">Memory Instances</span></a> <span class="math notranslate">\(\{ \href{#syntax-meminst}{\mathsf{data}}~b^n, \href{#syntax-meminst}{\mathsf{max}}~m^? \}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-limits"><span class="std std-ref">limits</span></a> <span class="math notranslate">\(\{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}\)</span> must be <a class="reference internal" href="index.html#valid-limits"><span class="std std-ref">valid</span></a>.</li>
<li>Then the memory instance is valid with <a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">memory type</span></a> <span class="math notranslate">\(\{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#valid-limits}{\vdash} \{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\} \mathrel{\mbox{ok}}
}{
  S \href{#valid-meminst}{\vdash} \{ \href{#syntax-meminst}{\mathsf{data}}~b^n, \href{#syntax-meminst}{\mathsf{max}}~m^? \} : \{\href{#syntax-limits}{\mathsf{min}}~n, \href{#syntax-limits}{\mathsf{max}}~m^?\}
}\]</div>
</div>
<div class="section" id="global-instances">
<span id="valid-globalinst"></span><span id="index-7"></span><h5><a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">Global Instances</span></a> <span class="math notranslate">\(\{ \href{#syntax-globalinst}{\mathsf{value}}~(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c), \href{#syntax-globalinst}{\mathsf{mut}}~\href{#syntax-mut}{\mathit{mut}} \}\)</span></h5>
<ul class="simple">
<li>The global instance is valid with <a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">global type</span></a> <span class="math notranslate">\(\href{#syntax-mut}{\mathit{mut}}~t\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  S \href{#valid-globalinst}{\vdash} \{ \href{#syntax-globalinst}{\mathsf{value}}~(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c), \href{#syntax-globalinst}{\mathsf{mut}}~\href{#syntax-mut}{\mathit{mut}} \} : \href{#syntax-mut}{\mathit{mut}}~t
}\]</div>
</div>
<div class="section" id="export-instances">
<span id="valid-exportinst"></span><span id="index-8"></span><h5><a class="reference internal" href="index.html#syntax-exportinst"><span class="std std-ref">Export Instances</span></a> <span class="math notranslate">\(\{ \href{#syntax-exportinst}{\mathsf{name}}~\href{#syntax-name}{\mathit{name}}, \href{#syntax-exportinst}{\mathsf{value}}~\href{#syntax-externval}{\mathit{externval}} \}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathit{externval}}\)</span> must be <a class="reference internal" href="index.html#valid-externval"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathit{externtype}}\)</span>.</li>
<li>Then the export instance is valid.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathit{externval}} : \href{#syntax-externtype}{\mathit{externtype}}
}{
  S \href{#valid-exportinst}{\vdash} \{ \href{#syntax-exportinst}{\mathsf{name}}~\href{#syntax-name}{\mathit{name}}, \href{#syntax-exportinst}{\mathsf{value}}~\href{#syntax-externval}{\mathit{externval}} \} \mathrel{\mbox{ok}}
}\]</div>
</div>
<div class="section" id="module-instances">
<span id="valid-moduleinst"></span><span id="index-9"></span><h5><a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">Module Instances</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span></h5>
<ul class="simple">
<li>For each <a class="reference internal" href="index.html#syntax-funcaddr"><span class="std std-ref">function address</span></a> <span class="math notranslate">\(\href{#syntax-funcaddr}{\mathit{funcaddr}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{funcaddrs}}\)</span>, the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{func}}~\href{#syntax-funcaddr}{\mathit{funcaddr}}_i\)</span> must be <a class="reference internal" href="index.html#valid-externval-func"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}}'_i\)</span>.</li>
<li>For each <a class="reference internal" href="index.html#syntax-tableaddr"><span class="std std-ref">table address</span></a> <span class="math notranslate">\(\href{#syntax-tableaddr}{\mathit{tableaddr}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{tableaddrs}}\)</span>, the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{table}}~\href{#syntax-tableaddr}{\mathit{tableaddr}}_i\)</span> must be <a class="reference internal" href="index.html#valid-externval-table"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{table}}~\href{#syntax-tabletype}{\mathit{tabletype}}_i\)</span>.</li>
<li>For each <a class="reference internal" href="index.html#syntax-memaddr"><span class="std std-ref">memory address</span></a> <span class="math notranslate">\(\href{#syntax-memaddr}{\mathit{memaddr}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{memaddrs}}\)</span>, the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{mem}}~\href{#syntax-memaddr}{\mathit{memaddr}}_i\)</span> must be <a class="reference internal" href="index.html#valid-externval-mem"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-memtype}{\mathit{memtype}}_i\)</span>.</li>
<li>For each <a class="reference internal" href="index.html#syntax-globaladdr"><span class="std std-ref">global address</span></a> <span class="math notranslate">\(\href{#syntax-globaladdr}{\mathit{globaladdr}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{globaladdrs}}\)</span>, the <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{global}}~\href{#syntax-globaladdr}{\mathit{globaladdr}}_i\)</span> must be <a class="reference internal" href="index.html#valid-externval-global"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}}_i\)</span>.</li>
<li>Each <a class="reference internal" href="index.html#syntax-exportinst"><span class="std std-ref">export instance</span></a> <span class="math notranslate">\(\href{#syntax-exportinst}{\mathit{exportinst}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{exports}}\)</span> must be <a class="reference internal" href="#valid-exportinst"><span class="std std-ref">valid</span></a>.</li>
<li>For each <a class="reference internal" href="index.html#syntax-exportinst"><span class="std std-ref">export instance</span></a> <span class="math notranslate">\(\href{#syntax-exportinst}{\mathit{exportinst}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{exports}}\)</span>, the <a class="reference internal" href="index.html#syntax-name"><span class="std std-ref">name</span></a> <span class="math notranslate">\(\href{#syntax-exportinst}{\mathit{exportinst}}_i.\href{#syntax-exportinst}{\mathsf{name}}\)</span> must be different from any other name occurring in <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}.\href{#syntax-moduleinst}{\mathsf{exports}}\)</span>.</li>
<li>Let <span class="math notranslate">\({\href{#syntax-functype}{\mathit{functype}}'}^\ast\)</span> be the concatenation of all <span class="math notranslate">\(\href{#syntax-functype}{\mathit{functype}}'_i\)</span> in order.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-tabletype}{\mathit{tabletype}}^\ast\)</span> be the concatenation of all <span class="math notranslate">\(\href{#syntax-tabletype}{\mathit{tabletype}}_i\)</span> in order.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-memtype}{\mathit{memtype}}^\ast\)</span> be the concatenation of all <span class="math notranslate">\(\href{#syntax-memtype}{\mathit{memtype}}_i\)</span> in order.</li>
<li>Let <span class="math notranslate">\(\href{#syntax-globaltype}{\mathit{globaltype}}^\ast\)</span> be the concatenation of all <span class="math notranslate">\(\href{#syntax-globaltype}{\mathit{globaltype}}_i\)</span> in order.</li>
<li>Then the module instance is valid with <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate">\(\{\href{#context}{\mathsf{types}}~\href{#syntax-functype}{\mathit{functype}}^\ast, \href{#context}{\mathsf{funcs}}~{\href{#syntax-functype}{\mathit{functype}}'}^\ast, \href{#context}{\mathsf{tables}}~\href{#syntax-tabletype}{\mathit{tabletype}}^\ast, \href{#context}{\mathsf{mems}}~\href{#syntax-memtype}{\mathit{memtype}}^\ast, \href{#context}{\mathsf{globals}}~\href{#syntax-globaltype}{\mathit{globaltype}}^\ast\}\)</span>.</li>
</ul>
<div class="math notranslate">
\[\begin{split}~\\[-1ex]
\frac{
  \begin{array}{&#64;{}c&#64;{}}
  (S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{func}}~\href{#syntax-funcaddr}{\mathit{funcaddr}} : \href{#syntax-externtype}{\mathsf{func}}~\href{#syntax-functype}{\mathit{functype}}')^\ast
  \qquad
  (S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{table}}~\href{#syntax-tableaddr}{\mathit{tableaddr}} : \href{#syntax-externtype}{\mathsf{table}}~\href{#syntax-tabletype}{\mathit{tabletype}})^\ast
  \\
  (S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{mem}}~\href{#syntax-memaddr}{\mathit{memaddr}} : \href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-memtype}{\mathit{memtype}})^\ast
  \qquad
  (S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{global}}~\href{#syntax-globaladdr}{\mathit{globaladdr}} : \href{#syntax-externtype}{\mathsf{global}}~\href{#syntax-globaltype}{\mathit{globaltype}})^\ast
  \\
  (S \href{#valid-exportinst}{\vdash} \href{#syntax-exportinst}{\mathit{exportinst}} \mathrel{\mbox{ok}})^\ast
  \qquad
  (\href{#syntax-exportinst}{\mathit{exportinst}}.\href{#syntax-exportinst}{\mathsf{name}})^\ast ~\mbox{disjoint}
  \end{array}
}{
  S \href{#valid-moduleinst}{\vdash} \{
    \begin{array}[t]{&#64;{}l&#64;{~}l&#64;{}}
    \href{#syntax-moduleinst}{\mathsf{types}} &amp; \href{#syntax-functype}{\mathit{functype}}^\ast, \\
    \href{#syntax-moduleinst}{\mathsf{funcaddrs}} &amp; \href{#syntax-funcaddr}{\mathit{funcaddr}}^\ast, \\
    \href{#syntax-moduleinst}{\mathsf{tableaddrs}} &amp; \href{#syntax-tableaddr}{\mathit{tableaddr}}^\ast, \\
    \href{#syntax-moduleinst}{\mathsf{memaddrs}} &amp; \href{#syntax-memaddr}{\mathit{memaddr}}^\ast, \\
    \href{#syntax-moduleinst}{\mathsf{globaladdrs}} &amp; \href{#syntax-globaladdr}{\mathit{globaladdr}}^\ast \\
    \href{#syntax-moduleinst}{\mathsf{exports}} &amp; \href{#syntax-exportinst}{\mathit{exportinst}}^\ast ~\} : \{
      \begin{array}[t]{&#64;{}l&#64;{~}l&#64;{}}
      \href{#context}{\mathsf{types}} &amp; \href{#syntax-functype}{\mathit{functype}}^\ast, \\
      \href{#context}{\mathsf{funcs}} &amp; {\href{#syntax-functype}{\mathit{functype}}'}^\ast, \\
      \href{#context}{\mathsf{tables}} &amp; \href{#syntax-tabletype}{\mathit{tabletype}}^\ast, \\
      \href{#context}{\mathsf{mems}} &amp; \href{#syntax-memtype}{\mathit{memtype}}^\ast, \\
      \href{#context}{\mathsf{globals}} &amp; \href{#syntax-globaltype}{\mathit{globaltype}}^\ast ~\}
      \end{array}
    \end{array}
}\end{split}\]</div>
</div>
</div>
<div class="section" id="configuration-validity">
<span id="valid-config"></span><span id="frame-context"></span><span id="index-10"></span><h4>Configuration Validity</h4>
<p>To relate the WebAssembly <a class="reference internal" href="index.html#valid"><span class="std std-ref">type system</span></a> to its <a class="reference internal" href="index.html#exec"><span class="std std-ref">execution semantics</span></a>, the <a class="reference internal" href="index.html#valid-instr"><span class="std std-ref">typing rules for instructions</span></a> must be extended to <a class="reference internal" href="index.html#syntax-config"><span class="std std-ref">configurations</span></a> <span class="math notranslate">\(S;T\)</span>,
which relates the <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a> to execution <a class="reference internal" href="index.html#syntax-thread"><span class="std std-ref">threads</span></a>.</p>
<p>Configurations and threads are classified by their <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a>.
In addition to the store <span class="math notranslate">\(S\)</span>, threads are typed under a <em>return type</em> <span class="math notranslate">\(\href{#syntax-resulttype}{\mathit{resulttype}}^?\)</span>, which controls whether and with which type a <span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{return}}\)</span> instruction is allowed.
This type is absent (<span class="math notranslate">\(\epsilon\)</span>) except for instruction sequences inside an administrative <span class="math notranslate">\(\href{#syntax-frame}{\mathsf{frame}}\)</span> instruction.</p>
<p>Finally, <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frames</span></a> are classified with <em>frame contexts</em>, which extend the <a class="reference internal" href="#module-context"><span class="std std-ref">module contexts</span></a> of a frame’s associated <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module instance</span></a> with the <a class="reference internal" href="index.html#syntax-local"><span class="std std-ref">locals</span></a> that the frame contains.</p>
<div class="section" id="configurations">
<span id="index-11"></span><h5><a class="reference internal" href="index.html#syntax-config"><span class="std std-ref">Configurations</span></a> <span class="math notranslate">\(S;T\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a> <span class="math notranslate">\(S\)</span> must be <a class="reference internal" href="#valid-store"><span class="std std-ref">valid</span></a>.</li>
<li>Under no allowed return type,
the <a class="reference internal" href="index.html#syntax-thread"><span class="std std-ref">thread</span></a> <span class="math notranslate">\(T\)</span> must be <a class="reference internal" href="#valid-thread"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t^?]\)</span>.</li>
<li>Then the configuration is valid with the <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t^?]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#valid-store}{\vdash} S \mathrel{\mbox{ok}}
  \qquad
  S; \epsilon \href{#valid-thread}{\vdash} T : [t^?]
}{
  \href{#valid-config}{\vdash} S; T : [t^?]
}\]</div>
</div>
<div class="section" id="threads">
<span id="valid-thread"></span><span id="index-12"></span><h5><a class="reference internal" href="index.html#syntax-thread"><span class="std std-ref">Threads</span></a> <span class="math notranslate">\(F;\href{#syntax-instr}{\mathit{instr}}^\ast\)</span></h5>
<ul class="simple">
<li>Let <span class="math notranslate">\(\href{#syntax-resulttype}{\mathit{resulttype}}^?\)</span> be the current allowed return type.</li>
<li>The <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">frame</span></a> <span class="math notranslate">\(F\)</span> must be <a class="reference internal" href="#valid-frame"><span class="std std-ref">valid</span></a> with a <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate">\(C\)</span>.</li>
<li>Let <span class="math notranslate">\(C'\)</span> be the same <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> as <span class="math notranslate">\(C\)</span>, but with <span class="math notranslate">\(\href{#context}{\mathsf{return}}\)</span> set to <span class="math notranslate">\(\href{#syntax-resulttype}{\mathit{resulttype}}^?\)</span>.</li>
<li>Under context <span class="math notranslate">\(C'\)</span>,
the instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> must be <a class="reference internal" href="index.html#valid-instr-seq"><span class="std std-ref">valid</span></a> with some type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [t^?]\)</span>.</li>
<li>Then the thread is valid with the <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t^?]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S \href{#valid-frame}{\vdash} F : C
  \qquad
  S; C,\href{#context}{\mathsf{return}}~\href{#syntax-resulttype}{\mathit{resulttype}}^? \href{#valid-instr-seq}{\vdash} \href{#syntax-instr}{\mathit{instr}}^\ast : [] \href{#syntax-functype}{\rightarrow} [t^?]
}{
  S; \href{#syntax-resulttype}{\mathit{resulttype}}^? \href{#valid-thread}{\vdash} F; \href{#syntax-instr}{\mathit{instr}}^\ast : [t^?]
}\]</div>
</div>
<div class="section" id="frames">
<span id="valid-frame"></span><span id="index-13"></span><h5><a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">Frames</span></a> <span class="math notranslate">\(\{\href{#syntax-frame}{\mathsf{locals}}~\href{#syntax-val}{\mathit{val}}^\ast, \href{#syntax-frame}{\mathsf{module}}~\href{#syntax-moduleinst}{\mathit{moduleinst}}\}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module instance</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span> must be <a class="reference internal" href="#valid-moduleinst"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="#module-context"><span class="std std-ref">module context</span></a> <span class="math notranslate">\(C\)</span>.</li>
<li>Each <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">value</span></a> <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}_i\)</span> in <span class="math notranslate">\(\href{#syntax-val}{\mathit{val}}^\ast\)</span> must be <a class="reference internal" href="#valid-val"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> <span class="math notranslate">\(t_i\)</span>.</li>
<li>Let <span class="math notranslate">\(t^\ast\)</span> the concatenation of all <span class="math notranslate">\(t_i\)</span> in order.</li>
<li>Let <span class="math notranslate">\(C'\)</span> be the same <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> as <span class="math notranslate">\(C\)</span>, but with the <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(t^\ast\)</span> prepended to the <span class="math notranslate">\(\href{#context}{\mathsf{locals}}\)</span> vector.</li>
<li>Then the frame is valid with <a class="reference internal" href="#frame-context"><span class="std std-ref">frame context</span></a> <span class="math notranslate">\(C'\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S \href{#valid-moduleinst}{\vdash} \href{#syntax-moduleinst}{\mathit{moduleinst}} : C
  \qquad
  (\href{#valid-val}{\vdash} \href{#syntax-val}{\mathit{val}} : t)^\ast
}{
  S \href{#valid-frame}{\vdash} \{\href{#syntax-frame}{\mathsf{locals}}~\href{#syntax-val}{\mathit{val}}^\ast, \href{#syntax-frame}{\mathsf{module}}~\href{#syntax-moduleinst}{\mathit{moduleinst}}\} : (C, \href{#context}{\mathsf{locals}}~t^\ast)
}\]</div>
</div>
</div>
<div class="section" id="administrative-instructions">
<span id="valid-instr-admin"></span><span id="index-14"></span><h4>Administrative Instructions</h4>
<p>Typing rules for <a class="reference internal" href="index.html#syntax-instr-admin"><span class="std std-ref">administrative instructions</span></a> are specified as follows.
In addition to the <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate">\(C\)</span>, typing of these instructions is defined under a given <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a> <span class="math notranslate">\(S\)</span>.
To that end, all previous typing judgements <span class="math notranslate">\(C \vdash \mathit{prop}\)</span> are generalized to include the store, as in <span class="math notranslate">\(S; C \vdash \mathit{prop}\)</span>, by implicitly adding <span class="math notranslate">\(S\)</span> to all rules – <span class="math notranslate">\(S\)</span> is never modified by the pre-existing rules, but it is accessed in the extra rules for <a class="reference internal" href="#valid-instr-admin"><span class="std std-ref">administrative instructions</span></a> given below.</p>
<div class="section" id="index-15">
<span id="id4"></span><h5><span class="math notranslate">\(\href{#syntax-trap}{\mathsf{trap}}\)</span></h5>
<ul class="simple">
<li>The instruction is valid with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>, for any sequences of <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value types</span></a> <span class="math notranslate">\(t_1^\ast\)</span> and <span class="math notranslate">\(t_2^\ast\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  S; C \href{#valid-instr-admin}{\vdash} \href{#syntax-trap}{\mathsf{trap}} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
</div>
<div class="section" id="index-16">
<span id="id5"></span><h5><span class="math notranslate">\(\href{#syntax-invoke}{\mathsf{invoke}}~\href{#syntax-funcaddr}{\mathit{funcaddr}}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external function value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{func}}~\href{#syntax-funcaddr}{\mathit{funcaddr}}\)</span> must be <a class="reference internal" href="index.html#valid-externval-func"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external function type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{func}} ([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast])\)</span>.</li>
<li>Then the instruction is valid with type <span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{func}}~\href{#syntax-funcaddr}{\mathit{funcaddr}} : \href{#syntax-externtype}{\mathsf{func}}~[t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}{
  S; C \href{#valid-instr-admin}{\vdash} \href{#syntax-invoke}{\mathsf{invoke}}~\href{#syntax-funcaddr}{\mathit{funcaddr}} : [t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]
}\]</div>
</div>
<div class="section" id="index-17">
<span id="id6"></span><h5><span class="math notranslate">\(\href{#syntax-init-elem}{\mathsf{init\_elem}}~\href{#syntax-tableaddr}{\mathit{tableaddr}}~o~x^n\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external table value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{table}}~\href{#syntax-tableaddr}{\mathit{tableaddr}}\)</span> must be <a class="reference internal" href="index.html#valid-externval-table"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external table type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{table}}~\href{#syntax-limits}{\mathit{limits}}~\href{#syntax-elemtype}{\mathsf{funcref}}\)</span>.</li>
<li>The index <span class="math notranslate">\(o + n\)</span> must be smaller than or equal to <span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}.\href{#syntax-limits}{\mathsf{min}}\)</span>.</li>
<li>The <a class="reference internal" href="index.html#syntax-moduleinst"><span class="std std-ref">module instance</span></a> <span class="math notranslate">\(\href{#syntax-moduleinst}{\mathit{moduleinst}}\)</span> must be <a class="reference internal" href="#valid-moduleinst"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> <span class="math notranslate">\(C\)</span>.</li>
<li>Each <a class="reference internal" href="index.html#syntax-funcidx"><span class="std std-ref">function index</span></a> <span class="math notranslate">\(x_i\)</span> in <span class="math notranslate">\(x^n\)</span> must be defined in the context <span class="math notranslate">\(C\)</span>.</li>
<li>Then the instruction is valid.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{table}}~\href{#syntax-tableaddr}{\mathit{tableaddr}} : \href{#syntax-externtype}{\mathsf{table}}~\href{#syntax-limits}{\mathit{limits}}~\href{#syntax-elemtype}{\mathsf{funcref}}
  \qquad
  o + n \leq \href{#syntax-limits}{\mathit{limits}}.\href{#syntax-limits}{\mathsf{min}}
  \qquad
  (C.\href{#context}{\mathsf{funcs}}[x] = \href{#syntax-functype}{\mathit{functype}})^n
}{
  S; C \href{#valid-instr-admin}{\vdash} \href{#syntax-init-elem}{\mathsf{init\_elem}}~\href{#syntax-tableaddr}{\mathit{tableaddr}}~o~x^n \mathrel{\mbox{ok}}
}\]</div>
</div>
<div class="section" id="index-18">
<span id="id7"></span><h5><span class="math notranslate">\(\href{#syntax-init-data}{\mathsf{init\_data}}~\href{#syntax-memaddr}{\mathit{memaddr}}~o~b^n\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-externval"><span class="std std-ref">external memory value</span></a> <span class="math notranslate">\(\href{#syntax-externval}{\mathsf{mem}}~\href{#syntax-memaddr}{\mathit{memaddr}}\)</span> must be <a class="reference internal" href="index.html#valid-externval-mem"><span class="std std-ref">valid</span></a> with some <a class="reference internal" href="index.html#syntax-externtype"><span class="std std-ref">external memory type</span></a> <span class="math notranslate">\(\href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-limits}{\mathit{limits}}\)</span>.</li>
<li>The index <span class="math notranslate">\(o + n\)</span> must be smaller than or equal to <span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}.\href{#syntax-limits}{\mathsf{min}}\)</span> divided by the <a class="reference internal" href="index.html#page-size"><span class="std std-ref">page size</span></a> <span class="math notranslate">\(64\,\mathrm{Ki}\)</span>.</li>
<li>Then the instruction is valid.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathsf{mem}}~\href{#syntax-memaddr}{\mathit{memaddr}} : \href{#syntax-externtype}{\mathsf{mem}}~\href{#syntax-limits}{\mathit{limits}}
  \qquad
  o + n \leq \href{#syntax-limits}{\mathit{limits}}.\href{#syntax-limits}{\mathsf{min}} \cdot 64\,\mathrm{Ki}
}{
  S; C \href{#valid-instr-admin}{\vdash} \href{#syntax-init-data}{\mathsf{init\_data}}~\href{#syntax-memaddr}{\mathit{memaddr}}~o~b^n \mathrel{\mbox{ok}}
}\]</div>
</div>
<div class="section" id="index-19">
<span id="id8"></span><h5><span class="math notranslate">\(\href{#syntax-label}{\mathsf{label}}_n\{\href{#syntax-instr}{\mathit{instr}}_0^\ast\}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}\)</span></h5>
<ul class="simple">
<li>The instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}_0^\ast\)</span> must be <a class="reference internal" href="index.html#valid-instr-seq"><span class="std std-ref">valid</span></a> with some type <span class="math notranslate">\([t_1^n] \href{#syntax-functype}{\rightarrow} [t_2^?]\)</span>.</li>
<li>Let <span class="math notranslate">\(C'\)</span> be the same <a class="reference internal" href="index.html#context"><span class="std std-ref">context</span></a> as <span class="math notranslate">\(C\)</span>, but with the <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t_1^n]\)</span> prepended to the <span class="math notranslate">\(\href{#context}{\mathsf{labels}}\)</span> vector.</li>
<li>Under context <span class="math notranslate">\(C'\)</span>,
the instruction sequence <span class="math notranslate">\(\href{#syntax-instr}{\mathit{instr}}^\ast\)</span> must be <a class="reference internal" href="index.html#valid-instr-seq"><span class="std std-ref">valid</span></a> with type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [t_2^?]\)</span>.</li>
<li>Then the compound instruction is valid with type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [t_2^?]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S; C \href{#valid-instr-seq}{\vdash} \href{#syntax-instr}{\mathit{instr}}_0^\ast : [t_1^n] \href{#syntax-functype}{\rightarrow} [t_2^?]
  \qquad
  S; C,\href{#context}{\mathsf{labels}}\,[t_1^n] \href{#valid-instr-seq}{\vdash} \href{#syntax-instr}{\mathit{instr}}^\ast : [] \href{#syntax-functype}{\rightarrow} [t_2^?]
}{
  S; C \href{#valid-instr-admin}{\vdash} \href{#syntax-label}{\mathsf{label}}_n\{\href{#syntax-instr}{\mathit{instr}}_0^\ast\}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} : [] \href{#syntax-functype}{\rightarrow} [t_2^?]
}\]</div>
</div>
<div class="section" id="index-20">
<span id="id9"></span><h5><span class="math notranslate">\(\href{#syntax-frame}{\mathsf{frame}}_n\{F\}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}}\)</span></h5>
<ul class="simple">
<li>Under the return type <span class="math notranslate">\([t^n]\)</span>,
the <a class="reference internal" href="index.html#syntax-frame"><span class="std std-ref">thread</span></a> <span class="math notranslate">\(F; \href{#syntax-instr}{\mathit{instr}}^\ast\)</span> must be <a class="reference internal" href="#valid-frame"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t^n]\)</span>.</li>
<li>Then the compound instruction is valid with type <span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [t^n]\)</span>.</li>
</ul>
<div class="math notranslate">
\[\frac{
  S; [t^n] \href{#valid-instr-seq}{\vdash} F; \href{#syntax-instr}{\mathit{instr}}^\ast : [t^n]
}{
  S; C \href{#valid-instr-admin}{\vdash} \href{#syntax-frame}{\mathsf{frame}}_n\{F\}~\href{#syntax-instr}{\mathit{instr}}^\ast~\href{#syntax-instr-control}{\mathsf{end}} : [] \href{#syntax-functype}{\rightarrow} [t^n]
}\]</div>
</div>
</div>
<div class="section" id="store-extension">
<span id="extend"></span><span id="index-21"></span><h4>Store Extension</h4>
<p>Programs can mutate the <a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">store</span></a> and its contained instances.
Any such modification must respect certain invariants, such as not removing allocated instances or changing immutable definitions.
While these invariants are inherent to the execution semantics of WebAssembly <a class="reference internal" href="index.html#exec-instr"><span class="std std-ref">instructions</span></a> and <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">modules</span></a>,
<a class="reference internal" href="index.html#syntax-hostfunc"><span class="std std-ref">host functions</span></a> do not automatically adhere to them. Consequently, the required invariants must be stated as explicit constraints on the <a class="reference internal" href="index.html#exec-invoke-host"><span class="std std-ref">invocation</span></a> of host functions.
Soundness only holds when the <a class="reference internal" href="index.html#embedder"><span class="std std-ref">embedder</span></a> ensures these constraints.</p>
<p>The necessary constraints are codified by the notion of store <em>extension</em>:
a store state <span class="math notranslate">\(S'\)</span> extends state <span class="math notranslate">\(S\)</span>, written <span class="math notranslate">\(S \href{#extend}{\preceq} S'\)</span>, when the following rules hold.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Extension does not imply that the new store is valid, which is defined separately <a class="reference internal" href="#valid-store"><span class="std std-ref">above</span></a>.</p>
</div>
<div class="section" id="extend-store">
<span id="index-22"></span><span id="id10"></span><h5><a class="reference internal" href="index.html#syntax-store"><span class="std std-ref">Store</span></a> <span class="math notranslate">\(S\)</span></h5>
<ul class="simple">
<li>The length of <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{funcs}}\)</span> must not shrink.</li>
<li>The length of <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{tables}}\)</span> must not shrink.</li>
<li>The length of <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}\)</span> must not shrink.</li>
<li>The length of <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{globals}}\)</span> must not shrink.</li>
<li>For each <a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">function instance</span></a> <span class="math notranslate">\(\href{#syntax-funcinst}{\mathit{funcinst}}_i\)</span> in the original <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{funcs}}\)</span>, the new function instance must be an <a class="reference internal" href="#extend-funcinst"><span class="std std-ref">extension</span></a> of the old.</li>
<li>For each <a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">table instance</span></a> <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}_i\)</span> in the original <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{tables}}\)</span>, the new table instance must be an <a class="reference internal" href="#extend-tableinst"><span class="std std-ref">extension</span></a> of the old.</li>
<li>For each <a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">memory instance</span></a> <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}_i\)</span> in the original <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{mems}}\)</span>, the new memory instance must be an <a class="reference internal" href="#extend-meminst"><span class="std std-ref">extension</span></a> of the old.</li>
<li>For each <a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">global instance</span></a> <span class="math notranslate">\(\href{#syntax-globalinst}{\mathit{globalinst}}_i\)</span> in the original <span class="math notranslate">\(S.\href{#syntax-store}{\mathsf{globals}}\)</span>, the new global instance must be an <a class="reference internal" href="#extend-globalinst"><span class="std std-ref">extension</span></a> of the old.</li>
</ul>
<div class="math notranslate">
\[\begin{split}\frac{
  \begin{array}{&#64;{}ccc&#64;{}}
  S_1.\href{#syntax-store}{\mathsf{funcs}} = \href{#syntax-funcinst}{\mathit{funcinst}}_1^\ast &amp;
  S_2.\href{#syntax-store}{\mathsf{funcs}} = {\href{#syntax-funcinst}{\mathit{funcinst}}'_1}^\ast~\href{#syntax-funcinst}{\mathit{funcinst}}_2^\ast &amp;
  (\href{#syntax-funcinst}{\mathit{funcinst}}_1 \href{#extend}{\preceq} \href{#syntax-funcinst}{\mathit{funcinst}}'_1)^\ast \\
  S_1.\href{#syntax-store}{\mathsf{tables}} = \href{#syntax-tableinst}{\mathit{tableinst}}_1^\ast &amp;
  S_2.\href{#syntax-store}{\mathsf{tables}} = {\href{#syntax-tableinst}{\mathit{tableinst}}'_1}^\ast~\href{#syntax-tableinst}{\mathit{tableinst}}_2^\ast &amp;
  (\href{#syntax-tableinst}{\mathit{tableinst}}_1 \href{#extend}{\preceq} \href{#syntax-tableinst}{\mathit{tableinst}}'_1)^\ast \\
  S_1.\href{#syntax-store}{\mathsf{mems}} = \href{#syntax-meminst}{\mathit{meminst}}_1^\ast &amp;
  S_2.\href{#syntax-store}{\mathsf{mems}} = {\href{#syntax-meminst}{\mathit{meminst}}'_1}^\ast~\href{#syntax-meminst}{\mathit{meminst}}_2^\ast &amp;
  (\href{#syntax-meminst}{\mathit{meminst}}_1 \href{#extend}{\preceq} \href{#syntax-meminst}{\mathit{meminst}}'_1)^\ast \\
  S_1.\href{#syntax-store}{\mathsf{globals}} = \href{#syntax-globalinst}{\mathit{globalinst}}_1^\ast &amp;
  S_2.\href{#syntax-store}{\mathsf{globals}} = {\href{#syntax-globalinst}{\mathit{globalinst}}'_1}^\ast~\href{#syntax-globalinst}{\mathit{globalinst}}_2^\ast &amp;
  (\href{#syntax-globalinst}{\mathit{globalinst}}_1 \href{#extend}{\preceq} \href{#syntax-globalinst}{\mathit{globalinst}}'_1)^\ast \\
  \end{array}
}{
  \href{#extend-store}{\vdash} S_1 \href{#extend}{\preceq} S_2
}\end{split}\]</div>
</div>
<div class="section" id="function-instance">
<span id="extend-funcinst"></span><span id="index-23"></span><h5><a class="reference internal" href="index.html#syntax-funcinst"><span class="std std-ref">Function Instance</span></a> <span class="math notranslate">\(\href{#syntax-funcinst}{\mathit{funcinst}}\)</span></h5>
<ul class="simple">
<li>A function instance must remain unchanged.</li>
</ul>
<div class="math notranslate">
\[\frac{
}{
  \href{#extend-funcinst}{\vdash} \href{#syntax-funcinst}{\mathit{funcinst}} \href{#extend}{\preceq} \href{#syntax-funcinst}{\mathit{funcinst}}
}\]</div>
</div>
<div class="section" id="table-instance">
<span id="extend-tableinst"></span><span id="index-24"></span><h5><a class="reference internal" href="index.html#syntax-tableinst"><span class="std std-ref">Table Instance</span></a> <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}\)</span></h5>
<ul class="simple">
<li>The length of <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}.\href{#syntax-tableinst}{\mathsf{elem}}\)</span> must not shrink.</li>
<li>The value of <span class="math notranslate">\(\href{#syntax-tableinst}{\mathit{tableinst}}.\href{#syntax-tableinst}{\mathsf{max}}\)</span> must remain unchanged.</li>
</ul>
<div class="math notranslate">
\[\frac{
  n_1 \leq n_2
}{
  \href{#extend-tableinst}{\vdash} \{\href{#syntax-tableinst}{\mathsf{elem}}~(\mathit{fa}_1^?)^{n_1}, \href{#syntax-tableinst}{\mathsf{max}}~m\} \href{#extend}{\preceq} \{\href{#syntax-tableinst}{\mathsf{elem}}~(\mathit{fa}_2^?)^{n_2}, \href{#syntax-tableinst}{\mathsf{max}}~m\}
}\]</div>
</div>
<div class="section" id="memory-instance">
<span id="extend-meminst"></span><span id="index-25"></span><h5><a class="reference internal" href="index.html#syntax-meminst"><span class="std std-ref">Memory Instance</span></a> <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}\)</span></h5>
<ul class="simple">
<li>The length of <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}.\href{#syntax-meminst}{\mathsf{data}}\)</span> must not shrink.</li>
<li>The value of <span class="math notranslate">\(\href{#syntax-meminst}{\mathit{meminst}}.\href{#syntax-meminst}{\mathsf{max}}\)</span> must remain unchanged.</li>
</ul>
<div class="math notranslate">
\[\frac{
  n_1 \leq n_2
}{
  \href{#extend-meminst}{\vdash} \{\href{#syntax-meminst}{\mathsf{data}}~b_1^{n_1}, \href{#syntax-meminst}{\mathsf{max}}~m\} \href{#extend}{\preceq} \{\href{#syntax-meminst}{\mathsf{data}}~b_2^{n_2}, \href{#syntax-meminst}{\mathsf{max}}~m\}
}\]</div>
</div>
<div class="section" id="global-instance">
<span id="extend-globalinst"></span><span id="index-26"></span><h5><a class="reference internal" href="index.html#syntax-globalinst"><span class="std std-ref">Global Instance</span></a> <span class="math notranslate">\(\href{#syntax-globalinst}{\mathit{globalinst}}\)</span></h5>
<ul class="simple">
<li>The <a class="reference internal" href="index.html#syntax-mut"><span class="std std-ref">mutability</span></a> <span class="math notranslate">\(\href{#syntax-globalinst}{\mathit{globalinst}}.\href{#syntax-globalinst}{\mathsf{mut}}\)</span> must remain unchanged.</li>
<li>The <a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">value type</span></a> of the <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">value</span></a> <span class="math notranslate">\(\href{#syntax-globalinst}{\mathit{globalinst}}.\href{#syntax-globalinst}{\mathsf{value}}\)</span> must remain unchanged.</li>
<li>If <span class="math notranslate">\(\href{#syntax-globalinst}{\mathit{globalinst}}.\href{#syntax-globalinst}{\mathsf{mut}}\)</span> is <span class="math notranslate">\(\href{#syntax-mut}{\mathsf{const}}\)</span>, then the <a class="reference internal" href="index.html#syntax-val"><span class="std std-ref">value</span></a> <span class="math notranslate">\(\href{#syntax-globalinst}{\mathit{globalinst}}.\href{#syntax-globalinst}{\mathsf{value}}\)</span> must remain unchanged.</li>
</ul>
<div class="math notranslate">
\[\frac{
  \href{#syntax-mut}{\mathit{mut}} = \href{#syntax-mut}{\mathsf{var}} \vee c_1 = c_2
}{
  \href{#extend-globalinst}{\vdash} \{\href{#syntax-globalinst}{\mathsf{value}}~(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c_1), \href{#syntax-globalinst}{\mathsf{mut}}~\href{#syntax-mut}{\mathit{mut}}\} \href{#extend}{\preceq} \{\href{#syntax-globalinst}{\mathsf{value}}~(t.\href{#syntax-instr-numeric}{\mathsf{const}}~c_2), \href{#syntax-globalinst}{\mathsf{mut}}~\href{#syntax-mut}{\mathit{mut}}\}
}\]</div>
</div>
</div>
<div class="section" id="theorems">
<span id="soundness-statement"></span><span id="index-27"></span><h4>Theorems</h4>
<p>Given the definition of <a class="reference internal" href="#valid-config"><span class="std std-ref">valid configurations</span></a>,
the standard soundness theorems hold. <a class="footnote-reference" href="#cite-cpp2018" id="id11">[2]</a></p>
<p><strong>Theorem (Preservation).</strong>
If a <a class="reference internal" href="index.html#syntax-config"><span class="std std-ref">configuration</span></a> <span class="math notranslate">\(S;T\)</span> is <a class="reference internal" href="#valid-config"><span class="std std-ref">valid</span></a> with <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t^\ast]\)</span> (i.e., <span class="math notranslate">\(\href{#valid-config}{\vdash} S;T : [t^\ast]\)</span>),
and steps to <span class="math notranslate">\(S';T'\)</span> (i.e., <span class="math notranslate">\(S;T \href{#formal-notation}{\hookrightarrow} S';T'\)</span>),
then <span class="math notranslate">\(S';T'\)</span> is a valid configuration with the same result type (i.e., <span class="math notranslate">\(\href{#valid-config}{\vdash} S';T' : [t^\ast]\)</span>).
Furthermore, <span class="math notranslate">\(S'\)</span> is an <a class="reference internal" href="#extend-store"><span class="std std-ref">extension</span></a> of <span class="math notranslate">\(S\)</span> (i.e., <span class="math notranslate">\(\href{#extend-store}{\vdash} S \href{#extend}{\preceq} S'\)</span>).</p>
<p>A <em>terminal</em> <a class="reference internal" href="index.html#syntax-thread"><span class="std std-ref">thread</span></a> is one whose sequence of <a class="reference internal" href="index.html#syntax-instr"><span class="std std-ref">instructions</span></a> is a <a class="reference internal" href="index.html#syntax-result"><span class="std std-ref">result</span></a>.
A terminal configuration is a configuration whose thread is terminal.</p>
<p><strong>Theorem (Progress).</strong>
If a <a class="reference internal" href="index.html#syntax-config"><span class="std std-ref">configuration</span></a> <span class="math notranslate">\(S;T\)</span> is <a class="reference internal" href="#valid-config"><span class="std std-ref">valid</span></a> (i.e., <span class="math notranslate">\(\href{#valid-config}{\vdash} S;T : [t^\ast]\)</span> for some <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t^\ast]\)</span>),
then either it is terminal,
or it can step to some configuration <span class="math notranslate">\(S';T'\)</span> (i.e., <span class="math notranslate">\(S;T \href{#formal-notation}{\hookrightarrow} S';T'\)</span>).</p>
<p>From Preservation and Progress the soundness of the WebAssembly type system follows directly.</p>
<p><strong>Corollary (Soundness).</strong>
If a <a class="reference internal" href="index.html#syntax-config"><span class="std std-ref">configuration</span></a> <span class="math notranslate">\(S;T\)</span> is <a class="reference internal" href="#valid-config"><span class="std std-ref">valid</span></a> (i.e., <span class="math notranslate">\(\href{#valid-config}{\vdash} S;T : [t^\ast]\)</span> for some <a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">result type</span></a> <span class="math notranslate">\([t^\ast]\)</span>),
then it either diverges or takes a finite number of steps to reach a terminal configuration <span class="math notranslate">\(S';T'\)</span> (i.e., <span class="math notranslate">\(S;T \href{#formal-notation}{\hookrightarrow}^\ast S';T'\)</span>) that is valid with the same result type (i.e., <span class="math notranslate">\(\href{#valid-config}{\vdash} S';T' : [t^\ast]\)</span>)
and where <span class="math notranslate">\(S'\)</span> is an <a class="reference internal" href="#extend-store"><span class="std std-ref">extension</span></a> of <span class="math notranslate">\(S\)</span> (i.e., <span class="math notranslate">\(\href{#extend-store}{\vdash} S \href{#extend}{\preceq} S'\)</span>).</p>
<p>In other words, every thread in a valid configuration either runs forever, traps, or terminates with a result that has the expected type.
Consequently, given a <a class="reference internal" href="#valid-store"><span class="std std-ref">valid store</span></a>, no computation defined by <a class="reference internal" href="index.html#exec-instantiation"><span class="std std-ref">instantiation</span></a> or <a class="reference internal" href="index.html#exec-invocation"><span class="std std-ref">invocation</span></a> of a valid module can “crash” or otherwise (mis)behave in ways not covered by the <a class="reference internal" href="index.html#exec"><span class="std std-ref">execution</span></a> semantics given in this specification.</p>
<table class="docutils footnote" frame="void" id="cite-pldi2017" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>The formalization and theorems are derived from the following article:
Andreas Haas, Andreas Rossberg, Derek Schuff, Ben Titzer, Dan Gohman, Luke Wagner, Alon Zakai, JF Bastien, Michael Holman. <a class="reference external" href="https://dl.acm.org/citation.cfm?doid=3062341.3062363">Bringing the Web up to Speed with WebAssembly</a>. Proceedings of the 38th ACM SIGPLAN Conference on Programming Language Design and Implementation (PLDI 2017). ACM 2017.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="cite-cpp2018" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id11">[2]</a></td><td>A machine-verified version of the formalization and soundness proof is described in the following article:
Conrad Watt. <a class="reference external" href="https://dl.acm.org/citation.cfm?id=3167082">Mechanising and Verifying the WebAssembly Specification</a>. Proceedings of the 7th ACM SIGPLAN Conference on Certified Programs and Proofs (CPP 2018). ACM 2018.</td></tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="toctree-wrapper compound">
<span id="document-appendix/index-types"></span><div class="section" id="index-of-types">
<span id="index-type"></span><span id="index-0"></span><h3>Index of Types</h3>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="27%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Category</th>
<th class="head">Constructor</th>
<th class="head">Binary Opcode</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="index.html#syntax-typeidx"><span class="std std-ref">Type index</span></a></td>
<td><span class="math notranslate">\(x\)</span></td>
<td>(positive number as <span class="math notranslate">\(\href{#binary-int}{\def\mathdef639#1{{\mathtt{s}#1}}\mathdef639{\mathtt{32}}}\)</span> or <span class="math notranslate">\(\href{#binary-int}{\def\mathdef635#1{{\mathtt{u}#1}}\mathdef635{\mathtt{32}}}\)</span>)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">Value type</span></a></td>
<td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef667#1{\mathtt{0x#1}}\mathdef667{7F}\)</span> (-1 as <span class="math notranslate">\(\href{#binary-int}{\def\mathdef638#1{{\mathtt{s}#1}}\mathdef638{\mathtt{7}}}\)</span>)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">Value type</span></a></td>
<td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef668#1{\mathtt{0x#1}}\mathdef668{7E}\)</span> (-2 as <span class="math notranslate">\(\href{#binary-int}{\def\mathdef638#1{{\mathtt{s}#1}}\mathdef638{\mathtt{7}}}\)</span>)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">Value type</span></a></td>
<td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef669#1{\mathtt{0x#1}}\mathdef669{7D}\)</span> (-3 as <span class="math notranslate">\(\href{#binary-int}{\def\mathdef638#1{{\mathtt{s}#1}}\mathdef638{\mathtt{7}}}\)</span>)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#syntax-valtype"><span class="std std-ref">Value type</span></a></td>
<td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef670#1{\mathtt{0x#1}}\mathdef670{7C}\)</span> (-4 as <span class="math notranslate">\(\href{#binary-int}{\def\mathdef638#1{{\mathtt{s}#1}}\mathdef638{\mathtt{7}}}\)</span>)</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td>&#160;</td>
<td><span class="math notranslate">\(\def\mathdef671#1{\mathtt{0x#1}}\mathdef671{7C}\)</span> .. <span class="math notranslate">\(\def\mathdef672#1{\mathtt{0x#1}}\mathdef672{71}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#syntax-elemtype"><span class="std std-ref">Element type</span></a></td>
<td><span class="math notranslate">\(\href{#syntax-elemtype}{\mathsf{funcref}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef673#1{\mathtt{0x#1}}\mathdef673{70}\)</span> (-16 as <span class="math notranslate">\(\href{#binary-int}{\def\mathdef638#1{{\mathtt{s}#1}}\mathdef638{\mathtt{7}}}\)</span>)</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td>&#160;</td>
<td><span class="math notranslate">\(\def\mathdef674#1{\mathtt{0x#1}}\mathdef674{6F}\)</span> .. <span class="math notranslate">\(\def\mathdef675#1{\mathtt{0x#1}}\mathdef675{61}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#syntax-functype"><span class="std std-ref">Function type</span></a></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathit{valtype}}^\ast] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathit{valtype}}^\ast]\)</span></td>
<td><span class="math notranslate">\(\def\mathdef676#1{\mathtt{0x#1}}\mathdef676{60}\)</span> (-32 as <span class="math notranslate">\(\href{#binary-int}{\def\mathdef638#1{{\mathtt{s}#1}}\mathdef638{\mathtt{7}}}\)</span>)</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td>&#160;</td>
<td><span class="math notranslate">\(\def\mathdef677#1{\mathtt{0x#1}}\mathdef677{5F}\)</span> .. <span class="math notranslate">\(\def\mathdef678#1{\mathtt{0x#1}}\mathdef678{41}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#syntax-resulttype"><span class="std std-ref">Result type</span></a></td>
<td><span class="math notranslate">\([\epsilon]\)</span></td>
<td><span class="math notranslate">\(\def\mathdef679#1{\mathtt{0x#1}}\mathdef679{40}\)</span> (-64 as <span class="math notranslate">\(\href{#binary-int}{\def\mathdef638#1{{\mathtt{s}#1}}\mathdef638{\mathtt{7}}}\)</span>)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#syntax-tabletype"><span class="std std-ref">Table type</span></a></td>
<td><span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}~\href{#syntax-elemtype}{\mathit{elemtype}}\)</span></td>
<td>(none)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#syntax-memtype"><span class="std std-ref">Memory type</span></a></td>
<td><span class="math notranslate">\(\href{#syntax-limits}{\mathit{limits}}\)</span></td>
<td>(none)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#syntax-globaltype"><span class="std std-ref">Global type</span></a></td>
<td><span class="math notranslate">\(\href{#syntax-mut}{\mathit{mut}}~\href{#syntax-valtype}{\mathit{valtype}}\)</span></td>
<td>(none)</td>
</tr>
</tbody>
</table>
</div>
<span id="document-appendix/index-instructions"></span><div class="section" id="index-of-instructions">
<span id="index-instr"></span><span id="index-0"></span><h3>Index of Instructions</h3>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="8%" />
<col width="22%" />
<col width="20%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Instruction</th>
<th class="head">Binary Opcode</th>
<th class="head">Type</th>
<th class="head">Validation</th>
<th class="head">Execution</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{unreachable}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef357#1{\mathtt{0x#1}}\mathdef357{00}\)</span></td>
<td><span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unreachable"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unreachable"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{nop}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef358#1{\mathtt{0x#1}}\mathdef358{01}\)</span></td>
<td><span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-nop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-nop"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{block}}~\mathit{bt}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef359#1{\mathtt{0x#1}}\mathdef359{02}\)</span></td>
<td><span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span></td>
<td><a class="reference internal" href="index.html#valid-block"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-block"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{loop}}~\mathit{bt}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef360#1{\mathtt{0x#1}}\mathdef360{03}\)</span></td>
<td><span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span></td>
<td><a class="reference internal" href="index.html#valid-loop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-loop"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{if}}~\mathit{bt}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef361#1{\mathtt{0x#1}}\mathdef361{04}\)</span></td>
<td><span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span></td>
<td><a class="reference internal" href="index.html#valid-if"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-if"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{else}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef362#1{\mathtt{0x#1}}\mathdef362{05}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef363#1{\mathtt{0x#1}}\mathdef363{06}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef364#1{\mathtt{0x#1}}\mathdef364{07}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef365#1{\mathtt{0x#1}}\mathdef365{08}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef366#1{\mathtt{0x#1}}\mathdef366{09}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef367#1{\mathtt{0x#1}}\mathdef367{0A}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{end}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef368#1{\mathtt{0x#1}}\mathdef368{0B}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br}}~l\)</span></td>
<td><span class="math notranslate">\(\def\mathdef369#1{\mathtt{0x#1}}\mathdef369{0C}\)</span></td>
<td><span class="math notranslate">\([t_1^\ast~t^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span></td>
<td><a class="reference internal" href="index.html#valid-br"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-br"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br\_if}}~l\)</span></td>
<td><span class="math notranslate">\(\def\mathdef370#1{\mathtt{0x#1}}\mathdef370{0D}\)</span></td>
<td><span class="math notranslate">\([t^\ast~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t^\ast]\)</span></td>
<td><a class="reference internal" href="index.html#valid-br-if"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-br-if"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{br\_table}}~l^\ast~l\)</span></td>
<td><span class="math notranslate">\(\def\mathdef371#1{\mathtt{0x#1}}\mathdef371{0E}\)</span></td>
<td><span class="math notranslate">\([t_1^\ast~t^\ast~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span></td>
<td><a class="reference internal" href="index.html#valid-br-table"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-br-table"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{return}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef372#1{\mathtt{0x#1}}\mathdef372{0F}\)</span></td>
<td><span class="math notranslate">\([t_1^\ast~t^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span></td>
<td><a class="reference internal" href="index.html#valid-return"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-return"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{call}}~x\)</span></td>
<td><span class="math notranslate">\(\def\mathdef373#1{\mathtt{0x#1}}\mathdef373{10}\)</span></td>
<td><span class="math notranslate">\([t_1^\ast] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span></td>
<td><a class="reference internal" href="index.html#valid-call"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-call"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-instr-control}{\mathsf{call\_indirect}}~x\)</span></td>
<td><span class="math notranslate">\(\def\mathdef374#1{\mathtt{0x#1}}\mathdef374{11}\)</span></td>
<td><span class="math notranslate">\([t_1^\ast~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t_2^\ast]\)</span></td>
<td><a class="reference internal" href="index.html#valid-call-indirect"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-call-indirect"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef375#1{\mathtt{0x#1}}\mathdef375{12}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef376#1{\mathtt{0x#1}}\mathdef376{13}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef377#1{\mathtt{0x#1}}\mathdef377{14}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef378#1{\mathtt{0x#1}}\mathdef378{15}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef379#1{\mathtt{0x#1}}\mathdef379{16}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef380#1{\mathtt{0x#1}}\mathdef380{17}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef381#1{\mathtt{0x#1}}\mathdef381{18}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef382#1{\mathtt{0x#1}}\mathdef382{19}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{drop}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef383#1{\mathtt{0x#1}}\mathdef383{1A}\)</span></td>
<td><span class="math notranslate">\([t] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-drop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-drop"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-instr-parametric}{\mathsf{select}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef384#1{\mathtt{0x#1}}\mathdef384{1B}\)</span></td>
<td><span class="math notranslate">\([t~t~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [t]\)</span></td>
<td><a class="reference internal" href="index.html#valid-select"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-select"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef385#1{\mathtt{0x#1}}\mathdef385{1C}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef386#1{\mathtt{0x#1}}\mathdef386{1D}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef387#1{\mathtt{0x#1}}\mathdef387{1E}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef388#1{\mathtt{0x#1}}\mathdef388{1F}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.get}}~x\)</span></td>
<td><span class="math notranslate">\(\def\mathdef389#1{\mathtt{0x#1}}\mathdef389{20}\)</span></td>
<td><span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [t]\)</span></td>
<td><a class="reference internal" href="index.html#valid-local-get"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-local-get"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.set}}~x\)</span></td>
<td><span class="math notranslate">\(\def\mathdef390#1{\mathtt{0x#1}}\mathdef390{21}\)</span></td>
<td><span class="math notranslate">\([t] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-local-set"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-local-set"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{local.tee}}~x\)</span></td>
<td><span class="math notranslate">\(\def\mathdef391#1{\mathtt{0x#1}}\mathdef391{22}\)</span></td>
<td><span class="math notranslate">\([t] \href{#syntax-functype}{\rightarrow} [t]\)</span></td>
<td><a class="reference internal" href="index.html#valid-local-tee"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-local-tee"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{global.get}}~x\)</span></td>
<td><span class="math notranslate">\(\def\mathdef392#1{\mathtt{0x#1}}\mathdef392{23}\)</span></td>
<td><span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [t]\)</span></td>
<td><a class="reference internal" href="index.html#valid-global-get"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-global-get"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-instr-variable}{\mathsf{global.set}}~x\)</span></td>
<td><span class="math notranslate">\(\def\mathdef393#1{\mathtt{0x#1}}\mathdef393{24}\)</span></td>
<td><span class="math notranslate">\([t] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-global-set"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-global-set"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef394#1{\mathtt{0x#1}}\mathdef394{25}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef395#1{\mathtt{0x#1}}\mathdef395{26}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>(reserved)</td>
<td><span class="math notranslate">\(\def\mathdef396#1{\mathtt{0x#1}}\mathdef396{27}\)</span></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef397#1{\mathtt{0x#1}}\mathdef397{28}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-load"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-load"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef398#1{\mathtt{0x#1}}\mathdef398{29}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-load"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-load"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-memory}{\mathsf{load}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef399#1{\mathtt{0x#1}}\mathdef399{2A}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-load"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-load"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-memory}{\mathsf{load}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef400#1{\mathtt{0x#1}}\mathdef400{2B}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-load"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-load"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_s}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef401#1{\mathtt{0x#1}}\mathdef401{2C}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-loadn"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_u}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef402#1{\mathtt{0x#1}}\mathdef402{2D}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-loadn"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_s}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef403#1{\mathtt{0x#1}}\mathdef403{2E}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-loadn"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_u}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef404#1{\mathtt{0x#1}}\mathdef404{2F}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-loadn"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_s}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef405#1{\mathtt{0x#1}}\mathdef405{30}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-loadn"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{8\_u}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef406#1{\mathtt{0x#1}}\mathdef406{31}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-loadn"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_s}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef407#1{\mathtt{0x#1}}\mathdef407{32}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-loadn"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{16\_u}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef408#1{\mathtt{0x#1}}\mathdef408{33}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-loadn"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{32\_s}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef409#1{\mathtt{0x#1}}\mathdef409{34}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-loadn"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{load}}\mathsf{32\_u}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef410#1{\mathtt{0x#1}}\mathdef410{35}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-loadn"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-loadn"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{store}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef411#1{\mathtt{0x#1}}\mathdef411{36}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-store"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-store"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef412#1{\mathtt{0x#1}}\mathdef412{37}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-store"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-store"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-memory}{\mathsf{store}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef413#1{\mathtt{0x#1}}\mathdef413{38}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-store"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-store"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-memory}{\mathsf{store}}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef414#1{\mathtt{0x#1}}\mathdef414{39}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-store"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-store"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{8}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef415#1{\mathtt{0x#1}}\mathdef415{3A}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-storen"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-storen"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{16}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef416#1{\mathtt{0x#1}}\mathdef416{3B}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-storen"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-storen"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{8}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef417#1{\mathtt{0x#1}}\mathdef417{3C}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-storen"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-storen"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{16}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef418#1{\mathtt{0x#1}}\mathdef418{3D}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-storen"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-storen"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-memory}{\mathsf{store}}\mathsf{32}~\href{#syntax-memarg}{\mathit{memarg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef419#1{\mathtt{0x#1}}\mathdef419{3E}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} []\)</span></td>
<td><a class="reference internal" href="index.html#valid-storen"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-storen"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{memory.size}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef420#1{\mathtt{0x#1}}\mathdef420{3F}\)</span></td>
<td><span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-memory-size"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-memory-size"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-instr-memory}{\mathsf{memory.grow}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef421#1{\mathtt{0x#1}}\mathdef421{40}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-memory-grow"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-memory-grow"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\href{#syntax-int}{\def\mathdef315#1{{\mathit{i}#1}}\mathdef315{\mathit{32}}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef422#1{\mathtt{0x#1}}\mathdef422{41}\)</span></td>
<td><span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-const"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-const"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\href{#syntax-int}{\def\mathdef316#1{{\mathit{i}#1}}\mathdef316{\mathit{64}}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef423#1{\mathtt{0x#1}}\mathdef423{42}\)</span></td>
<td><span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-const"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-const"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\href{#syntax-float}{\def\mathdef319#1{{\mathit{f}#1}}\mathdef319{\mathit{32}}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef424#1{\mathtt{0x#1}}\mathdef424{43}\)</span></td>
<td><span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-const"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-const"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{const}}~\href{#syntax-float}{\def\mathdef320#1{{\mathit{f}#1}}\mathdef320{\mathit{64}}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef425#1{\mathtt{0x#1}}\mathdef425{44}\)</span></td>
<td><span class="math notranslate">\([] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-const"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-const"><span class="std std-ref">execution</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{eqz}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef426#1{\mathtt{0x#1}}\mathdef426{45}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-testop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-testop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ieqz"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{eq}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef427#1{\mathtt{0x#1}}\mathdef427{46}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ieq"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ne}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef428#1{\mathtt{0x#1}}\mathdef428{47}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ine"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef429#1{\mathtt{0x#1}}\mathdef429{48}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ilt-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef430#1{\mathtt{0x#1}}\mathdef430{49}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ilt-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef431#1{\mathtt{0x#1}}\mathdef431{4A}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-igt-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef432#1{\mathtt{0x#1}}\mathdef432{4B}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-igt-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef433#1{\mathtt{0x#1}}\mathdef433{4C}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ile-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef434#1{\mathtt{0x#1}}\mathdef434{4D}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ile-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef435#1{\mathtt{0x#1}}\mathdef435{4E}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ige-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef436#1{\mathtt{0x#1}}\mathdef436{4F}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ige-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{eqz}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef437#1{\mathtt{0x#1}}\mathdef437{50}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-testop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-testop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ieqz"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{eq}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef438#1{\mathtt{0x#1}}\mathdef438{51}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ieq"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ne}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef439#1{\mathtt{0x#1}}\mathdef439{52}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ine"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef440#1{\mathtt{0x#1}}\mathdef440{53}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ilt-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef441#1{\mathtt{0x#1}}\mathdef441{54}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ilt-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef442#1{\mathtt{0x#1}}\mathdef442{55}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-igt-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef443#1{\mathtt{0x#1}}\mathdef443{56}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-igt-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef444#1{\mathtt{0x#1}}\mathdef444{57}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ile-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{le}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef445#1{\mathtt{0x#1}}\mathdef445{58}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ile-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef446#1{\mathtt{0x#1}}\mathdef446{59}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ige-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef447#1{\mathtt{0x#1}}\mathdef447{5A}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ige-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{eq}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef448#1{\mathtt{0x#1}}\mathdef448{5B}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-feq"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{ne}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef449#1{\mathtt{0x#1}}\mathdef449{5C}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fne"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef450#1{\mathtt{0x#1}}\mathdef450{5D}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-flt"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef451#1{\mathtt{0x#1}}\mathdef451{5E}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fgt"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{le}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef452#1{\mathtt{0x#1}}\mathdef452{5F}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fle"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef453#1{\mathtt{0x#1}}\mathdef453{60}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fge"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{eq}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef454#1{\mathtt{0x#1}}\mathdef454{61}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-feq"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{ne}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef455#1{\mathtt{0x#1}}\mathdef455{62}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fne"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{lt}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef456#1{\mathtt{0x#1}}\mathdef456{63}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-flt"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{gt}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef457#1{\mathtt{0x#1}}\mathdef457{64}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fgt"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{le}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef458#1{\mathtt{0x#1}}\mathdef458{65}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fle"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{ge}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef459#1{\mathtt{0x#1}}\mathdef459{66}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-relop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-relop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fge"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{clz}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef460#1{\mathtt{0x#1}}\mathdef460{67}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-iclz"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{ctz}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef461#1{\mathtt{0x#1}}\mathdef461{68}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ictz"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{popcnt}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef462#1{\mathtt{0x#1}}\mathdef462{69}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ipopcnt"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{add}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef463#1{\mathtt{0x#1}}\mathdef463{6A}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-iadd"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{sub}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef464#1{\mathtt{0x#1}}\mathdef464{6B}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-isub"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{mul}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef465#1{\mathtt{0x#1}}\mathdef465{6C}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-imul"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef466#1{\mathtt{0x#1}}\mathdef466{6D}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-idiv-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef467#1{\mathtt{0x#1}}\mathdef467{6E}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-idiv-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef468#1{\mathtt{0x#1}}\mathdef468{6F}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-irem-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef469#1{\mathtt{0x#1}}\mathdef469{70}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-irem-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{and}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef470#1{\mathtt{0x#1}}\mathdef470{71}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-iand"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{or}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef471#1{\mathtt{0x#1}}\mathdef471{72}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ior"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{xor}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef472#1{\mathtt{0x#1}}\mathdef472{73}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ixor"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{shl}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef473#1{\mathtt{0x#1}}\mathdef473{74}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ishl"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef474#1{\mathtt{0x#1}}\mathdef474{75}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ishr-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef475#1{\mathtt{0x#1}}\mathdef475{76}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ishr-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rotl}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef476#1{\mathtt{0x#1}}\mathdef476{77}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-irotl"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{rotr}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef477#1{\mathtt{0x#1}}\mathdef477{78}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}~\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-irotr"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{clz}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef478#1{\mathtt{0x#1}}\mathdef478{79}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-iclz"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{ctz}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef479#1{\mathtt{0x#1}}\mathdef479{7A}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ictz"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{popcnt}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef480#1{\mathtt{0x#1}}\mathdef480{7B}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ipopcnt"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{add}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef481#1{\mathtt{0x#1}}\mathdef481{7C}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-iadd"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{sub}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef482#1{\mathtt{0x#1}}\mathdef482{7D}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-isub"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{mul}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef483#1{\mathtt{0x#1}}\mathdef483{7E}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-imul"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef484#1{\mathtt{0x#1}}\mathdef484{7F}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-idiv-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{div}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef485#1{\mathtt{0x#1}}\mathdef485{80}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-idiv-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef486#1{\mathtt{0x#1}}\mathdef486{81}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-irem-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rem}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef487#1{\mathtt{0x#1}}\mathdef487{82}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-irem-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{and}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef488#1{\mathtt{0x#1}}\mathdef488{83}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-iand"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{or}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef489#1{\mathtt{0x#1}}\mathdef489{84}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ior"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{xor}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef490#1{\mathtt{0x#1}}\mathdef490{85}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ixor"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{shl}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef491#1{\mathtt{0x#1}}\mathdef491{86}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ishl"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef492#1{\mathtt{0x#1}}\mathdef492{87}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ishr-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{shr}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef493#1{\mathtt{0x#1}}\mathdef493{88}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ishr-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rotl}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef494#1{\mathtt{0x#1}}\mathdef494{89}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-irotl"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{rotr}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef495#1{\mathtt{0x#1}}\mathdef495{8A}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}~\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-irotr"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{abs}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef496#1{\mathtt{0x#1}}\mathdef496{8B}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fabs"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{neg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef497#1{\mathtt{0x#1}}\mathdef497{8C}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fneg"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{ceil}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef498#1{\mathtt{0x#1}}\mathdef498{8D}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fceil"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{floor}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef499#1{\mathtt{0x#1}}\mathdef499{8E}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ffloor"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef500#1{\mathtt{0x#1}}\mathdef500{8F}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ftrunc"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{nearest}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef501#1{\mathtt{0x#1}}\mathdef501{90}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fnearest"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{sqrt}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef502#1{\mathtt{0x#1}}\mathdef502{91}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fsqrt"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{add}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef503#1{\mathtt{0x#1}}\mathdef503{92}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fadd"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{sub}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef504#1{\mathtt{0x#1}}\mathdef504{93}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fsub"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{mul}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef505#1{\mathtt{0x#1}}\mathdef505{94}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fmul"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{div}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef506#1{\mathtt{0x#1}}\mathdef506{95}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fdiv"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{min}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef507#1{\mathtt{0x#1}}\mathdef507{96}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fmin"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{max}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef508#1{\mathtt{0x#1}}\mathdef508{97}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fmax"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{copysign}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef509#1{\mathtt{0x#1}}\mathdef509{98}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}~\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fcopysign"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{abs}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef510#1{\mathtt{0x#1}}\mathdef510{99}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fabs"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{neg}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef511#1{\mathtt{0x#1}}\mathdef511{9A}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fneg"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{ceil}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef512#1{\mathtt{0x#1}}\mathdef512{9B}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fceil"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{floor}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef513#1{\mathtt{0x#1}}\mathdef513{9C}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ffloor"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef514#1{\mathtt{0x#1}}\mathdef514{9D}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-ftrunc"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{nearest}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef515#1{\mathtt{0x#1}}\mathdef515{9E}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fnearest"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{sqrt}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef516#1{\mathtt{0x#1}}\mathdef516{9F}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-unop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-unop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fsqrt"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{add}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef517#1{\mathtt{0x#1}}\mathdef517{A0}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fadd"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{sub}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef518#1{\mathtt{0x#1}}\mathdef518{A1}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fsub"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{mul}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef519#1{\mathtt{0x#1}}\mathdef519{A2}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fmul"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{div}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef520#1{\mathtt{0x#1}}\mathdef520{A3}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fdiv"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{min}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef521#1{\mathtt{0x#1}}\mathdef521{A4}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fmin"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{max}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef522#1{\mathtt{0x#1}}\mathdef522{A5}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fmax"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{copysign}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef523#1{\mathtt{0x#1}}\mathdef523{A6}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}~\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-binop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-binop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-fcopysign"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{wrap}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef524#1{\mathtt{0x#1}}\mathdef524{A7}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-wrap"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef525#1{\mathtt{0x#1}}\mathdef525{A8}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-trunc-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef526#1{\mathtt{0x#1}}\mathdef526{A9}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-trunc-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef527#1{\mathtt{0x#1}}\mathdef527{AA}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-trunc-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef528#1{\mathtt{0x#1}}\mathdef528{AB}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-trunc-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{extend}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef529#1{\mathtt{0x#1}}\mathdef529{AC}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-extend-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{extend}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef530#1{\mathtt{0x#1}}\mathdef530{AD}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-extend-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef531#1{\mathtt{0x#1}}\mathdef531{AE}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-trunc-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef532#1{\mathtt{0x#1}}\mathdef532{AF}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-trunc-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef533#1{\mathtt{0x#1}}\mathdef533{B0}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-trunc-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{trunc}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef534#1{\mathtt{0x#1}}\mathdef534{B1}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-trunc-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef535#1{\mathtt{0x#1}}\mathdef535{B2}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-convert-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef536#1{\mathtt{0x#1}}\mathdef536{B3}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-convert-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef537#1{\mathtt{0x#1}}\mathdef537{B4}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-convert-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef538#1{\mathtt{0x#1}}\mathdef538{B5}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-convert-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{demote}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef539#1{\mathtt{0x#1}}\mathdef539{B6}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-demote"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef540#1{\mathtt{0x#1}}\mathdef540{B7}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-convert-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef541#1{\mathtt{0x#1}}\mathdef541{B8}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-convert-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_s}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef542#1{\mathtt{0x#1}}\mathdef542{B9}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-convert-s"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{convert}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\mathsf{\_u}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef543#1{\mathtt{0x#1}}\mathdef543{BA}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-convert-u"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{promote}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef544#1{\mathtt{0x#1}}\mathdef544{BB}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-promote"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i32}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f32}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef545#1{\mathtt{0x#1}}\mathdef545{BC}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-reinterpret"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{i64}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{f64}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef546#1{\mathtt{0x#1}}\mathdef546{BD}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{f64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{i64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-reinterpret"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-even"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f32}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i32}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef547#1{\mathtt{0x#1}}\mathdef547{BE}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i32}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f32}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-reinterpret"><span class="std std-ref">operator</span></a></td>
</tr>
<tr class="row-odd"><td><span class="math notranslate">\(\href{#syntax-valtype}{\mathsf{f64}}.\href{#syntax-instr-numeric}{\mathsf{reinterpret}}\mathsf{\_}\href{#syntax-valtype}{\mathsf{i64}}\)</span></td>
<td><span class="math notranslate">\(\def\mathdef548#1{\mathtt{0x#1}}\mathdef548{BF}\)</span></td>
<td><span class="math notranslate">\([\href{#syntax-valtype}{\mathsf{i64}}] \href{#syntax-functype}{\rightarrow} [\href{#syntax-valtype}{\mathsf{f64}}]\)</span></td>
<td><a class="reference internal" href="index.html#valid-cvtop"><span class="std std-ref">validation</span></a></td>
<td><a class="reference internal" href="index.html#exec-cvtop"><span class="std std-ref">execution</span></a>, <a class="reference internal" href="index.html#op-reinterpret"><span class="std std-ref">operator</span></a></td>
</tr>
</tbody>
</table>
</div>
<span id="document-appendix/index-rules"></span><div class="section" id="index-of-semantic-rules">
<span id="index-rules"></span><h3>Index of Semantic Rules</h3>
<div class="section" id="typing-of-static-constructs">
<span id="index-valid"></span><span id="index-0"></span><h4>Typing of Static Constructs</h4>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Construct</th>
<th class="head">Judgement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-limits"><span class="std std-ref">Limits</span></a></td>
<td><span class="math notranslate">\(\href{#valid-limits}{\vdash} \href{#syntax-limits}{\mathit{limits}} : k\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-blocktype"><span class="std std-ref">Block type</span></a></td>
<td><span class="math notranslate">\(\href{#valid-blocktype}{\vdash} \href{#syntax-blocktype}{\mathit{blocktype}} \mathrel{\mbox{ok}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-tabletype"><span class="std std-ref">Table type</span></a></td>
<td><span class="math notranslate">\(\href{#valid-tabletype}{\vdash} \href{#syntax-tabletype}{\mathit{tabletype}} \mathrel{\mbox{ok}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-memtype"><span class="std std-ref">Memory type</span></a></td>
<td><span class="math notranslate">\(\href{#valid-memtype}{\vdash} \href{#syntax-memtype}{\mathit{memtype}} \mathrel{\mbox{ok}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-globaltype"><span class="std std-ref">Global type</span></a></td>
<td><span class="math notranslate">\(\href{#valid-globaltype}{\vdash} \href{#syntax-globaltype}{\mathit{globaltype}} \mathrel{\mbox{ok}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-instr"><span class="std std-ref">Instruction</span></a></td>
<td><span class="math notranslate">\(S;C \href{#valid-instr}{\vdash} \href{#syntax-instr}{\mathit{instr}} : \href{#syntax-functype}{\mathit{functype}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-instr-seq"><span class="std std-ref">Instruction sequence</span></a></td>
<td><span class="math notranslate">\(S;C \href{#valid-instr-seq}{\vdash} \href{#syntax-instr}{\mathit{instr}}^\ast : \href{#syntax-functype}{\mathit{functype}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-expr"><span class="std std-ref">Expression</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-expr}{\vdash} \href{#syntax-expr}{\mathit{expr}} : \href{#syntax-resulttype}{\mathit{resulttype}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-func"><span class="std std-ref">Function</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-func}{\vdash} \href{#syntax-func}{\mathit{func}} : \href{#syntax-functype}{\mathit{functype}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-table"><span class="std std-ref">Table</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-table}{\vdash} \href{#syntax-table}{\mathit{table}} : \href{#syntax-tabletype}{\mathit{tabletype}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-mem"><span class="std std-ref">Memory</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-mem}{\vdash} \href{#syntax-mem}{\mathit{mem}} : \href{#syntax-memtype}{\mathit{memtype}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-global"><span class="std std-ref">Global</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-global}{\vdash} \href{#syntax-global}{\mathit{global}} : \href{#syntax-globaltype}{\mathit{globaltype}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-elem"><span class="std std-ref">Element segment</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-elem}{\vdash} \href{#syntax-elem}{\mathit{elem}} \mathrel{\mbox{ok}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-data"><span class="std std-ref">Data segment</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-data}{\vdash} \href{#syntax-data}{\mathit{data}} \mathrel{\mbox{ok}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-start"><span class="std std-ref">Start function</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-start}{\vdash} \href{#syntax-start}{\mathit{start}} \mathrel{\mbox{ok}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-export"><span class="std std-ref">Export</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-export}{\vdash} \href{#syntax-export}{\mathit{export}} : \href{#syntax-externtype}{\mathit{externtype}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-exportdesc"><span class="std std-ref">Export description</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-exportdesc}{\vdash} \href{#syntax-exportdesc}{\mathit{exportdesc}} : \href{#syntax-externtype}{\mathit{externtype}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-import"><span class="std std-ref">Import</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-import}{\vdash} \href{#syntax-import}{\mathit{import}} : \href{#syntax-externtype}{\mathit{externtype}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-importdesc"><span class="std std-ref">Import description</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-importdesc}{\vdash} \href{#syntax-importdesc}{\mathit{importdesc}} : \href{#syntax-externtype}{\mathit{externtype}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-module"><span class="std std-ref">Module</span></a></td>
<td><span class="math notranslate">\(\href{#valid-module}{\vdash} \href{#syntax-module}{\mathit{module}} : \href{#syntax-externtype}{\mathit{externtype}}^\ast \href{#syntax-functype}{\rightarrow} \href{#syntax-externtype}{\mathit{externtype}}^\ast\)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="typing-of-runtime-constructs">
<span id="index-1"></span><h4>Typing of Runtime Constructs</h4>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Construct</th>
<th class="head">Judgement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-val"><span class="std std-ref">Value</span></a></td>
<td><span class="math notranslate">\(\href{#valid-val}{\vdash} \href{#syntax-val}{\mathit{val}} : \href{#syntax-valtype}{\mathit{valtype}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-result"><span class="std std-ref">Result</span></a></td>
<td><span class="math notranslate">\(\href{#valid-result}{\vdash} \href{#syntax-result}{\mathit{result}} : \href{#syntax-resulttype}{\mathit{resulttype}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-externval"><span class="std std-ref">External value</span></a></td>
<td><span class="math notranslate">\(S \href{#valid-externval}{\vdash} \href{#syntax-externval}{\mathit{externval}} : \href{#syntax-externtype}{\mathit{externtype}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-funcinst"><span class="std std-ref">Function instance</span></a></td>
<td><span class="math notranslate">\(S \href{#valid-funcinst}{\vdash} \href{#syntax-funcinst}{\mathit{funcinst}} : \href{#syntax-functype}{\mathit{functype}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-tableinst"><span class="std std-ref">Table instance</span></a></td>
<td><span class="math notranslate">\(S \href{#valid-tableinst}{\vdash} \href{#syntax-tableinst}{\mathit{tableinst}} : \href{#syntax-tabletype}{\mathit{tabletype}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-meminst"><span class="std std-ref">Memory instance</span></a></td>
<td><span class="math notranslate">\(S \href{#valid-meminst}{\vdash} \href{#syntax-meminst}{\mathit{meminst}} : \href{#syntax-memtype}{\mathit{memtype}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-globalinst"><span class="std std-ref">Global instance</span></a></td>
<td><span class="math notranslate">\(S \href{#valid-globalinst}{\vdash} \href{#syntax-globalinst}{\mathit{globalinst}} : \href{#syntax-globaltype}{\mathit{globaltype}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-exportinst"><span class="std std-ref">Export instance</span></a></td>
<td><span class="math notranslate">\(S \href{#valid-exportinst}{\vdash} \href{#syntax-exportinst}{\mathit{exportinst}} \mathrel{\mbox{ok}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-moduleinst"><span class="std std-ref">Module instance</span></a></td>
<td><span class="math notranslate">\(S \href{#valid-moduleinst}{\vdash} \href{#syntax-moduleinst}{\mathit{moduleinst}} : C\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-store"><span class="std std-ref">Store</span></a></td>
<td><span class="math notranslate">\(\href{#valid-store}{\vdash} \href{#syntax-store}{\mathit{store}} \mathrel{\mbox{ok}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-config"><span class="std std-ref">Configuration</span></a></td>
<td><span class="math notranslate">\(\href{#valid-config}{\vdash} \href{#syntax-config}{\mathit{config}} \mathrel{\mbox{ok}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-thread"><span class="std std-ref">Thread</span></a></td>
<td><span class="math notranslate">\(S;\href{#syntax-resulttype}{\mathit{resulttype}}^? \href{#valid-thread}{\vdash} \href{#syntax-thread}{\mathit{thread}} : \href{#syntax-resulttype}{\mathit{resulttype}}\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-frame"><span class="std std-ref">Frame</span></a></td>
<td><span class="math notranslate">\(S \href{#valid-frame}{\vdash} \href{#syntax-frame}{\mathit{frame}} : C\)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="constantness">
<h4>Constantness</h4>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Construct</th>
<th class="head">Judgement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="index.html#valid-constant"><span class="std std-ref">Constant expression</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-constant}{\vdash} \href{#syntax-expr}{\mathit{expr}} \href{#valid-constant}{\mathrel{\mbox{const}}}\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#valid-constant"><span class="std std-ref">Constant instruction</span></a></td>
<td><span class="math notranslate">\(C \href{#valid-constant}{\vdash} \href{#syntax-instr}{\mathit{instr}} \href{#valid-constant}{\mathrel{\mbox{const}}}\)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="import-matching">
<h4>Import Matching</h4>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Construct</th>
<th class="head">Judgement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="index.html#match-limits"><span class="std std-ref">Limits</span></a></td>
<td><span class="math notranslate">\(\href{#match-limits}{\vdash} \href{#syntax-limits}{\mathit{limits}}_1 \href{#match}{\leq} \href{#syntax-limits}{\mathit{limits}}_2\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#match-externtype"><span class="std std-ref">External type</span></a></td>
<td><span class="math notranslate">\(\href{#match-externtype}{\vdash} \href{#syntax-externtype}{\mathit{externtype}}_1 \href{#match}{\leq} \href{#syntax-externtype}{\mathit{externtype}}_2\)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="store-extension">
<h4>Store Extension</h4>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Construct</th>
<th class="head">Judgement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="index.html#extend-funcinst"><span class="std std-ref">Function instance</span></a></td>
<td><span class="math notranslate">\(\href{#extend-funcinst}{\vdash} \href{#syntax-funcinst}{\mathit{funcinst}}_1 \href{#extend}{\preceq} \href{#syntax-funcinst}{\mathit{funcinst}}_2\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#extend-tableinst"><span class="std std-ref">Table instance</span></a></td>
<td><span class="math notranslate">\(\href{#extend-tableinst}{\vdash} \href{#syntax-tableinst}{\mathit{tableinst}}_1 \href{#extend}{\preceq} \href{#syntax-tableinst}{\mathit{tableinst}}_2\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#extend-meminst"><span class="std std-ref">Memory instance</span></a></td>
<td><span class="math notranslate">\(\href{#extend-meminst}{\vdash} \href{#syntax-meminst}{\mathit{meminst}}_1 \href{#extend}{\preceq} \href{#syntax-meminst}{\mathit{meminst}}_2\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#extend-globalinst"><span class="std std-ref">Global instance</span></a></td>
<td><span class="math notranslate">\(\href{#extend-globalinst}{\vdash} \href{#syntax-globalinst}{\mathit{globalinst}}_1 \href{#extend}{\preceq} \href{#syntax-globalinst}{\mathit{globalinst}}_2\)</span></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="index.html#extend-store"><span class="std std-ref">Store</span></a></td>
<td><span class="math notranslate">\(\href{#extend-store}{\vdash} \href{#syntax-store}{\mathit{store}}_1 \href{#extend}{\preceq} \href{#syntax-store}{\mathit{store}}_2\)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="execution">
<h4>Execution</h4>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Construct</th>
<th class="head">Judgement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="index.html#exec-instr"><span class="std std-ref">Instruction</span></a></td>
<td><span class="math notranslate">\(S;F;\href{#syntax-instr}{\mathit{instr}}^\ast \href{#formal-notation}{\hookrightarrow} S';F';{\href{#syntax-instr}{\mathit{instr}}'}^\ast\)</span></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="index.html#exec-expr"><span class="std std-ref">Expression</span></a></td>
<td><span class="math notranslate">\(S;F;\href{#syntax-expr}{\mathit{expr}} \href{#formal-notation}{\hookrightarrow}  S';F';\href{#syntax-expr}{\mathit{expr}}'\)</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<ul class="simple">
<li><a class="reference internal" href="index.html#index-type"><span class="std std-ref">Index of Types</span></a></li>
<li><a class="reference internal" href="index.html#index-instr"><span class="std std-ref">Index of Instructions</span></a></li>
<li><a class="reference internal" href="index.html#index-rules"><span class="std std-ref">Index of Semantic Rules</span></a></li>
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
</ul>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="index.html#document-index">WebAssembly 1.0</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, WebAssembly Community Group.
      Last updated on %F.
    </div>
  </body>
</html>